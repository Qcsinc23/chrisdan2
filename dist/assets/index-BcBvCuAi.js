function _p(o,s){for(var a=0;a<s.length;a++){const d=s[a];if(typeof d!="string"&&!Array.isArray(d)){for(const m in d)if(m!=="default"&&!(m in o)){const p=Object.getOwnPropertyDescriptor(d,m);p&&Object.defineProperty(o,m,p.get?p:{enumerable:!0,get:()=>d[m]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))d(m);new MutationObserver(m=>{for(const p of m)if(p.type==="childList")for(const v of p.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&d(v)}).observe(document,{childList:!0,subtree:!0});function a(m){const p={};return m.integrity&&(p.integrity=m.integrity),m.referrerPolicy&&(p.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?p.credentials="include":m.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function d(m){if(m.ep)return;m.ep=!0;const p=a(m);fetch(m.href,p)}})();var dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ya(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function Sm(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var s=o.default;if(typeof s=="function"){var a=function d(){return this instanceof d?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};a.prototype=s.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(o).forEach(function(d){var m=Object.getOwnPropertyDescriptor(o,d);Object.defineProperty(a,d,m.get?m:{enumerable:!0,get:function(){return o[d]}})}),a}var ad={exports:{}},Fo={},od={exports:{}},ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function Am(){if(t0)return ht;t0=1;var o=Symbol.for("react.element"),s=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),v=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.iterator;function D(Z){return Z===null||typeof Z!="object"?null:(Z=I&&Z[I]||Z["@@iterator"],typeof Z=="function"?Z:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,R={};function F(Z,le,Qe){this.props=Z,this.context=le,this.refs=R,this.updater=Qe||B}F.prototype.isReactComponent={},F.prototype.setState=function(Z,le){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,le,"setState")},F.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function J(){}J.prototype=F.prototype;function K(Z,le,Qe){this.props=Z,this.context=le,this.refs=R,this.updater=Qe||B}var V=K.prototype=new J;V.constructor=K,P(V,F.prototype),V.isPureReactComponent=!0;var ie=Array.isArray,ge=Object.prototype.hasOwnProperty,de={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function W(Z,le,Qe){var Fe,lt={},we=null,vt=null;if(le!=null)for(Fe in le.ref!==void 0&&(vt=le.ref),le.key!==void 0&&(we=""+le.key),le)ge.call(le,Fe)&&!H.hasOwnProperty(Fe)&&(lt[Fe]=le[Fe]);var Xe=arguments.length-2;if(Xe===1)lt.children=Qe;else if(1<Xe){for(var wt=Array(Xe),Xt=0;Xt<Xe;Xt++)wt[Xt]=arguments[Xt+2];lt.children=wt}if(Z&&Z.defaultProps)for(Fe in Xe=Z.defaultProps,Xe)lt[Fe]===void 0&&(lt[Fe]=Xe[Fe]);return{$$typeof:o,type:Z,key:we,ref:vt,props:lt,_owner:de.current}}function $(Z,le){return{$$typeof:o,type:Z.type,key:le,ref:Z.ref,props:Z.props,_owner:Z._owner}}function Se(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===o}function ke(Z){var le={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(Qe){return le[Qe]})}var he=/\/+/g;function ce(Z,le){return typeof Z=="object"&&Z!==null&&Z.key!=null?ke(""+Z.key):le.toString(36)}function _e(Z,le,Qe,Fe,lt){var we=typeof Z;(we==="undefined"||we==="boolean")&&(Z=null);var vt=!1;if(Z===null)vt=!0;else switch(we){case"string":case"number":vt=!0;break;case"object":switch(Z.$$typeof){case o:case s:vt=!0}}if(vt)return vt=Z,lt=lt(vt),Z=Fe===""?"."+ce(vt,0):Fe,ie(lt)?(Qe="",Z!=null&&(Qe=Z.replace(he,"$&/")+"/"),_e(lt,le,Qe,"",function(Xt){return Xt})):lt!=null&&(Se(lt)&&(lt=$(lt,Qe+(!lt.key||vt&&vt.key===lt.key?"":(""+lt.key).replace(he,"$&/")+"/")+Z)),le.push(lt)),1;if(vt=0,Fe=Fe===""?".":Fe+":",ie(Z))for(var Xe=0;Xe<Z.length;Xe++){we=Z[Xe];var wt=Fe+ce(we,Xe);vt+=_e(we,le,Qe,wt,lt)}else if(wt=D(Z),typeof wt=="function")for(Z=wt.call(Z),Xe=0;!(we=Z.next()).done;)we=we.value,wt=Fe+ce(we,Xe++),vt+=_e(we,le,Qe,wt,lt);else if(we==="object")throw le=String(Z),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.");return vt}function ee(Z,le,Qe){if(Z==null)return Z;var Fe=[],lt=0;return _e(Z,Fe,"","",function(we){return le.call(Qe,we,lt++)}),Fe}function Ze(Z){if(Z._status===-1){var le=Z._result;le=le(),le.then(function(Qe){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=Qe)},function(Qe){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=Qe)}),Z._status===-1&&(Z._status=0,Z._result=le)}if(Z._status===1)return Z._result.default;throw Z._result}var Me={current:null},Ne={transition:null},Ie={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:Ne,ReactCurrentOwner:de};function Ae(){throw Error("act(...) is not supported in production builds of React.")}return ht.Children={map:ee,forEach:function(Z,le,Qe){ee(Z,function(){le.apply(this,arguments)},Qe)},count:function(Z){var le=0;return ee(Z,function(){le++}),le},toArray:function(Z){return ee(Z,function(le){return le})||[]},only:function(Z){if(!Se(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},ht.Component=F,ht.Fragment=a,ht.Profiler=m,ht.PureComponent=K,ht.StrictMode=d,ht.Suspense=N,ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ie,ht.act=Ae,ht.cloneElement=function(Z,le,Qe){if(Z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Z+".");var Fe=P({},Z.props),lt=Z.key,we=Z.ref,vt=Z._owner;if(le!=null){if(le.ref!==void 0&&(we=le.ref,vt=de.current),le.key!==void 0&&(lt=""+le.key),Z.type&&Z.type.defaultProps)var Xe=Z.type.defaultProps;for(wt in le)ge.call(le,wt)&&!H.hasOwnProperty(wt)&&(Fe[wt]=le[wt]===void 0&&Xe!==void 0?Xe[wt]:le[wt])}var wt=arguments.length-2;if(wt===1)Fe.children=Qe;else if(1<wt){Xe=Array(wt);for(var Xt=0;Xt<wt;Xt++)Xe[Xt]=arguments[Xt+2];Fe.children=Xe}return{$$typeof:o,type:Z.type,key:lt,ref:we,props:Fe,_owner:vt}},ht.createContext=function(Z){return Z={$$typeof:v,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Z.Provider={$$typeof:p,_context:Z},Z.Consumer=Z},ht.createElement=W,ht.createFactory=function(Z){var le=W.bind(null,Z);return le.type=Z,le},ht.createRef=function(){return{current:null}},ht.forwardRef=function(Z){return{$$typeof:E,render:Z}},ht.isValidElement=Se,ht.lazy=function(Z){return{$$typeof:A,_payload:{_status:-1,_result:Z},_init:Ze}},ht.memo=function(Z,le){return{$$typeof:w,type:Z,compare:le===void 0?null:le}},ht.startTransition=function(Z){var le=Ne.transition;Ne.transition={};try{Z()}finally{Ne.transition=le}},ht.unstable_act=Ae,ht.useCallback=function(Z,le){return Me.current.useCallback(Z,le)},ht.useContext=function(Z){return Me.current.useContext(Z)},ht.useDebugValue=function(){},ht.useDeferredValue=function(Z){return Me.current.useDeferredValue(Z)},ht.useEffect=function(Z,le){return Me.current.useEffect(Z,le)},ht.useId=function(){return Me.current.useId()},ht.useImperativeHandle=function(Z,le,Qe){return Me.current.useImperativeHandle(Z,le,Qe)},ht.useInsertionEffect=function(Z,le){return Me.current.useInsertionEffect(Z,le)},ht.useLayoutEffect=function(Z,le){return Me.current.useLayoutEffect(Z,le)},ht.useMemo=function(Z,le){return Me.current.useMemo(Z,le)},ht.useReducer=function(Z,le,Qe){return Me.current.useReducer(Z,le,Qe)},ht.useRef=function(Z){return Me.current.useRef(Z)},ht.useState=function(Z){return Me.current.useState(Z)},ht.useSyncExternalStore=function(Z,le,Qe){return Me.current.useSyncExternalStore(Z,le,Qe)},ht.useTransition=function(){return Me.current.useTransition()},ht.version="18.3.1",ht}var n0;function Rc(){return n0||(n0=1,od.exports=Am()),od.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0;function _m(){if(r0)return Fo;r0=1;var o=Rc(),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,m=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function v(E,N,w){var A,I={},D=null,B=null;w!==void 0&&(D=""+w),N.key!==void 0&&(D=""+N.key),N.ref!==void 0&&(B=N.ref);for(A in N)d.call(N,A)&&!p.hasOwnProperty(A)&&(I[A]=N[A]);if(E&&E.defaultProps)for(A in N=E.defaultProps,N)I[A]===void 0&&(I[A]=N[A]);return{$$typeof:s,type:E,key:D,ref:B,props:I,_owner:m.current}}return Fo.Fragment=a,Fo.jsx=v,Fo.jsxs=v,Fo}var i0;function Im(){return i0||(i0=1,ad.exports=_m()),ad.exports}var c=Im(),z=Rc();const Ip=Ya(z),Tm=_p({__proto__:null,default:Ip},[z]);var hc={},ld={exports:{}},dr={},cd={exports:{}},ud={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function km(){return s0||(s0=1,function(o){function s(Ne,Ie){var Ae=Ne.length;Ne.push(Ie);e:for(;0<Ae;){var Z=Ae-1>>>1,le=Ne[Z];if(0<m(le,Ie))Ne[Z]=Ie,Ne[Ae]=le,Ae=Z;else break e}}function a(Ne){return Ne.length===0?null:Ne[0]}function d(Ne){if(Ne.length===0)return null;var Ie=Ne[0],Ae=Ne.pop();if(Ae!==Ie){Ne[0]=Ae;e:for(var Z=0,le=Ne.length,Qe=le>>>1;Z<Qe;){var Fe=2*(Z+1)-1,lt=Ne[Fe],we=Fe+1,vt=Ne[we];if(0>m(lt,Ae))we<le&&0>m(vt,lt)?(Ne[Z]=vt,Ne[we]=Ae,Z=we):(Ne[Z]=lt,Ne[Fe]=Ae,Z=Fe);else if(we<le&&0>m(vt,Ae))Ne[Z]=vt,Ne[we]=Ae,Z=we;else break e}}return Ie}function m(Ne,Ie){var Ae=Ne.sortIndex-Ie.sortIndex;return Ae!==0?Ae:Ne.id-Ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;o.unstable_now=function(){return p.now()}}else{var v=Date,E=v.now();o.unstable_now=function(){return v.now()-E}}var N=[],w=[],A=1,I=null,D=3,B=!1,P=!1,R=!1,F=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(Ne){for(var Ie=a(w);Ie!==null;){if(Ie.callback===null)d(w);else if(Ie.startTime<=Ne)d(w),Ie.sortIndex=Ie.expirationTime,s(N,Ie);else break;Ie=a(w)}}function ie(Ne){if(R=!1,V(Ne),!P)if(a(N)!==null)P=!0,Ze(ge);else{var Ie=a(w);Ie!==null&&Me(ie,Ie.startTime-Ne)}}function ge(Ne,Ie){P=!1,R&&(R=!1,J(W),W=-1),B=!0;var Ae=D;try{for(V(Ie),I=a(N);I!==null&&(!(I.expirationTime>Ie)||Ne&&!ke());){var Z=I.callback;if(typeof Z=="function"){I.callback=null,D=I.priorityLevel;var le=Z(I.expirationTime<=Ie);Ie=o.unstable_now(),typeof le=="function"?I.callback=le:I===a(N)&&d(N),V(Ie)}else d(N);I=a(N)}if(I!==null)var Qe=!0;else{var Fe=a(w);Fe!==null&&Me(ie,Fe.startTime-Ie),Qe=!1}return Qe}finally{I=null,D=Ae,B=!1}}var de=!1,H=null,W=-1,$=5,Se=-1;function ke(){return!(o.unstable_now()-Se<$)}function he(){if(H!==null){var Ne=o.unstable_now();Se=Ne;var Ie=!0;try{Ie=H(!0,Ne)}finally{Ie?ce():(de=!1,H=null)}}else de=!1}var ce;if(typeof K=="function")ce=function(){K(he)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,ee=_e.port2;_e.port1.onmessage=he,ce=function(){ee.postMessage(null)}}else ce=function(){F(he,0)};function Ze(Ne){H=Ne,de||(de=!0,ce())}function Me(Ne,Ie){W=F(function(){Ne(o.unstable_now())},Ie)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(Ne){Ne.callback=null},o.unstable_continueExecution=function(){P||B||(P=!0,Ze(ge))},o.unstable_forceFrameRate=function(Ne){0>Ne||125<Ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<Ne?Math.floor(1e3/Ne):5},o.unstable_getCurrentPriorityLevel=function(){return D},o.unstable_getFirstCallbackNode=function(){return a(N)},o.unstable_next=function(Ne){switch(D){case 1:case 2:case 3:var Ie=3;break;default:Ie=D}var Ae=D;D=Ie;try{return Ne()}finally{D=Ae}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(Ne,Ie){switch(Ne){case 1:case 2:case 3:case 4:case 5:break;default:Ne=3}var Ae=D;D=Ne;try{return Ie()}finally{D=Ae}},o.unstable_scheduleCallback=function(Ne,Ie,Ae){var Z=o.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?Z+Ae:Z):Ae=Z,Ne){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=Ae+le,Ne={id:A++,callback:Ie,priorityLevel:Ne,startTime:Ae,expirationTime:le,sortIndex:-1},Ae>Z?(Ne.sortIndex=Ae,s(w,Ne),a(N)===null&&Ne===a(w)&&(R?(J(W),W=-1):R=!0,Me(ie,Ae-Z))):(Ne.sortIndex=le,s(N,Ne),P||B||(P=!0,Ze(ge))),Ne},o.unstable_shouldYield=ke,o.unstable_wrapCallback=function(Ne){var Ie=D;return function(){var Ae=D;D=Ie;try{return Ne.apply(this,arguments)}finally{D=Ae}}}}(ud)),ud}var a0;function jm(){return a0||(a0=1,cd.exports=km()),cd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function Om(){if(o0)return dr;o0=1;var o=Rc(),s=jm();function a(t){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+t,f=1;f<arguments.length;f++)i+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=new Set,m={};function p(t,i){v(t,i),v(t+"Capture",i)}function v(t,i){for(m[t]=i,t=0;t<i.length;t++)d.add(i[t])}var E=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),N=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A={},I={};function D(t){return N.call(I,t)?!0:N.call(A,t)?!1:w.test(t)?I[t]=!0:(A[t]=!0,!1)}function B(t,i,f,x){if(f!==null&&f.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return x?!1:f!==null?!f.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function P(t,i,f,x){if(i===null||typeof i>"u"||B(t,i,f,x))return!0;if(x)return!1;if(f!==null)switch(f.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function R(t,i,f,x,C,S,j){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=x,this.attributeNamespace=C,this.mustUseProperty=f,this.propertyName=t,this.type=i,this.sanitizeURL=S,this.removeEmptyString=j}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){F[t]=new R(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var i=t[0];F[i]=new R(i,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){F[t]=new R(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){F[t]=new R(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){F[t]=new R(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){F[t]=new R(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){F[t]=new R(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){F[t]=new R(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){F[t]=new R(t,5,!1,t.toLowerCase(),null,!1,!1)});var J=/[\-:]([a-z])/g;function K(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var i=t.replace(J,K);F[i]=new R(i,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var i=t.replace(J,K);F[i]=new R(i,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var i=t.replace(J,K);F[i]=new R(i,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){F[t]=new R(t,1,!1,t.toLowerCase(),null,!1,!1)}),F.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){F[t]=new R(t,1,!1,t.toLowerCase(),null,!0,!0)});function V(t,i,f,x){var C=F.hasOwnProperty(i)?F[i]:null;(C!==null?C.type!==0:x||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(P(i,f,C,x)&&(f=null),x||C===null?D(i)&&(f===null?t.removeAttribute(i):t.setAttribute(i,""+f)):C.mustUseProperty?t[C.propertyName]=f===null?C.type===3?!1:"":f:(i=C.attributeName,x=C.attributeNamespace,f===null?t.removeAttribute(i):(C=C.type,f=C===3||C===4&&f===!0?"":""+f,x?t.setAttributeNS(x,i,f):t.setAttribute(i,f))))}var ie=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ge=Symbol.for("react.element"),de=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),Se=Symbol.for("react.provider"),ke=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),Ze=Symbol.for("react.lazy"),Me=Symbol.for("react.offscreen"),Ne=Symbol.iterator;function Ie(t){return t===null||typeof t!="object"?null:(t=Ne&&t[Ne]||t["@@iterator"],typeof t=="function"?t:null)}var Ae=Object.assign,Z;function le(t){if(Z===void 0)try{throw Error()}catch(f){var i=f.stack.trim().match(/\n( *(at )?)/);Z=i&&i[1]||""}return`
`+Z+t}var Qe=!1;function Fe(t,i){if(!t||Qe)return"";Qe=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(oe){var x=oe}Reflect.construct(t,[],i)}else{try{i.call()}catch(oe){x=oe}t.call(i.prototype)}else{try{throw Error()}catch(oe){x=oe}t()}}catch(oe){if(oe&&x&&typeof oe.stack=="string"){for(var C=oe.stack.split(`
`),S=x.stack.split(`
`),j=C.length-1,U=S.length-1;1<=j&&0<=U&&C[j]!==S[U];)U--;for(;1<=j&&0<=U;j--,U--)if(C[j]!==S[U]){if(j!==1||U!==1)do if(j--,U--,0>U||C[j]!==S[U]){var q=`
`+C[j].replace(" at new "," at ");return t.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",t.displayName)),q}while(1<=j&&0<=U);break}}}finally{Qe=!1,Error.prepareStackTrace=f}return(t=t?t.displayName||t.name:"")?le(t):""}function lt(t){switch(t.tag){case 5:return le(t.type);case 16:return le("Lazy");case 13:return le("Suspense");case 19:return le("SuspenseList");case 0:case 2:case 15:return t=Fe(t.type,!1),t;case 11:return t=Fe(t.type.render,!1),t;case 1:return t=Fe(t.type,!0),t;default:return""}}function we(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case de:return"Portal";case $:return"Profiler";case W:return"StrictMode";case ce:return"Suspense";case _e:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ke:return(t.displayName||"Context")+".Consumer";case Se:return(t._context.displayName||"Context")+".Provider";case he:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ee:return i=t.displayName||null,i!==null?i:we(t.type)||"Memo";case Ze:i=t._payload,t=t._init;try{return we(t(i))}catch{}}return null}function vt(t){var i=t.type;switch(t.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=i.render,t=t.displayName||t.name||"",i.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(i);case 8:return i===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Xe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wt(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Xt(t){var i=wt(t)?"checked":"value",f=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),x=""+t[i];if(!t.hasOwnProperty(i)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var C=f.get,S=f.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return C.call(this)},set:function(j){x=""+j,S.call(this,j)}}),Object.defineProperty(t,i,{enumerable:f.enumerable}),{getValue:function(){return x},setValue:function(j){x=""+j},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function $t(t){t._valueTracker||(t._valueTracker=Xt(t))}function tr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var f=i.getValue(),x="";return t&&(x=wt(t)?t.checked?"true":"false":t.value),t=x,t!==f?(i.setValue(t),!0):!1}function ct(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fr(t,i){var f=i.checked;return Ae({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??t._wrapperState.initialChecked})}function Bn(t,i){var f=i.defaultValue==null?"":i.defaultValue,x=i.checked!=null?i.checked:i.defaultChecked;f=Xe(i.value!=null?i.value:f),t._wrapperState={initialChecked:x,initialValue:f,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Hr(t,i){i=i.checked,i!=null&&V(t,"checked",i,!1)}function jt(t,i){Hr(t,i);var f=Xe(i.value),x=i.type;if(f!=null)x==="number"?(f===0&&t.value===""||t.value!=f)&&(t.value=""+f):t.value!==""+f&&(t.value=""+f);else if(x==="submit"||x==="reset"){t.removeAttribute("value");return}i.hasOwnProperty("value")?rt(t,i.type,f):i.hasOwnProperty("defaultValue")&&rt(t,i.type,Xe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(t.defaultChecked=!!i.defaultChecked)}function bt(t,i,f){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var x=i.type;if(!(x!=="submit"&&x!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+t._wrapperState.initialValue,f||i===t.value||(t.value=i),t.defaultValue=i}f=t.name,f!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,f!==""&&(t.name=f)}function rt(t,i,f){(i!=="number"||ct(t.ownerDocument)!==t)&&(f==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+f&&(t.defaultValue=""+f))}var $n=Array.isArray;function je(t,i,f,x){if(t=t.options,i){i={};for(var C=0;C<f.length;C++)i["$"+f[C]]=!0;for(f=0;f<t.length;f++)C=i.hasOwnProperty("$"+t[f].value),t[f].selected!==C&&(t[f].selected=C),C&&x&&(t[f].defaultSelected=!0)}else{for(f=""+Xe(f),i=null,C=0;C<t.length;C++){if(t[C].value===f){t[C].selected=!0,x&&(t[C].defaultSelected=!0);return}i!==null||t[C].disabled||(i=t[C])}i!==null&&(i.selected=!0)}}function ni(t,i){if(i.dangerouslySetInnerHTML!=null)throw Error(a(91));return Ae({},i,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vs(t,i){var f=i.value;if(f==null){if(f=i.children,i=i.defaultValue,f!=null){if(i!=null)throw Error(a(92));if($n(f)){if(1<f.length)throw Error(a(93));f=f[0]}i=f}i==null&&(i=""),f=i}t._wrapperState={initialValue:Xe(f)}}function Ee(t,i){var f=Xe(i.value),x=Xe(i.defaultValue);f!=null&&(f=""+f,f!==t.value&&(t.value=f),i.defaultValue==null&&t.defaultValue!==f&&(t.defaultValue=f)),x!=null&&(t.defaultValue=""+x)}function Ve(t){var i=t.textContent;i===t._wrapperState.initialValue&&i!==""&&i!==null&&(t.value=i)}function gt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wt(t,i){return t==null||t==="http://www.w3.org/1999/xhtml"?gt(i):t==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dt,Kt=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,f,x,C){MSApp.execUnsafeLocalFunction(function(){return t(i,f,x,C)})}:t}(function(t,i){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=i;else{for(Dt=Dt||document.createElement("div"),Dt.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Dt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;i.firstChild;)t.appendChild(i.firstChild)}});function Kn(t,i){if(i){var f=t.firstChild;if(f&&f===t.lastChild&&f.nodeType===3){f.nodeValue=i;return}}t.textContent=i}var nr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ws=["Webkit","ms","Moz","O"];Object.keys(nr).forEach(function(t){ws.forEach(function(i){i=i+t.charAt(0).toUpperCase()+t.substring(1),nr[i]=nr[t]})});function Mt(t,i,f){return i==null||typeof i=="boolean"||i===""?"":f||typeof i!="number"||i===0||nr.hasOwnProperty(t)&&nr[t]?(""+i).trim():i+"px"}function Ce(t,i){t=t.style;for(var f in i)if(i.hasOwnProperty(f)){var x=f.indexOf("--")===0,C=Mt(f,i[f],x);f==="float"&&(f="cssFloat"),x?t.setProperty(f,C):t[f]=C}}var Vt=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xt(t,i){if(i){if(Vt[t]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(a(137,t));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(a(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(a(61))}if(i.style!=null&&typeof i.style!="object")throw Error(a(62))}}function At(t,i){if(t.indexOf("-")===-1)return typeof i.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pr=null;function pi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var na=null,dt=null,rr=null;function Za(t){if(t=No(t)){if(typeof na!="function")throw Error(a(280));var i=t.stateNode;i&&(i=Al(i),na(t.stateNode,t.type,i))}}function Ja(t){dt?rr?rr.push(t):rr=[t]:dt=t}function ir(){if(dt){var t=dt,i=rr;if(rr=dt=null,Za(t),i)for(t=0;t<i.length;t++)Za(i[t])}}function ra(t,i){return t(i)}function yn(){}var ri=!1;function bs(t,i,f){if(ri)return t(i,f);ri=!0;try{return ra(t,i,f)}finally{ri=!1,(dt!==null||rr!==null)&&(yn(),ir())}}function Fn(t,i){var f=t.stateNode;if(f===null)return null;var x=Al(f);if(x===null)return null;f=x[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(t=t.type,x=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!x;break e;default:t=!1}if(t)return null;if(f&&typeof f!="function")throw Error(a(231,i,typeof f));return f}var eo=!1;if(E)try{var mr={};Object.defineProperty(mr,"passive",{get:function(){eo=!0}}),window.addEventListener("test",mr,mr),window.removeEventListener("test",mr,mr)}catch{eo=!1}function to(t,i,f,x,C,S,j,U,q){var oe=Array.prototype.slice.call(arguments,3);try{i.apply(f,oe)}catch(me){this.onError(me)}}var gn=!1,kr=null,On=!1,Te=null,Ri={onError:function(t){gn=!0,kr=t}};function no(t,i,f,x,C,S,j,U,q){gn=!1,kr=null,to.apply(Ri,arguments)}function Un(t,i,f,x,C,S,j,U,q){if(no.apply(this,arguments),gn){if(gn){var oe=kr;gn=!1,kr=null}else throw Error(a(198));On||(On=!0,Te=oe)}}function sr(t){var i=t,f=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(f=i.return),t=i.return;while(t)}return i.tag===3?f:null}function Cs(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function Es(t){if(sr(t)!==t)throw Error(a(188))}function jr(t){var i=t.alternate;if(!i){if(i=sr(t),i===null)throw Error(a(188));return i!==t?null:t}for(var f=t,x=i;;){var C=f.return;if(C===null)break;var S=C.alternate;if(S===null){if(x=C.return,x!==null){f=x;continue}break}if(C.child===S.child){for(S=C.child;S;){if(S===f)return Es(C),t;if(S===x)return Es(C),i;S=S.sibling}throw Error(a(188))}if(f.return!==x.return)f=C,x=S;else{for(var j=!1,U=C.child;U;){if(U===f){j=!0,f=C,x=S;break}if(U===x){j=!0,x=C,f=S;break}U=U.sibling}if(!j){for(U=S.child;U;){if(U===f){j=!0,f=S,x=C;break}if(U===x){j=!0,x=S,f=C;break}U=U.sibling}if(!j)throw Error(a(189))}}if(f.alternate!==x)throw Error(a(190))}if(f.tag!==3)throw Error(a(188));return f.stateNode.current===f?t:i}function sl(t){return t=jr(t),t!==null?al(t):null}function al(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var i=al(t);if(i!==null)return i;t=t.sibling}return null}var gr=s.unstable_scheduleCallback,Sn=s.unstable_cancelCallback,Bt=s.unstable_shouldYield,ol=s.unstable_requestPaint,_t=s.unstable_now,ro=s.unstable_getCurrentPriorityLevel,ue=s.unstable_ImmediatePriority,ll=s.unstable_UserBlockingPriority,Rt=s.unstable_NormalPriority,Pi=s.unstable_LowPriority,cl=s.unstable_IdlePriority,yt=null,it=null;function ft(t){if(it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(yt,t,void 0,(t.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:dn,io=Math.log,so=Math.LN2;function dn(t){return t>>>=0,t===0?32:31-(io(t)/so|0)|0}var xr=64,ia=4194304;function Pt(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yr(t,i){var f=t.pendingLanes;if(f===0)return 0;var x=0,C=t.suspendedLanes,S=t.pingedLanes,j=f&268435455;if(j!==0){var U=j&~C;U!==0?x=Pt(U):(S&=j,S!==0&&(x=Pt(S)))}else j=f&~C,j!==0?x=Pt(j):S!==0&&(x=Pt(S));if(x===0)return 0;if(i!==0&&i!==x&&(i&C)===0&&(C=x&-x,S=i&-i,C>=S||C===16&&(S&4194240)!==0))return i;if((x&4)!==0&&(x|=f&16),i=t.entangledLanes,i!==0)for(t=t.entanglements,i&=x;0<i;)f=31-Qn(i),C=1<<f,x|=t[f],i&=~C;return x}function Uc(t,i){switch(t){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Li(t,i){for(var f=t.suspendedLanes,x=t.pingedLanes,C=t.expirationTimes,S=t.pendingLanes;0<S;){var j=31-Qn(S),U=1<<j,q=C[j];q===-1?((U&f)===0||(U&x)!==0)&&(C[j]=Uc(U,i)):q<=i&&(t.expiredLanes|=U),S&=~U}}function It(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vn(){var t=xr;return xr<<=1,(xr&4194240)===0&&(xr=64),t}function te(t){for(var i=[],f=0;31>f;f++)i.push(t);return i}function M(t,i,f){t.pendingLanes|=i,i!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,i=31-Qn(i),t[i]=f}function ze(t,i){var f=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;var x=t.eventTimes;for(t=t.expirationTimes;0<f;){var C=31-Qn(f),S=1<<C;i[C]=0,x[C]=-1,t[C]=-1,f&=~S}}function an(t,i){var f=t.entangledLanes|=i;for(t=t.entanglements;f;){var x=31-Qn(f),C=1<<x;C&i|t[x]&i&&(t[x]|=i),f&=~C}}var st=0;function ul(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var sa,zn,We,Ft,ao,oo=!1,Bi=[],vr=null,Or=null,ii=null,Qt=new Map,Wr=new Map,Dn=[],$e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dl(t,i){switch(t){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":Qt.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wr.delete(i.pointerId)}}function et(t,i,f,x,C,S){return t===null||t.nativeEvent!==S?(t={blockedOn:i,domEventName:f,eventSystemFlags:x,nativeEvent:S,targetContainers:[C]},i!==null&&(i=No(i),i!==null&&zn(i)),t):(t.eventSystemFlags|=x,i=t.targetContainers,C!==null&&i.indexOf(C)===-1&&i.push(C),t)}function wn(t,i,f,x,C){switch(i){case"focusin":return vr=et(vr,t,i,f,x,C),!0;case"dragenter":return Or=et(Or,t,i,f,x,C),!0;case"mouseover":return ii=et(ii,t,i,f,x,C),!0;case"pointerover":var S=C.pointerId;return Qt.set(S,et(Qt.get(S)||null,t,i,f,x,C)),!0;case"gotpointercapture":return S=C.pointerId,Wr.set(S,et(Wr.get(S)||null,t,i,f,x,C)),!0}return!1}function hl(t){var i=Ds(t.target);if(i!==null){var f=sr(i);if(f!==null){if(i=f.tag,i===13){if(i=Cs(f),i!==null){t.blockedOn=i,ao(t.priority,function(){We(f)});return}}else if(i===3&&f.stateNode.current.memoizedState.isDehydrated){t.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fi(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var f=aa(t.domEventName,t.eventSystemFlags,i[0],t.nativeEvent);if(f===null){f=t.nativeEvent;var x=new f.constructor(f.type,f);pr=x,f.target.dispatchEvent(x),pr=null}else return i=No(f),i!==null&&zn(i),t.blockedOn=f,!1;i.shift()}return!0}function lo(t,i,f){Fi(t)&&f.delete(i)}function mi(){oo=!1,vr!==null&&Fi(vr)&&(vr=null),Or!==null&&Fi(Or)&&(Or=null),ii!==null&&Fi(ii)&&(ii=null),Qt.forEach(lo),Wr.forEach(lo)}function Ns(t,i){t.blockedOn===i&&(t.blockedOn=null,oo||(oo=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,mi)))}function Vr(t){function i(C){return Ns(C,t)}if(0<Bi.length){Ns(Bi[0],t);for(var f=1;f<Bi.length;f++){var x=Bi[f];x.blockedOn===t&&(x.blockedOn=null)}}for(vr!==null&&Ns(vr,t),Or!==null&&Ns(Or,t),ii!==null&&Ns(ii,t),Qt.forEach(i),Wr.forEach(i),f=0;f<Dn.length;f++)x=Dn[f],x.blockedOn===t&&(x.blockedOn=null);for(;0<Dn.length&&(f=Dn[0],f.blockedOn===null);)hl(f),f.blockedOn===null&&Dn.shift()}var Dr=ie.ReactCurrentBatchConfig,si=!0;function fl(t,i,f,x){var C=st,S=Dr.transition;Dr.transition=null;try{st=1,gi(t,i,f,x)}finally{st=C,Dr.transition=S}}function Ss(t,i,f,x){var C=st,S=Dr.transition;Dr.transition=null;try{st=4,gi(t,i,f,x)}finally{st=C,Dr.transition=S}}function gi(t,i,f,x){if(si){var C=aa(t,i,f,x);if(C===null)Kc(t,i,x,bn,f),dl(t,x);else if(wn(C,t,i,f,x))x.stopPropagation();else if(dl(t,x),i&4&&-1<$e.indexOf(t)){for(;C!==null;){var S=No(C);if(S!==null&&sa(S),S=aa(t,i,f,x),S===null&&Kc(t,i,x,bn,f),S===C)break;C=S}C!==null&&x.stopPropagation()}else Kc(t,i,x,null,f)}}var bn=null;function aa(t,i,f,x){if(bn=null,t=pi(x),t=Ds(t),t!==null)if(i=sr(t),i===null)t=null;else if(f=i.tag,f===13){if(t=Cs(i),t!==null)return t;t=null}else if(f===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null);return bn=t,null}function co(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ro()){case ue:return 1;case ll:return 4;case Rt:case Pi:return 16;case cl:return 536870912;default:return 16}default:return 16}}var Gr=null,uo=null,oa=null;function pl(){if(oa)return oa;var t,i=uo,f=i.length,x,C="value"in Gr?Gr.value:Gr.textContent,S=C.length;for(t=0;t<f&&i[t]===C[t];t++);var j=f-t;for(x=1;x<=j&&i[f-x]===C[S-x];x++);return oa=C.slice(t,1<x?1-x:void 0)}function Ct(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function As(){return!0}function _s(){return!1}function on(t){function i(f,x,C,S,j){this._reactName=f,this._targetInst=C,this.type=x,this.nativeEvent=S,this.target=j,this.currentTarget=null;for(var U in t)t.hasOwnProperty(U)&&(f=t[U],this[U]=f?f(S):S[U]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?As:_s,this.isPropagationStopped=_s,this}return Ae(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),i}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ae=on(Ui),nt=Ae({},Ui,{view:0,detail:0}),Cn=on(nt),zi,la,Is,ca=Ae({},nt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Is&&(Is&&t.type==="mousemove"?(zi=t.screenX-Is.screenX,la=t.screenY-Is.screenY):la=zi=0,Is=t),zi)},movementY:function(t){return"movementY"in t?t.movementY:la}}),ml=on(ca),ho=Ae({},ca,{dataTransfer:0}),hn=on(ho),fo=Ae({},nt,{relatedTarget:0}),Ut=on(fo),ua=Ae({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),xi=on(ua),Tt=Ae({},Ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ge=on(Tt),zc=Ae({},Ui,{data:0}),Ot=on(zc),yi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mr(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Hc[t])?!!i[t]:!1}function Ts(){return Mr}var gl=Ae({},nt,{key:function(t){if(t.key){var i=yi[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ct(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(t){return t.type==="keypress"?Ct(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ct(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),po=on(gl),xl=Ae({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mo=on(xl),Wc=Ae({},nt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),Wi=on(Wc),go=Ae({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vc=on(go),ks=Ae({},ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gc=on(ks),ai=[9,13,27,32],Vi=E&&"CompositionEvent"in window,An=null;E&&"documentMode"in document&&(An=document.documentMode);var yl=E&&"TextEvent"in window&&!An,wr=E&&(!Vi||An&&8<An&&11>=An),vl=" ",da=!1;function wl(t,i){switch(t){case"keyup":return ai.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mn=!1;function qc(t,i){switch(t){case"compositionend":return xo(i);case"keypress":return i.which!==32?null:(da=!0,vl);case"textInput":return t=i.data,t===vl&&da?null:t;default:return null}}function yo(t,i){if(Mn)return t==="compositionend"||!Vi&&wl(t,i)?(t=pl(),oa=uo=Gr=null,Mn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return wr&&i.locale!=="ko"?null:i.data;default:return null}}var js={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!js[t.type]:i==="textarea"}function Os(t,i,f,x){Ja(x),i=El(i,"onChange"),0<i.length&&(f=new ae("onChange","change",null,f,x),t.push({event:f,listeners:i}))}var T=null,e=null;function n(t){gh(t,0)}function r(t){var i=pa(t);if(tr(i))return t}function l(t,i){if(t==="change")return i}var u=!1;if(E){var h;if(E){var g="oninput"in document;if(!g){var y=document.createElement("div");y.setAttribute("oninput","return;"),g=typeof y.oninput=="function"}h=g}else h=!1;u=h&&(!document.documentMode||9<document.documentMode)}function b(){T&&(T.detachEvent("onpropertychange",_),e=T=null)}function _(t){if(t.propertyName==="value"&&r(e)){var i=[];Os(i,e,t,pi(t)),bs(n,i)}}function k(t,i,f){t==="focusin"?(b(),T=i,e=f,T.attachEvent("onpropertychange",_)):t==="focusout"&&b()}function O(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return r(e)}function L(t,i){if(t==="click")return r(i)}function G(t,i){if(t==="input"||t==="change")return r(i)}function Y(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Q=typeof Object.is=="function"?Object.is:Y;function se(t,i){if(Q(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var f=Object.keys(t),x=Object.keys(i);if(f.length!==x.length)return!1;for(x=0;x<f.length;x++){var C=f[x];if(!N.call(i,C)||!Q(t[C],i[C]))return!1}return!0}function ye(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ve(t,i){var f=ye(t);t=0;for(var x;f;){if(f.nodeType===3){if(x=t+f.textContent.length,t<=i&&x>=i)return{node:f,offset:i-t};t=x}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=ye(f)}}function pe(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?pe(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ut(){for(var t=window,i=ct();i instanceof t.HTMLIFrameElement;){try{var f=typeof i.contentWindow.location.href=="string"}catch{f=!1}if(f)t=i.contentWindow;else break;i=ct(t.document)}return i}function tt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function Hn(t){var i=ut(),f=t.focusedElem,x=t.selectionRange;if(i!==f&&f&&f.ownerDocument&&pe(f.ownerDocument.documentElement,f)){if(x!==null&&tt(f)){if(i=x.start,t=x.end,t===void 0&&(t=i),"selectionStart"in f)f.selectionStart=i,f.selectionEnd=Math.min(t,f.value.length);else if(t=(i=f.ownerDocument||document)&&i.defaultView||window,t.getSelection){t=t.getSelection();var C=f.textContent.length,S=Math.min(x.start,C);x=x.end===void 0?S:Math.min(x.end,C),!t.extend&&S>x&&(C=x,x=S,S=C),C=ve(f,S);var j=ve(f,x);C&&j&&(t.rangeCount!==1||t.anchorNode!==C.node||t.anchorOffset!==C.offset||t.focusNode!==j.node||t.focusOffset!==j.offset)&&(i=i.createRange(),i.setStart(C.node,C.offset),t.removeAllRanges(),S>x?(t.addRange(i),t.extend(j.node,j.offset)):(i.setEnd(j.node,j.offset),t.addRange(i)))}}for(i=[],t=f;t=t.parentNode;)t.nodeType===1&&i.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<i.length;f++)t=i[f],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var br=E&&"documentMode"in document&&11>=document.documentMode,fn=null,St=null,Jt=null,Rn=!1;function vi(t,i,f){var x=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Rn||fn==null||fn!==ct(x)||(x=fn,"selectionStart"in x&&tt(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Jt&&se(Jt,x)||(Jt=x,x=El(St,"onSelect"),0<x.length&&(i=new ae("onSelect","select",null,i,f),t.push({event:i,listeners:x}),i.target=fn)))}function qr(t,i){var f={};return f[t.toLowerCase()]=i.toLowerCase(),f["Webkit"+t]="webkit"+i,f["Moz"+t]="moz"+i,f}var Gi={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionend:qr("Transition","TransitionEnd")},vo={},lh={};E&&(lh=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function bl(t){if(vo[t])return vo[t];if(!Gi[t])return t;var i=Gi[t],f;for(f in i)if(i.hasOwnProperty(f)&&f in lh)return vo[t]=i[f];return t}var ch=bl("animationend"),uh=bl("animationiteration"),dh=bl("animationstart"),hh=bl("transitionend"),fh=new Map,ph="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qi(t,i){fh.set(t,i),p(i,[t])}for(var Yc=0;Yc<ph.length;Yc++){var Xc=ph[Yc],M1=Xc.toLowerCase(),R1=Xc[0].toUpperCase()+Xc.slice(1);qi(M1,"on"+R1)}qi(ch,"onAnimationEnd"),qi(uh,"onAnimationIteration"),qi(dh,"onAnimationStart"),qi("dblclick","onDoubleClick"),qi("focusin","onFocus"),qi("focusout","onBlur"),qi(hh,"onTransitionEnd"),v("onMouseEnter",["mouseout","mouseover"]),v("onMouseLeave",["mouseout","mouseover"]),v("onPointerEnter",["pointerout","pointerover"]),v("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P1=new Set("cancel close invalid load scroll toggle".split(" ").concat(wo));function mh(t,i,f){var x=t.type||"unknown-event";t.currentTarget=f,Un(x,i,void 0,t),t.currentTarget=null}function gh(t,i){i=(i&4)!==0;for(var f=0;f<t.length;f++){var x=t[f],C=x.event;x=x.listeners;e:{var S=void 0;if(i)for(var j=x.length-1;0<=j;j--){var U=x[j],q=U.instance,oe=U.currentTarget;if(U=U.listener,q!==S&&C.isPropagationStopped())break e;mh(C,U,oe),S=q}else for(j=0;j<x.length;j++){if(U=x[j],q=U.instance,oe=U.currentTarget,U=U.listener,q!==S&&C.isPropagationStopped())break e;mh(C,U,oe),S=q}}}if(On)throw t=Te,On=!1,Te=null,t}function Gt(t,i){var f=i[nu];f===void 0&&(f=i[nu]=new Set);var x=t+"__bubble";f.has(x)||(xh(i,t,2,!1),f.add(x))}function $c(t,i,f){var x=0;i&&(x|=4),xh(f,t,x,i)}var Cl="_reactListening"+Math.random().toString(36).slice(2);function bo(t){if(!t[Cl]){t[Cl]=!0,d.forEach(function(f){f!=="selectionchange"&&(P1.has(f)||$c(f,!1,t),$c(f,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Cl]||(i[Cl]=!0,$c("selectionchange",!1,i))}}function xh(t,i,f,x){switch(co(i)){case 1:var C=fl;break;case 4:C=Ss;break;default:C=gi}f=C.bind(null,i,f,t),C=void 0,!eo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(C=!0),x?C!==void 0?t.addEventListener(i,f,{capture:!0,passive:C}):t.addEventListener(i,f,!0):C!==void 0?t.addEventListener(i,f,{passive:C}):t.addEventListener(i,f,!1)}function Kc(t,i,f,x,C){var S=x;if((i&1)===0&&(i&2)===0&&x!==null)e:for(;;){if(x===null)return;var j=x.tag;if(j===3||j===4){var U=x.stateNode.containerInfo;if(U===C||U.nodeType===8&&U.parentNode===C)break;if(j===4)for(j=x.return;j!==null;){var q=j.tag;if((q===3||q===4)&&(q=j.stateNode.containerInfo,q===C||q.nodeType===8&&q.parentNode===C))return;j=j.return}for(;U!==null;){if(j=Ds(U),j===null)return;if(q=j.tag,q===5||q===6){x=S=j;continue e}U=U.parentNode}}x=x.return}bs(function(){var oe=S,me=pi(f),xe=[];e:{var fe=fh.get(t);if(fe!==void 0){var Oe=ae,Le=t;switch(t){case"keypress":if(Ct(f)===0)break e;case"keydown":case"keyup":Oe=po;break;case"focusin":Le="focus",Oe=Ut;break;case"focusout":Le="blur",Oe=Ut;break;case"beforeblur":case"afterblur":Oe=Ut;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=Wi;break;case ch:case uh:case dh:Oe=xi;break;case hh:Oe=Vc;break;case"scroll":Oe=Cn;break;case"wheel":Oe=Gc;break;case"copy":case"cut":case"paste":Oe=Ge;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=mo}var Be=(i&4)!==0,pn=!Be&&t==="scroll",ne=Be?fe!==null?fe+"Capture":null:fe;Be=[];for(var X=oe,re;X!==null;){re=X;var be=re.stateNode;if(re.tag===5&&be!==null&&(re=be,ne!==null&&(be=Fn(X,ne),be!=null&&Be.push(Co(X,be,re)))),pn)break;X=X.return}0<Be.length&&(fe=new Oe(fe,Le,null,f,me),xe.push({event:fe,listeners:Be}))}}if((i&7)===0){e:{if(fe=t==="mouseover"||t==="pointerover",Oe=t==="mouseout"||t==="pointerout",fe&&f!==pr&&(Le=f.relatedTarget||f.fromElement)&&(Ds(Le)||Le[wi]))break e;if((Oe||fe)&&(fe=me.window===me?me:(fe=me.ownerDocument)?fe.defaultView||fe.parentWindow:window,Oe?(Le=f.relatedTarget||f.toElement,Oe=oe,Le=Le?Ds(Le):null,Le!==null&&(pn=sr(Le),Le!==pn||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(Oe=null,Le=oe),Oe!==Le)){if(Be=ml,be="onMouseLeave",ne="onMouseEnter",X="mouse",(t==="pointerout"||t==="pointerover")&&(Be=mo,be="onPointerLeave",ne="onPointerEnter",X="pointer"),pn=Oe==null?fe:pa(Oe),re=Le==null?fe:pa(Le),fe=new Be(be,X+"leave",Oe,f,me),fe.target=pn,fe.relatedTarget=re,be=null,Ds(me)===oe&&(Be=new Be(ne,X+"enter",Le,f,me),Be.target=re,Be.relatedTarget=pn,be=Be),pn=be,Oe&&Le)t:{for(Be=Oe,ne=Le,X=0,re=Be;re;re=ha(re))X++;for(re=0,be=ne;be;be=ha(be))re++;for(;0<X-re;)Be=ha(Be),X--;for(;0<re-X;)ne=ha(ne),re--;for(;X--;){if(Be===ne||ne!==null&&Be===ne.alternate)break t;Be=ha(Be),ne=ha(ne)}Be=null}else Be=null;Oe!==null&&yh(xe,fe,Oe,Be,!1),Le!==null&&pn!==null&&yh(xe,pn,Le,Be,!0)}}e:{if(fe=oe?pa(oe):window,Oe=fe.nodeName&&fe.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&fe.type==="file")var Ue=l;else if(mt(fe))if(u)Ue=G;else{Ue=O;var qe=k}else(Oe=fe.nodeName)&&Oe.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Ue=L);if(Ue&&(Ue=Ue(t,oe))){Os(xe,Ue,f,me);break e}qe&&qe(t,fe,oe),t==="focusout"&&(qe=fe._wrapperState)&&qe.controlled&&fe.type==="number"&&rt(fe,"number",fe.value)}switch(qe=oe?pa(oe):window,t){case"focusin":(mt(qe)||qe.contentEditable==="true")&&(fn=qe,St=oe,Jt=null);break;case"focusout":Jt=St=fn=null;break;case"mousedown":Rn=!0;break;case"contextmenu":case"mouseup":case"dragend":Rn=!1,vi(xe,f,me);break;case"selectionchange":if(br)break;case"keydown":case"keyup":vi(xe,f,me)}var Ye;if(Vi)e:{switch(t){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Mn?wl(t,f)&&(Je="onCompositionEnd"):t==="keydown"&&f.keyCode===229&&(Je="onCompositionStart");Je&&(wr&&f.locale!=="ko"&&(Mn||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Mn&&(Ye=pl()):(Gr=me,uo="value"in Gr?Gr.value:Gr.textContent,Mn=!0)),qe=El(oe,Je),0<qe.length&&(Je=new Ot(Je,t,null,f,me),xe.push({event:Je,listeners:qe}),Ye?Je.data=Ye:(Ye=xo(f),Ye!==null&&(Je.data=Ye)))),(Ye=yl?qc(t,f):yo(t,f))&&(oe=El(oe,"onBeforeInput"),0<oe.length&&(me=new Ot("onBeforeInput","beforeinput",null,f,me),xe.push({event:me,listeners:oe}),me.data=Ye))}gh(xe,i)})}function Co(t,i,f){return{instance:t,listener:i,currentTarget:f}}function El(t,i){for(var f=i+"Capture",x=[];t!==null;){var C=t,S=C.stateNode;C.tag===5&&S!==null&&(C=S,S=Fn(t,f),S!=null&&x.unshift(Co(t,S,C)),S=Fn(t,i),S!=null&&x.push(Co(t,S,C))),t=t.return}return x}function ha(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yh(t,i,f,x,C){for(var S=i._reactName,j=[];f!==null&&f!==x;){var U=f,q=U.alternate,oe=U.stateNode;if(q!==null&&q===x)break;U.tag===5&&oe!==null&&(U=oe,C?(q=Fn(f,S),q!=null&&j.unshift(Co(f,q,U))):C||(q=Fn(f,S),q!=null&&j.push(Co(f,q,U)))),f=f.return}j.length!==0&&t.push({event:i,listeners:j})}var L1=/\r\n?/g,B1=/\u0000|\uFFFD/g;function vh(t){return(typeof t=="string"?t:""+t).replace(L1,`
`).replace(B1,"")}function Nl(t,i,f){if(i=vh(i),vh(t)!==i&&f)throw Error(a(425))}function Sl(){}var Qc=null,Zc=null;function Jc(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var eu=typeof setTimeout=="function"?setTimeout:void 0,F1=typeof clearTimeout=="function"?clearTimeout:void 0,wh=typeof Promise=="function"?Promise:void 0,U1=typeof queueMicrotask=="function"?queueMicrotask:typeof wh<"u"?function(t){return wh.resolve(null).then(t).catch(z1)}:eu;function z1(t){setTimeout(function(){throw t})}function tu(t,i){var f=i,x=0;do{var C=f.nextSibling;if(t.removeChild(f),C&&C.nodeType===8)if(f=C.data,f==="/$"){if(x===0){t.removeChild(C),Vr(i);return}x--}else f!=="$"&&f!=="$?"&&f!=="$!"||x++;f=C}while(f);Vr(i)}function Yi(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return t}function bh(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var f=t.data;if(f==="$"||f==="$!"||f==="$?"){if(i===0)return t;i--}else f==="/$"&&i++}t=t.previousSibling}return null}var fa=Math.random().toString(36).slice(2),oi="__reactFiber$"+fa,Eo="__reactProps$"+fa,wi="__reactContainer$"+fa,nu="__reactEvents$"+fa,H1="__reactListeners$"+fa,W1="__reactHandles$"+fa;function Ds(t){var i=t[oi];if(i)return i;for(var f=t.parentNode;f;){if(i=f[wi]||f[oi]){if(f=i.alternate,i.child!==null||f!==null&&f.child!==null)for(t=bh(t);t!==null;){if(f=t[oi])return f;t=bh(t)}return i}t=f,f=t.parentNode}return null}function No(t){return t=t[oi]||t[wi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function pa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(a(33))}function Al(t){return t[Eo]||null}var ru=[],ma=-1;function Xi(t){return{current:t}}function qt(t){0>ma||(t.current=ru[ma],ru[ma]=null,ma--)}function zt(t,i){ma++,ru[ma]=t.current,t.current=i}var $i={},Wn=Xi($i),ar=Xi(!1),Ms=$i;function ga(t,i){var f=t.type.contextTypes;if(!f)return $i;var x=t.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===i)return x.__reactInternalMemoizedMaskedChildContext;var C={},S;for(S in f)C[S]=i[S];return x&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=C),C}function or(t){return t=t.childContextTypes,t!=null}function _l(){qt(ar),qt(Wn)}function Ch(t,i,f){if(Wn.current!==$i)throw Error(a(168));zt(Wn,i),zt(ar,f)}function Eh(t,i,f){var x=t.stateNode;if(i=i.childContextTypes,typeof x.getChildContext!="function")return f;x=x.getChildContext();for(var C in x)if(!(C in i))throw Error(a(108,vt(t)||"Unknown",C));return Ae({},f,x)}function Il(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$i,Ms=Wn.current,zt(Wn,t),zt(ar,ar.current),!0}function Nh(t,i,f){var x=t.stateNode;if(!x)throw Error(a(169));f?(t=Eh(t,i,Ms),x.__reactInternalMemoizedMergedChildContext=t,qt(ar),qt(Wn),zt(Wn,t)):qt(ar),zt(ar,f)}var bi=null,Tl=!1,iu=!1;function Sh(t){bi===null?bi=[t]:bi.push(t)}function V1(t){Tl=!0,Sh(t)}function Ki(){if(!iu&&bi!==null){iu=!0;var t=0,i=st;try{var f=bi;for(st=1;t<f.length;t++){var x=f[t];do x=x(!0);while(x!==null)}bi=null,Tl=!1}catch(C){throw bi!==null&&(bi=bi.slice(t+1)),gr(ue,Ki),C}finally{st=i,iu=!1}}return null}var xa=[],ya=0,kl=null,jl=0,Rr=[],Pr=0,Rs=null,Ci=1,Ei="";function Ps(t,i){xa[ya++]=jl,xa[ya++]=kl,kl=t,jl=i}function Ah(t,i,f){Rr[Pr++]=Ci,Rr[Pr++]=Ei,Rr[Pr++]=Rs,Rs=t;var x=Ci;t=Ei;var C=32-Qn(x)-1;x&=~(1<<C),f+=1;var S=32-Qn(i)+C;if(30<S){var j=C-C%5;S=(x&(1<<j)-1).toString(32),x>>=j,C-=j,Ci=1<<32-Qn(i)+C|f<<C|x,Ei=S+t}else Ci=1<<S|f<<C|x,Ei=t}function su(t){t.return!==null&&(Ps(t,1),Ah(t,1,0))}function au(t){for(;t===kl;)kl=xa[--ya],xa[ya]=null,jl=xa[--ya],xa[ya]=null;for(;t===Rs;)Rs=Rr[--Pr],Rr[Pr]=null,Ei=Rr[--Pr],Rr[Pr]=null,Ci=Rr[--Pr],Rr[Pr]=null}var Cr=null,Er=null,Zt=!1,Yr=null;function _h(t,i){var f=Ur(5,null,null,0);f.elementType="DELETED",f.stateNode=i,f.return=t,i=t.deletions,i===null?(t.deletions=[f],t.flags|=16):i.push(f)}function Ih(t,i){switch(t.tag){case 5:var f=t.type;return i=i.nodeType!==1||f.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(t.stateNode=i,Cr=t,Er=Yi(i.firstChild),!0):!1;case 6:return i=t.pendingProps===""||i.nodeType!==3?null:i,i!==null?(t.stateNode=i,Cr=t,Er=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(f=Rs!==null?{id:Ci,overflow:Ei}:null,t.memoizedState={dehydrated:i,treeContext:f,retryLane:1073741824},f=Ur(18,null,null,0),f.stateNode=i,f.return=t,t.child=f,Cr=t,Er=null,!0):!1;default:return!1}}function ou(t){return(t.mode&1)!==0&&(t.flags&128)===0}function lu(t){if(Zt){var i=Er;if(i){var f=i;if(!Ih(t,i)){if(ou(t))throw Error(a(418));i=Yi(f.nextSibling);var x=Cr;i&&Ih(t,i)?_h(x,f):(t.flags=t.flags&-4097|2,Zt=!1,Cr=t)}}else{if(ou(t))throw Error(a(418));t.flags=t.flags&-4097|2,Zt=!1,Cr=t}}}function Th(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Cr=t}function Ol(t){if(t!==Cr)return!1;if(!Zt)return Th(t),Zt=!0,!1;var i;if((i=t.tag!==3)&&!(i=t.tag!==5)&&(i=t.type,i=i!=="head"&&i!=="body"&&!Jc(t.type,t.memoizedProps)),i&&(i=Er)){if(ou(t))throw kh(),Error(a(418));for(;i;)_h(t,i),i=Yi(i.nextSibling)}if(Th(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8){var f=t.data;if(f==="/$"){if(i===0){Er=Yi(t.nextSibling);break e}i--}else f!=="$"&&f!=="$!"&&f!=="$?"||i++}t=t.nextSibling}Er=null}}else Er=Cr?Yi(t.stateNode.nextSibling):null;return!0}function kh(){for(var t=Er;t;)t=Yi(t.nextSibling)}function va(){Er=Cr=null,Zt=!1}function cu(t){Yr===null?Yr=[t]:Yr.push(t)}var G1=ie.ReactCurrentBatchConfig;function So(t,i,f){if(t=f.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(a(309));var x=f.stateNode}if(!x)throw Error(a(147,t));var C=x,S=""+t;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===S?i.ref:(i=function(j){var U=C.refs;j===null?delete U[S]:U[S]=j},i._stringRef=S,i)}if(typeof t!="string")throw Error(a(284));if(!f._owner)throw Error(a(290,t))}return t}function Dl(t,i){throw t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}function jh(t){var i=t._init;return i(t._payload)}function Oh(t){function i(ne,X){if(t){var re=ne.deletions;re===null?(ne.deletions=[X],ne.flags|=16):re.push(X)}}function f(ne,X){if(!t)return null;for(;X!==null;)i(ne,X),X=X.sibling;return null}function x(ne,X){for(ne=new Map;X!==null;)X.key!==null?ne.set(X.key,X):ne.set(X.index,X),X=X.sibling;return ne}function C(ne,X){return ne=is(ne,X),ne.index=0,ne.sibling=null,ne}function S(ne,X,re){return ne.index=re,t?(re=ne.alternate,re!==null?(re=re.index,re<X?(ne.flags|=2,X):re):(ne.flags|=2,X)):(ne.flags|=1048576,X)}function j(ne){return t&&ne.alternate===null&&(ne.flags|=2),ne}function U(ne,X,re,be){return X===null||X.tag!==6?(X=ed(re,ne.mode,be),X.return=ne,X):(X=C(X,re),X.return=ne,X)}function q(ne,X,re,be){var Ue=re.type;return Ue===H?me(ne,X,re.props.children,be,re.key):X!==null&&(X.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===Ze&&jh(Ue)===X.type)?(be=C(X,re.props),be.ref=So(ne,X,re),be.return=ne,be):(be=rc(re.type,re.key,re.props,null,ne.mode,be),be.ref=So(ne,X,re),be.return=ne,be)}function oe(ne,X,re,be){return X===null||X.tag!==4||X.stateNode.containerInfo!==re.containerInfo||X.stateNode.implementation!==re.implementation?(X=td(re,ne.mode,be),X.return=ne,X):(X=C(X,re.children||[]),X.return=ne,X)}function me(ne,X,re,be,Ue){return X===null||X.tag!==7?(X=Vs(re,ne.mode,be,Ue),X.return=ne,X):(X=C(X,re),X.return=ne,X)}function xe(ne,X,re){if(typeof X=="string"&&X!==""||typeof X=="number")return X=ed(""+X,ne.mode,re),X.return=ne,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case ge:return re=rc(X.type,X.key,X.props,null,ne.mode,re),re.ref=So(ne,null,X),re.return=ne,re;case de:return X=td(X,ne.mode,re),X.return=ne,X;case Ze:var be=X._init;return xe(ne,be(X._payload),re)}if($n(X)||Ie(X))return X=Vs(X,ne.mode,re,null),X.return=ne,X;Dl(ne,X)}return null}function fe(ne,X,re,be){var Ue=X!==null?X.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return Ue!==null?null:U(ne,X,""+re,be);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case ge:return re.key===Ue?q(ne,X,re,be):null;case de:return re.key===Ue?oe(ne,X,re,be):null;case Ze:return Ue=re._init,fe(ne,X,Ue(re._payload),be)}if($n(re)||Ie(re))return Ue!==null?null:me(ne,X,re,be,null);Dl(ne,re)}return null}function Oe(ne,X,re,be,Ue){if(typeof be=="string"&&be!==""||typeof be=="number")return ne=ne.get(re)||null,U(X,ne,""+be,Ue);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case ge:return ne=ne.get(be.key===null?re:be.key)||null,q(X,ne,be,Ue);case de:return ne=ne.get(be.key===null?re:be.key)||null,oe(X,ne,be,Ue);case Ze:var qe=be._init;return Oe(ne,X,re,qe(be._payload),Ue)}if($n(be)||Ie(be))return ne=ne.get(re)||null,me(X,ne,be,Ue,null);Dl(X,be)}return null}function Le(ne,X,re,be){for(var Ue=null,qe=null,Ye=X,Je=X=0,Tn=null;Ye!==null&&Je<re.length;Je++){Ye.index>Je?(Tn=Ye,Ye=null):Tn=Ye.sibling;var Nt=fe(ne,Ye,re[Je],be);if(Nt===null){Ye===null&&(Ye=Tn);break}t&&Ye&&Nt.alternate===null&&i(ne,Ye),X=S(Nt,X,Je),qe===null?Ue=Nt:qe.sibling=Nt,qe=Nt,Ye=Tn}if(Je===re.length)return f(ne,Ye),Zt&&Ps(ne,Je),Ue;if(Ye===null){for(;Je<re.length;Je++)Ye=xe(ne,re[Je],be),Ye!==null&&(X=S(Ye,X,Je),qe===null?Ue=Ye:qe.sibling=Ye,qe=Ye);return Zt&&Ps(ne,Je),Ue}for(Ye=x(ne,Ye);Je<re.length;Je++)Tn=Oe(Ye,ne,Je,re[Je],be),Tn!==null&&(t&&Tn.alternate!==null&&Ye.delete(Tn.key===null?Je:Tn.key),X=S(Tn,X,Je),qe===null?Ue=Tn:qe.sibling=Tn,qe=Tn);return t&&Ye.forEach(function(ss){return i(ne,ss)}),Zt&&Ps(ne,Je),Ue}function Be(ne,X,re,be){var Ue=Ie(re);if(typeof Ue!="function")throw Error(a(150));if(re=Ue.call(re),re==null)throw Error(a(151));for(var qe=Ue=null,Ye=X,Je=X=0,Tn=null,Nt=re.next();Ye!==null&&!Nt.done;Je++,Nt=re.next()){Ye.index>Je?(Tn=Ye,Ye=null):Tn=Ye.sibling;var ss=fe(ne,Ye,Nt.value,be);if(ss===null){Ye===null&&(Ye=Tn);break}t&&Ye&&ss.alternate===null&&i(ne,Ye),X=S(ss,X,Je),qe===null?Ue=ss:qe.sibling=ss,qe=ss,Ye=Tn}if(Nt.done)return f(ne,Ye),Zt&&Ps(ne,Je),Ue;if(Ye===null){for(;!Nt.done;Je++,Nt=re.next())Nt=xe(ne,Nt.value,be),Nt!==null&&(X=S(Nt,X,Je),qe===null?Ue=Nt:qe.sibling=Nt,qe=Nt);return Zt&&Ps(ne,Je),Ue}for(Ye=x(ne,Ye);!Nt.done;Je++,Nt=re.next())Nt=Oe(Ye,ne,Je,Nt.value,be),Nt!==null&&(t&&Nt.alternate!==null&&Ye.delete(Nt.key===null?Je:Nt.key),X=S(Nt,X,Je),qe===null?Ue=Nt:qe.sibling=Nt,qe=Nt);return t&&Ye.forEach(function(Nm){return i(ne,Nm)}),Zt&&Ps(ne,Je),Ue}function pn(ne,X,re,be){if(typeof re=="object"&&re!==null&&re.type===H&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case ge:e:{for(var Ue=re.key,qe=X;qe!==null;){if(qe.key===Ue){if(Ue=re.type,Ue===H){if(qe.tag===7){f(ne,qe.sibling),X=C(qe,re.props.children),X.return=ne,ne=X;break e}}else if(qe.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===Ze&&jh(Ue)===qe.type){f(ne,qe.sibling),X=C(qe,re.props),X.ref=So(ne,qe,re),X.return=ne,ne=X;break e}f(ne,qe);break}else i(ne,qe);qe=qe.sibling}re.type===H?(X=Vs(re.props.children,ne.mode,be,re.key),X.return=ne,ne=X):(be=rc(re.type,re.key,re.props,null,ne.mode,be),be.ref=So(ne,X,re),be.return=ne,ne=be)}return j(ne);case de:e:{for(qe=re.key;X!==null;){if(X.key===qe)if(X.tag===4&&X.stateNode.containerInfo===re.containerInfo&&X.stateNode.implementation===re.implementation){f(ne,X.sibling),X=C(X,re.children||[]),X.return=ne,ne=X;break e}else{f(ne,X);break}else i(ne,X);X=X.sibling}X=td(re,ne.mode,be),X.return=ne,ne=X}return j(ne);case Ze:return qe=re._init,pn(ne,X,qe(re._payload),be)}if($n(re))return Le(ne,X,re,be);if(Ie(re))return Be(ne,X,re,be);Dl(ne,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,X!==null&&X.tag===6?(f(ne,X.sibling),X=C(X,re),X.return=ne,ne=X):(f(ne,X),X=ed(re,ne.mode,be),X.return=ne,ne=X),j(ne)):f(ne,X)}return pn}var wa=Oh(!0),Dh=Oh(!1),Ml=Xi(null),Rl=null,ba=null,uu=null;function du(){uu=ba=Rl=null}function hu(t){var i=Ml.current;qt(Ml),t._currentValue=i}function fu(t,i,f){for(;t!==null;){var x=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,x!==null&&(x.childLanes|=i)):x!==null&&(x.childLanes&i)!==i&&(x.childLanes|=i),t===f)break;t=t.return}}function Ca(t,i){Rl=t,uu=ba=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&i)!==0&&(lr=!0),t.firstContext=null)}function Lr(t){var i=t._currentValue;if(uu!==t)if(t={context:t,memoizedValue:i,next:null},ba===null){if(Rl===null)throw Error(a(308));ba=t,Rl.dependencies={lanes:0,firstContext:t}}else ba=ba.next=t;return i}var Ls=null;function pu(t){Ls===null?Ls=[t]:Ls.push(t)}function Mh(t,i,f,x){var C=i.interleaved;return C===null?(f.next=f,pu(i)):(f.next=C.next,C.next=f),i.interleaved=f,Ni(t,x)}function Ni(t,i){t.lanes|=i;var f=t.alternate;for(f!==null&&(f.lanes|=i),f=t,t=t.return;t!==null;)t.childLanes|=i,f=t.alternate,f!==null&&(f.childLanes|=i),f=t,t=t.return;return f.tag===3?f.stateNode:null}var Qi=!1;function mu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rh(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Si(t,i){return{eventTime:t,lane:i,tag:0,payload:null,callback:null,next:null}}function Zi(t,i,f){var x=t.updateQueue;if(x===null)return null;if(x=x.shared,(Et&2)!==0){var C=x.pending;return C===null?i.next=i:(i.next=C.next,C.next=i),x.pending=i,Ni(t,f)}return C=x.interleaved,C===null?(i.next=i,pu(x)):(i.next=C.next,C.next=i),x.interleaved=i,Ni(t,f)}function Pl(t,i,f){if(i=i.updateQueue,i!==null&&(i=i.shared,(f&4194240)!==0)){var x=i.lanes;x&=t.pendingLanes,f|=x,i.lanes=f,an(t,f)}}function Ph(t,i){var f=t.updateQueue,x=t.alternate;if(x!==null&&(x=x.updateQueue,f===x)){var C=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var j={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};S===null?C=S=j:S=S.next=j,f=f.next}while(f!==null);S===null?C=S=i:S=S.next=i}else C=S=i;f={baseState:x.baseState,firstBaseUpdate:C,lastBaseUpdate:S,shared:x.shared,effects:x.effects},t.updateQueue=f;return}t=f.lastBaseUpdate,t===null?f.firstBaseUpdate=i:t.next=i,f.lastBaseUpdate=i}function Ll(t,i,f,x){var C=t.updateQueue;Qi=!1;var S=C.firstBaseUpdate,j=C.lastBaseUpdate,U=C.shared.pending;if(U!==null){C.shared.pending=null;var q=U,oe=q.next;q.next=null,j===null?S=oe:j.next=oe,j=q;var me=t.alternate;me!==null&&(me=me.updateQueue,U=me.lastBaseUpdate,U!==j&&(U===null?me.firstBaseUpdate=oe:U.next=oe,me.lastBaseUpdate=q))}if(S!==null){var xe=C.baseState;j=0,me=oe=q=null,U=S;do{var fe=U.lane,Oe=U.eventTime;if((x&fe)===fe){me!==null&&(me=me.next={eventTime:Oe,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Le=t,Be=U;switch(fe=i,Oe=f,Be.tag){case 1:if(Le=Be.payload,typeof Le=="function"){xe=Le.call(Oe,xe,fe);break e}xe=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Be.payload,fe=typeof Le=="function"?Le.call(Oe,xe,fe):Le,fe==null)break e;xe=Ae({},xe,fe);break e;case 2:Qi=!0}}U.callback!==null&&U.lane!==0&&(t.flags|=64,fe=C.effects,fe===null?C.effects=[U]:fe.push(U))}else Oe={eventTime:Oe,lane:fe,tag:U.tag,payload:U.payload,callback:U.callback,next:null},me===null?(oe=me=Oe,q=xe):me=me.next=Oe,j|=fe;if(U=U.next,U===null){if(U=C.shared.pending,U===null)break;fe=U,U=fe.next,fe.next=null,C.lastBaseUpdate=fe,C.shared.pending=null}}while(!0);if(me===null&&(q=xe),C.baseState=q,C.firstBaseUpdate=oe,C.lastBaseUpdate=me,i=C.shared.interleaved,i!==null){C=i;do j|=C.lane,C=C.next;while(C!==i)}else S===null&&(C.shared.lanes=0);Us|=j,t.lanes=j,t.memoizedState=xe}}function Lh(t,i,f){if(t=i.effects,i.effects=null,t!==null)for(i=0;i<t.length;i++){var x=t[i],C=x.callback;if(C!==null){if(x.callback=null,x=f,typeof C!="function")throw Error(a(191,C));C.call(x)}}}var Ao={},li=Xi(Ao),_o=Xi(Ao),Io=Xi(Ao);function Bs(t){if(t===Ao)throw Error(a(174));return t}function gu(t,i){switch(zt(Io,i),zt(_o,t),zt(li,Ao),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Wt(null,"");break;default:t=t===8?i.parentNode:i,i=t.namespaceURI||null,t=t.tagName,i=Wt(i,t)}qt(li),zt(li,i)}function Ea(){qt(li),qt(_o),qt(Io)}function Bh(t){Bs(Io.current);var i=Bs(li.current),f=Wt(i,t.type);i!==f&&(zt(_o,t),zt(li,f))}function xu(t){_o.current===t&&(qt(li),qt(_o))}var en=Xi(0);function Bl(t){for(var i=t;i!==null;){if(i.tag===13){var f=i.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var yu=[];function vu(){for(var t=0;t<yu.length;t++)yu[t]._workInProgressVersionPrimary=null;yu.length=0}var Fl=ie.ReactCurrentDispatcher,wu=ie.ReactCurrentBatchConfig,Fs=0,tn=null,En=null,_n=null,Ul=!1,To=!1,ko=0,q1=0;function Vn(){throw Error(a(321))}function bu(t,i){if(i===null)return!1;for(var f=0;f<i.length&&f<t.length;f++)if(!Q(t[f],i[f]))return!1;return!0}function Cu(t,i,f,x,C,S){if(Fs=S,tn=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Fl.current=t===null||t.memoizedState===null?K1:Q1,t=f(x,C),To){S=0;do{if(To=!1,ko=0,25<=S)throw Error(a(301));S+=1,_n=En=null,i.updateQueue=null,Fl.current=Z1,t=f(x,C)}while(To)}if(Fl.current=Wl,i=En!==null&&En.next!==null,Fs=0,_n=En=tn=null,Ul=!1,i)throw Error(a(300));return t}function Eu(){var t=ko!==0;return ko=0,t}function ci(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?tn.memoizedState=_n=t:_n=_n.next=t,_n}function Br(){if(En===null){var t=tn.alternate;t=t!==null?t.memoizedState:null}else t=En.next;var i=_n===null?tn.memoizedState:_n.next;if(i!==null)_n=i,En=t;else{if(t===null)throw Error(a(310));En=t,t={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},_n===null?tn.memoizedState=_n=t:_n=_n.next=t}return _n}function jo(t,i){return typeof i=="function"?i(t):i}function Nu(t){var i=Br(),f=i.queue;if(f===null)throw Error(a(311));f.lastRenderedReducer=t;var x=En,C=x.baseQueue,S=f.pending;if(S!==null){if(C!==null){var j=C.next;C.next=S.next,S.next=j}x.baseQueue=C=S,f.pending=null}if(C!==null){S=C.next,x=x.baseState;var U=j=null,q=null,oe=S;do{var me=oe.lane;if((Fs&me)===me)q!==null&&(q=q.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),x=oe.hasEagerState?oe.eagerState:t(x,oe.action);else{var xe={lane:me,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};q===null?(U=q=xe,j=x):q=q.next=xe,tn.lanes|=me,Us|=me}oe=oe.next}while(oe!==null&&oe!==S);q===null?j=x:q.next=U,Q(x,i.memoizedState)||(lr=!0),i.memoizedState=x,i.baseState=j,i.baseQueue=q,f.lastRenderedState=x}if(t=f.interleaved,t!==null){C=t;do S=C.lane,tn.lanes|=S,Us|=S,C=C.next;while(C!==t)}else C===null&&(f.lanes=0);return[i.memoizedState,f.dispatch]}function Su(t){var i=Br(),f=i.queue;if(f===null)throw Error(a(311));f.lastRenderedReducer=t;var x=f.dispatch,C=f.pending,S=i.memoizedState;if(C!==null){f.pending=null;var j=C=C.next;do S=t(S,j.action),j=j.next;while(j!==C);Q(S,i.memoizedState)||(lr=!0),i.memoizedState=S,i.baseQueue===null&&(i.baseState=S),f.lastRenderedState=S}return[S,x]}function Fh(){}function Uh(t,i){var f=tn,x=Br(),C=i(),S=!Q(x.memoizedState,C);if(S&&(x.memoizedState=C,lr=!0),x=x.queue,Au(Wh.bind(null,f,x,t),[t]),x.getSnapshot!==i||S||_n!==null&&_n.memoizedState.tag&1){if(f.flags|=2048,Oo(9,Hh.bind(null,f,x,C,i),void 0,null),In===null)throw Error(a(349));(Fs&30)!==0||zh(f,i,C)}return C}function zh(t,i,f){t.flags|=16384,t={getSnapshot:i,value:f},i=tn.updateQueue,i===null?(i={lastEffect:null,stores:null},tn.updateQueue=i,i.stores=[t]):(f=i.stores,f===null?i.stores=[t]:f.push(t))}function Hh(t,i,f,x){i.value=f,i.getSnapshot=x,Vh(i)&&Gh(t)}function Wh(t,i,f){return f(function(){Vh(i)&&Gh(t)})}function Vh(t){var i=t.getSnapshot;t=t.value;try{var f=i();return!Q(t,f)}catch{return!0}}function Gh(t){var i=Ni(t,1);i!==null&&Qr(i,t,1,-1)}function qh(t){var i=ci();return typeof t=="function"&&(t=t()),i.memoizedState=i.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:t},i.queue=t,t=t.dispatch=$1.bind(null,tn,t),[i.memoizedState,t]}function Oo(t,i,f,x){return t={tag:t,create:i,destroy:f,deps:x,next:null},i=tn.updateQueue,i===null?(i={lastEffect:null,stores:null},tn.updateQueue=i,i.lastEffect=t.next=t):(f=i.lastEffect,f===null?i.lastEffect=t.next=t:(x=f.next,f.next=t,t.next=x,i.lastEffect=t)),t}function Yh(){return Br().memoizedState}function zl(t,i,f,x){var C=ci();tn.flags|=t,C.memoizedState=Oo(1|i,f,void 0,x===void 0?null:x)}function Hl(t,i,f,x){var C=Br();x=x===void 0?null:x;var S=void 0;if(En!==null){var j=En.memoizedState;if(S=j.destroy,x!==null&&bu(x,j.deps)){C.memoizedState=Oo(i,f,S,x);return}}tn.flags|=t,C.memoizedState=Oo(1|i,f,S,x)}function Xh(t,i){return zl(8390656,8,t,i)}function Au(t,i){return Hl(2048,8,t,i)}function $h(t,i){return Hl(4,2,t,i)}function Kh(t,i){return Hl(4,4,t,i)}function Qh(t,i){if(typeof i=="function")return t=t(),i(t),function(){i(null)};if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Zh(t,i,f){return f=f!=null?f.concat([t]):null,Hl(4,4,Qh.bind(null,i,t),f)}function _u(){}function Jh(t,i){var f=Br();i=i===void 0?null:i;var x=f.memoizedState;return x!==null&&i!==null&&bu(i,x[1])?x[0]:(f.memoizedState=[t,i],t)}function ef(t,i){var f=Br();i=i===void 0?null:i;var x=f.memoizedState;return x!==null&&i!==null&&bu(i,x[1])?x[0]:(t=t(),f.memoizedState=[t,i],t)}function tf(t,i,f){return(Fs&21)===0?(t.baseState&&(t.baseState=!1,lr=!0),t.memoizedState=f):(Q(f,i)||(f=vn(),tn.lanes|=f,Us|=f,t.baseState=!0),i)}function Y1(t,i){var f=st;st=f!==0&&4>f?f:4,t(!0);var x=wu.transition;wu.transition={};try{t(!1),i()}finally{st=f,wu.transition=x}}function nf(){return Br().memoizedState}function X1(t,i,f){var x=ns(t);if(f={lane:x,action:f,hasEagerState:!1,eagerState:null,next:null},rf(t))sf(i,f);else if(f=Mh(t,i,f,x),f!==null){var C=Jn();Qr(f,t,x,C),af(f,i,x)}}function $1(t,i,f){var x=ns(t),C={lane:x,action:f,hasEagerState:!1,eagerState:null,next:null};if(rf(t))sf(i,C);else{var S=t.alternate;if(t.lanes===0&&(S===null||S.lanes===0)&&(S=i.lastRenderedReducer,S!==null))try{var j=i.lastRenderedState,U=S(j,f);if(C.hasEagerState=!0,C.eagerState=U,Q(U,j)){var q=i.interleaved;q===null?(C.next=C,pu(i)):(C.next=q.next,q.next=C),i.interleaved=C;return}}catch{}finally{}f=Mh(t,i,C,x),f!==null&&(C=Jn(),Qr(f,t,x,C),af(f,i,x))}}function rf(t){var i=t.alternate;return t===tn||i!==null&&i===tn}function sf(t,i){To=Ul=!0;var f=t.pending;f===null?i.next=i:(i.next=f.next,f.next=i),t.pending=i}function af(t,i,f){if((f&4194240)!==0){var x=i.lanes;x&=t.pendingLanes,f|=x,i.lanes=f,an(t,f)}}var Wl={readContext:Lr,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useInsertionEffect:Vn,useLayoutEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useMutableSource:Vn,useSyncExternalStore:Vn,useId:Vn,unstable_isNewReconciler:!1},K1={readContext:Lr,useCallback:function(t,i){return ci().memoizedState=[t,i===void 0?null:i],t},useContext:Lr,useEffect:Xh,useImperativeHandle:function(t,i,f){return f=f!=null?f.concat([t]):null,zl(4194308,4,Qh.bind(null,i,t),f)},useLayoutEffect:function(t,i){return zl(4194308,4,t,i)},useInsertionEffect:function(t,i){return zl(4,2,t,i)},useMemo:function(t,i){var f=ci();return i=i===void 0?null:i,t=t(),f.memoizedState=[t,i],t},useReducer:function(t,i,f){var x=ci();return i=f!==void 0?f(i):i,x.memoizedState=x.baseState=i,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},x.queue=t,t=t.dispatch=X1.bind(null,tn,t),[x.memoizedState,t]},useRef:function(t){var i=ci();return t={current:t},i.memoizedState=t},useState:qh,useDebugValue:_u,useDeferredValue:function(t){return ci().memoizedState=t},useTransition:function(){var t=qh(!1),i=t[0];return t=Y1.bind(null,t[1]),ci().memoizedState=t,[i,t]},useMutableSource:function(){},useSyncExternalStore:function(t,i,f){var x=tn,C=ci();if(Zt){if(f===void 0)throw Error(a(407));f=f()}else{if(f=i(),In===null)throw Error(a(349));(Fs&30)!==0||zh(x,i,f)}C.memoizedState=f;var S={value:f,getSnapshot:i};return C.queue=S,Xh(Wh.bind(null,x,S,t),[t]),x.flags|=2048,Oo(9,Hh.bind(null,x,S,f,i),void 0,null),f},useId:function(){var t=ci(),i=In.identifierPrefix;if(Zt){var f=Ei,x=Ci;f=(x&~(1<<32-Qn(x)-1)).toString(32)+f,i=":"+i+"R"+f,f=ko++,0<f&&(i+="H"+f.toString(32)),i+=":"}else f=q1++,i=":"+i+"r"+f.toString(32)+":";return t.memoizedState=i},unstable_isNewReconciler:!1},Q1={readContext:Lr,useCallback:Jh,useContext:Lr,useEffect:Au,useImperativeHandle:Zh,useInsertionEffect:$h,useLayoutEffect:Kh,useMemo:ef,useReducer:Nu,useRef:Yh,useState:function(){return Nu(jo)},useDebugValue:_u,useDeferredValue:function(t){var i=Br();return tf(i,En.memoizedState,t)},useTransition:function(){var t=Nu(jo)[0],i=Br().memoizedState;return[t,i]},useMutableSource:Fh,useSyncExternalStore:Uh,useId:nf,unstable_isNewReconciler:!1},Z1={readContext:Lr,useCallback:Jh,useContext:Lr,useEffect:Au,useImperativeHandle:Zh,useInsertionEffect:$h,useLayoutEffect:Kh,useMemo:ef,useReducer:Su,useRef:Yh,useState:function(){return Su(jo)},useDebugValue:_u,useDeferredValue:function(t){var i=Br();return En===null?i.memoizedState=t:tf(i,En.memoizedState,t)},useTransition:function(){var t=Su(jo)[0],i=Br().memoizedState;return[t,i]},useMutableSource:Fh,useSyncExternalStore:Uh,useId:nf,unstable_isNewReconciler:!1};function Xr(t,i){if(t&&t.defaultProps){i=Ae({},i),t=t.defaultProps;for(var f in t)i[f]===void 0&&(i[f]=t[f]);return i}return i}function Iu(t,i,f,x){i=t.memoizedState,f=f(x,i),f=f==null?i:Ae({},i,f),t.memoizedState=f,t.lanes===0&&(t.updateQueue.baseState=f)}var Vl={isMounted:function(t){return(t=t._reactInternals)?sr(t)===t:!1},enqueueSetState:function(t,i,f){t=t._reactInternals;var x=Jn(),C=ns(t),S=Si(x,C);S.payload=i,f!=null&&(S.callback=f),i=Zi(t,S,C),i!==null&&(Qr(i,t,C,x),Pl(i,t,C))},enqueueReplaceState:function(t,i,f){t=t._reactInternals;var x=Jn(),C=ns(t),S=Si(x,C);S.tag=1,S.payload=i,f!=null&&(S.callback=f),i=Zi(t,S,C),i!==null&&(Qr(i,t,C,x),Pl(i,t,C))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var f=Jn(),x=ns(t),C=Si(f,x);C.tag=2,i!=null&&(C.callback=i),i=Zi(t,C,x),i!==null&&(Qr(i,t,x,f),Pl(i,t,x))}};function of(t,i,f,x,C,S,j){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(x,S,j):i.prototype&&i.prototype.isPureReactComponent?!se(f,x)||!se(C,S):!0}function lf(t,i,f){var x=!1,C=$i,S=i.contextType;return typeof S=="object"&&S!==null?S=Lr(S):(C=or(i)?Ms:Wn.current,x=i.contextTypes,S=(x=x!=null)?ga(t,C):$i),i=new i(f,S),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Vl,t.stateNode=i,i._reactInternals=t,x&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=C,t.__reactInternalMemoizedMaskedChildContext=S),i}function cf(t,i,f,x){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(f,x),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(f,x),i.state!==t&&Vl.enqueueReplaceState(i,i.state,null)}function Tu(t,i,f,x){var C=t.stateNode;C.props=f,C.state=t.memoizedState,C.refs={},mu(t);var S=i.contextType;typeof S=="object"&&S!==null?C.context=Lr(S):(S=or(i)?Ms:Wn.current,C.context=ga(t,S)),C.state=t.memoizedState,S=i.getDerivedStateFromProps,typeof S=="function"&&(Iu(t,i,S,f),C.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(i=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),i!==C.state&&Vl.enqueueReplaceState(C,C.state,null),Ll(t,f,C,x),C.state=t.memoizedState),typeof C.componentDidMount=="function"&&(t.flags|=4194308)}function Na(t,i){try{var f="",x=i;do f+=lt(x),x=x.return;while(x);var C=f}catch(S){C=`
Error generating stack: `+S.message+`
`+S.stack}return{value:t,source:i,stack:C,digest:null}}function ku(t,i,f){return{value:t,source:null,stack:f??null,digest:i??null}}function ju(t,i){try{console.error(i.value)}catch(f){setTimeout(function(){throw f})}}var J1=typeof WeakMap=="function"?WeakMap:Map;function uf(t,i,f){f=Si(-1,f),f.tag=3,f.payload={element:null};var x=i.value;return f.callback=function(){Ql||(Ql=!0,qu=x),ju(t,i)},f}function df(t,i,f){f=Si(-1,f),f.tag=3;var x=t.type.getDerivedStateFromError;if(typeof x=="function"){var C=i.value;f.payload=function(){return x(C)},f.callback=function(){ju(t,i)}}var S=t.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(f.callback=function(){ju(t,i),typeof x!="function"&&(es===null?es=new Set([this]):es.add(this));var j=i.stack;this.componentDidCatch(i.value,{componentStack:j!==null?j:""})}),f}function hf(t,i,f){var x=t.pingCache;if(x===null){x=t.pingCache=new J1;var C=new Set;x.set(i,C)}else C=x.get(i),C===void 0&&(C=new Set,x.set(i,C));C.has(f)||(C.add(f),t=fm.bind(null,t,i,f),i.then(t,t))}function ff(t){do{var i;if((i=t.tag===13)&&(i=t.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return t;t=t.return}while(t!==null);return null}function pf(t,i,f,x,C){return(t.mode&1)===0?(t===i?t.flags|=65536:(t.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(i=Si(-1,1),i.tag=2,Zi(f,i,1))),f.lanes|=1),t):(t.flags|=65536,t.lanes=C,t)}var em=ie.ReactCurrentOwner,lr=!1;function Zn(t,i,f,x){i.child=t===null?Dh(i,null,f,x):wa(i,t.child,f,x)}function mf(t,i,f,x,C){f=f.render;var S=i.ref;return Ca(i,C),x=Cu(t,i,f,x,S,C),f=Eu(),t!==null&&!lr?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~C,Ai(t,i,C)):(Zt&&f&&su(i),i.flags|=1,Zn(t,i,x,C),i.child)}function gf(t,i,f,x,C){if(t===null){var S=f.type;return typeof S=="function"&&!Ju(S)&&S.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(i.tag=15,i.type=S,xf(t,i,S,x,C)):(t=rc(f.type,null,x,i,i.mode,C),t.ref=i.ref,t.return=i,i.child=t)}if(S=t.child,(t.lanes&C)===0){var j=S.memoizedProps;if(f=f.compare,f=f!==null?f:se,f(j,x)&&t.ref===i.ref)return Ai(t,i,C)}return i.flags|=1,t=is(S,x),t.ref=i.ref,t.return=i,i.child=t}function xf(t,i,f,x,C){if(t!==null){var S=t.memoizedProps;if(se(S,x)&&t.ref===i.ref)if(lr=!1,i.pendingProps=x=S,(t.lanes&C)!==0)(t.flags&131072)!==0&&(lr=!0);else return i.lanes=t.lanes,Ai(t,i,C)}return Ou(t,i,f,x,C)}function yf(t,i,f){var x=i.pendingProps,C=x.children,S=t!==null?t.memoizedState:null;if(x.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(Aa,Nr),Nr|=f;else{if((f&1073741824)===0)return t=S!==null?S.baseLanes|f:f,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:t,cachePool:null,transitions:null},i.updateQueue=null,zt(Aa,Nr),Nr|=t,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=S!==null?S.baseLanes:f,zt(Aa,Nr),Nr|=x}else S!==null?(x=S.baseLanes|f,i.memoizedState=null):x=f,zt(Aa,Nr),Nr|=x;return Zn(t,i,C,f),i.child}function vf(t,i){var f=i.ref;(t===null&&f!==null||t!==null&&t.ref!==f)&&(i.flags|=512,i.flags|=2097152)}function Ou(t,i,f,x,C){var S=or(f)?Ms:Wn.current;return S=ga(i,S),Ca(i,C),f=Cu(t,i,f,x,S,C),x=Eu(),t!==null&&!lr?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~C,Ai(t,i,C)):(Zt&&x&&su(i),i.flags|=1,Zn(t,i,f,C),i.child)}function wf(t,i,f,x,C){if(or(f)){var S=!0;Il(i)}else S=!1;if(Ca(i,C),i.stateNode===null)ql(t,i),lf(i,f,x),Tu(i,f,x,C),x=!0;else if(t===null){var j=i.stateNode,U=i.memoizedProps;j.props=U;var q=j.context,oe=f.contextType;typeof oe=="object"&&oe!==null?oe=Lr(oe):(oe=or(f)?Ms:Wn.current,oe=ga(i,oe));var me=f.getDerivedStateFromProps,xe=typeof me=="function"||typeof j.getSnapshotBeforeUpdate=="function";xe||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(U!==x||q!==oe)&&cf(i,j,x,oe),Qi=!1;var fe=i.memoizedState;j.state=fe,Ll(i,x,j,C),q=i.memoizedState,U!==x||fe!==q||ar.current||Qi?(typeof me=="function"&&(Iu(i,f,me,x),q=i.memoizedState),(U=Qi||of(i,f,U,x,fe,q,oe))?(xe||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(i.flags|=4194308)):(typeof j.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=x,i.memoizedState=q),j.props=x,j.state=q,j.context=oe,x=U):(typeof j.componentDidMount=="function"&&(i.flags|=4194308),x=!1)}else{j=i.stateNode,Rh(t,i),U=i.memoizedProps,oe=i.type===i.elementType?U:Xr(i.type,U),j.props=oe,xe=i.pendingProps,fe=j.context,q=f.contextType,typeof q=="object"&&q!==null?q=Lr(q):(q=or(f)?Ms:Wn.current,q=ga(i,q));var Oe=f.getDerivedStateFromProps;(me=typeof Oe=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(U!==xe||fe!==q)&&cf(i,j,x,q),Qi=!1,fe=i.memoizedState,j.state=fe,Ll(i,x,j,C);var Le=i.memoizedState;U!==xe||fe!==Le||ar.current||Qi?(typeof Oe=="function"&&(Iu(i,f,Oe,x),Le=i.memoizedState),(oe=Qi||of(i,f,oe,x,fe,Le,q)||!1)?(me||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(x,Le,q),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(x,Le,q)),typeof j.componentDidUpdate=="function"&&(i.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof j.componentDidUpdate!="function"||U===t.memoizedProps&&fe===t.memoizedState||(i.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||U===t.memoizedProps&&fe===t.memoizedState||(i.flags|=1024),i.memoizedProps=x,i.memoizedState=Le),j.props=x,j.state=Le,j.context=q,x=oe):(typeof j.componentDidUpdate!="function"||U===t.memoizedProps&&fe===t.memoizedState||(i.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||U===t.memoizedProps&&fe===t.memoizedState||(i.flags|=1024),x=!1)}return Du(t,i,f,x,S,C)}function Du(t,i,f,x,C,S){vf(t,i);var j=(i.flags&128)!==0;if(!x&&!j)return C&&Nh(i,f,!1),Ai(t,i,S);x=i.stateNode,em.current=i;var U=j&&typeof f.getDerivedStateFromError!="function"?null:x.render();return i.flags|=1,t!==null&&j?(i.child=wa(i,t.child,null,S),i.child=wa(i,null,U,S)):Zn(t,i,U,S),i.memoizedState=x.state,C&&Nh(i,f,!0),i.child}function bf(t){var i=t.stateNode;i.pendingContext?Ch(t,i.pendingContext,i.pendingContext!==i.context):i.context&&Ch(t,i.context,!1),gu(t,i.containerInfo)}function Cf(t,i,f,x,C){return va(),cu(C),i.flags|=256,Zn(t,i,f,x),i.child}var Mu={dehydrated:null,treeContext:null,retryLane:0};function Ru(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ef(t,i,f){var x=i.pendingProps,C=en.current,S=!1,j=(i.flags&128)!==0,U;if((U=j)||(U=t!==null&&t.memoizedState===null?!1:(C&2)!==0),U?(S=!0,i.flags&=-129):(t===null||t.memoizedState!==null)&&(C|=1),zt(en,C&1),t===null)return lu(i),t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((i.mode&1)===0?i.lanes=1:t.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(j=x.children,t=x.fallback,S?(x=i.mode,S=i.child,j={mode:"hidden",children:j},(x&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=j):S=ic(j,x,0,null),t=Vs(t,x,f,null),S.return=i,t.return=i,S.sibling=t,i.child=S,i.child.memoizedState=Ru(f),i.memoizedState=Mu,t):Pu(i,j));if(C=t.memoizedState,C!==null&&(U=C.dehydrated,U!==null))return tm(t,i,j,x,U,C,f);if(S){S=x.fallback,j=i.mode,C=t.child,U=C.sibling;var q={mode:"hidden",children:x.children};return(j&1)===0&&i.child!==C?(x=i.child,x.childLanes=0,x.pendingProps=q,i.deletions=null):(x=is(C,q),x.subtreeFlags=C.subtreeFlags&14680064),U!==null?S=is(U,S):(S=Vs(S,j,f,null),S.flags|=2),S.return=i,x.return=i,x.sibling=S,i.child=x,x=S,S=i.child,j=t.child.memoizedState,j=j===null?Ru(f):{baseLanes:j.baseLanes|f,cachePool:null,transitions:j.transitions},S.memoizedState=j,S.childLanes=t.childLanes&~f,i.memoizedState=Mu,x}return S=t.child,t=S.sibling,x=is(S,{mode:"visible",children:x.children}),(i.mode&1)===0&&(x.lanes=f),x.return=i,x.sibling=null,t!==null&&(f=i.deletions,f===null?(i.deletions=[t],i.flags|=16):f.push(t)),i.child=x,i.memoizedState=null,x}function Pu(t,i){return i=ic({mode:"visible",children:i},t.mode,0,null),i.return=t,t.child=i}function Gl(t,i,f,x){return x!==null&&cu(x),wa(i,t.child,null,f),t=Pu(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function tm(t,i,f,x,C,S,j){if(f)return i.flags&256?(i.flags&=-257,x=ku(Error(a(422))),Gl(t,i,j,x)):i.memoizedState!==null?(i.child=t.child,i.flags|=128,null):(S=x.fallback,C=i.mode,x=ic({mode:"visible",children:x.children},C,0,null),S=Vs(S,C,j,null),S.flags|=2,x.return=i,S.return=i,x.sibling=S,i.child=x,(i.mode&1)!==0&&wa(i,t.child,null,j),i.child.memoizedState=Ru(j),i.memoizedState=Mu,S);if((i.mode&1)===0)return Gl(t,i,j,null);if(C.data==="$!"){if(x=C.nextSibling&&C.nextSibling.dataset,x)var U=x.dgst;return x=U,S=Error(a(419)),x=ku(S,x,void 0),Gl(t,i,j,x)}if(U=(j&t.childLanes)!==0,lr||U){if(x=In,x!==null){switch(j&-j){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(x.suspendedLanes|j))!==0?0:C,C!==0&&C!==S.retryLane&&(S.retryLane=C,Ni(t,C),Qr(x,t,C,-1))}return Zu(),x=ku(Error(a(421))),Gl(t,i,j,x)}return C.data==="$?"?(i.flags|=128,i.child=t.child,i=pm.bind(null,t),C._reactRetry=i,null):(t=S.treeContext,Er=Yi(C.nextSibling),Cr=i,Zt=!0,Yr=null,t!==null&&(Rr[Pr++]=Ci,Rr[Pr++]=Ei,Rr[Pr++]=Rs,Ci=t.id,Ei=t.overflow,Rs=i),i=Pu(i,x.children),i.flags|=4096,i)}function Nf(t,i,f){t.lanes|=i;var x=t.alternate;x!==null&&(x.lanes|=i),fu(t.return,i,f)}function Lu(t,i,f,x,C){var S=t.memoizedState;S===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:x,tail:f,tailMode:C}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=x,S.tail=f,S.tailMode=C)}function Sf(t,i,f){var x=i.pendingProps,C=x.revealOrder,S=x.tail;if(Zn(t,i,x.children,f),x=en.current,(x&2)!==0)x=x&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nf(t,f,i);else if(t.tag===19)Nf(t,f,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}x&=1}if(zt(en,x),(i.mode&1)===0)i.memoizedState=null;else switch(C){case"forwards":for(f=i.child,C=null;f!==null;)t=f.alternate,t!==null&&Bl(t)===null&&(C=f),f=f.sibling;f=C,f===null?(C=i.child,i.child=null):(C=f.sibling,f.sibling=null),Lu(i,!1,C,f,S);break;case"backwards":for(f=null,C=i.child,i.child=null;C!==null;){if(t=C.alternate,t!==null&&Bl(t)===null){i.child=C;break}t=C.sibling,C.sibling=f,f=C,C=t}Lu(i,!0,f,null,S);break;case"together":Lu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ql(t,i){(i.mode&1)===0&&t!==null&&(t.alternate=null,i.alternate=null,i.flags|=2)}function Ai(t,i,f){if(t!==null&&(i.dependencies=t.dependencies),Us|=i.lanes,(f&i.childLanes)===0)return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,f=is(t,t.pendingProps),i.child=f,f.return=i;t.sibling!==null;)t=t.sibling,f=f.sibling=is(t,t.pendingProps),f.return=i;f.sibling=null}return i.child}function nm(t,i,f){switch(i.tag){case 3:bf(i),va();break;case 5:Bh(i);break;case 1:or(i.type)&&Il(i);break;case 4:gu(i,i.stateNode.containerInfo);break;case 10:var x=i.type._context,C=i.memoizedProps.value;zt(Ml,x._currentValue),x._currentValue=C;break;case 13:if(x=i.memoizedState,x!==null)return x.dehydrated!==null?(zt(en,en.current&1),i.flags|=128,null):(f&i.child.childLanes)!==0?Ef(t,i,f):(zt(en,en.current&1),t=Ai(t,i,f),t!==null?t.sibling:null);zt(en,en.current&1);break;case 19:if(x=(f&i.childLanes)!==0,(t.flags&128)!==0){if(x)return Sf(t,i,f);i.flags|=128}if(C=i.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),zt(en,en.current),x)break;return null;case 22:case 23:return i.lanes=0,yf(t,i,f)}return Ai(t,i,f)}var Af,Bu,_f,If;Af=function(t,i){for(var f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break;for(;f.sibling===null;){if(f.return===null||f.return===i)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Bu=function(){},_f=function(t,i,f,x){var C=t.memoizedProps;if(C!==x){t=i.stateNode,Bs(li.current);var S=null;switch(f){case"input":C=fr(t,C),x=fr(t,x),S=[];break;case"select":C=Ae({},C,{value:void 0}),x=Ae({},x,{value:void 0}),S=[];break;case"textarea":C=ni(t,C),x=ni(t,x),S=[];break;default:typeof C.onClick!="function"&&typeof x.onClick=="function"&&(t.onclick=Sl)}xt(f,x);var j;f=null;for(oe in C)if(!x.hasOwnProperty(oe)&&C.hasOwnProperty(oe)&&C[oe]!=null)if(oe==="style"){var U=C[oe];for(j in U)U.hasOwnProperty(j)&&(f||(f={}),f[j]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(m.hasOwnProperty(oe)?S||(S=[]):(S=S||[]).push(oe,null));for(oe in x){var q=x[oe];if(U=C!=null?C[oe]:void 0,x.hasOwnProperty(oe)&&q!==U&&(q!=null||U!=null))if(oe==="style")if(U){for(j in U)!U.hasOwnProperty(j)||q&&q.hasOwnProperty(j)||(f||(f={}),f[j]="");for(j in q)q.hasOwnProperty(j)&&U[j]!==q[j]&&(f||(f={}),f[j]=q[j])}else f||(S||(S=[]),S.push(oe,f)),f=q;else oe==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,U=U?U.__html:void 0,q!=null&&U!==q&&(S=S||[]).push(oe,q)):oe==="children"?typeof q!="string"&&typeof q!="number"||(S=S||[]).push(oe,""+q):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(m.hasOwnProperty(oe)?(q!=null&&oe==="onScroll"&&Gt("scroll",t),S||U===q||(S=[])):(S=S||[]).push(oe,q))}f&&(S=S||[]).push("style",f);var oe=S;(i.updateQueue=oe)&&(i.flags|=4)}},If=function(t,i,f,x){f!==x&&(i.flags|=4)};function Do(t,i){if(!Zt)switch(t.tailMode){case"hidden":i=t.tail;for(var f=null;i!==null;)i.alternate!==null&&(f=i),i=i.sibling;f===null?t.tail=null:f.sibling=null;break;case"collapsed":f=t.tail;for(var x=null;f!==null;)f.alternate!==null&&(x=f),f=f.sibling;x===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:x.sibling=null}}function Gn(t){var i=t.alternate!==null&&t.alternate.child===t.child,f=0,x=0;if(i)for(var C=t.child;C!==null;)f|=C.lanes|C.childLanes,x|=C.subtreeFlags&14680064,x|=C.flags&14680064,C.return=t,C=C.sibling;else for(C=t.child;C!==null;)f|=C.lanes|C.childLanes,x|=C.subtreeFlags,x|=C.flags,C.return=t,C=C.sibling;return t.subtreeFlags|=x,t.childLanes=f,i}function rm(t,i,f){var x=i.pendingProps;switch(au(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(i),null;case 1:return or(i.type)&&_l(),Gn(i),null;case 3:return x=i.stateNode,Ea(),qt(ar),qt(Wn),vu(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(t===null||t.child===null)&&(Ol(i)?i.flags|=4:t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Yr!==null&&($u(Yr),Yr=null))),Bu(t,i),Gn(i),null;case 5:xu(i);var C=Bs(Io.current);if(f=i.type,t!==null&&i.stateNode!=null)_f(t,i,f,x,C),t.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!x){if(i.stateNode===null)throw Error(a(166));return Gn(i),null}if(t=Bs(li.current),Ol(i)){x=i.stateNode,f=i.type;var S=i.memoizedProps;switch(x[oi]=i,x[Eo]=S,t=(i.mode&1)!==0,f){case"dialog":Gt("cancel",x),Gt("close",x);break;case"iframe":case"object":case"embed":Gt("load",x);break;case"video":case"audio":for(C=0;C<wo.length;C++)Gt(wo[C],x);break;case"source":Gt("error",x);break;case"img":case"image":case"link":Gt("error",x),Gt("load",x);break;case"details":Gt("toggle",x);break;case"input":Bn(x,S),Gt("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!S.multiple},Gt("invalid",x);break;case"textarea":vs(x,S),Gt("invalid",x)}xt(f,S),C=null;for(var j in S)if(S.hasOwnProperty(j)){var U=S[j];j==="children"?typeof U=="string"?x.textContent!==U&&(S.suppressHydrationWarning!==!0&&Nl(x.textContent,U,t),C=["children",U]):typeof U=="number"&&x.textContent!==""+U&&(S.suppressHydrationWarning!==!0&&Nl(x.textContent,U,t),C=["children",""+U]):m.hasOwnProperty(j)&&U!=null&&j==="onScroll"&&Gt("scroll",x)}switch(f){case"input":$t(x),bt(x,S,!0);break;case"textarea":$t(x),Ve(x);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(x.onclick=Sl)}x=C,i.updateQueue=x,x!==null&&(i.flags|=4)}else{j=C.nodeType===9?C:C.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gt(f)),t==="http://www.w3.org/1999/xhtml"?f==="script"?(t=j.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof x.is=="string"?t=j.createElement(f,{is:x.is}):(t=j.createElement(f),f==="select"&&(j=t,x.multiple?j.multiple=!0:x.size&&(j.size=x.size))):t=j.createElementNS(t,f),t[oi]=i,t[Eo]=x,Af(t,i,!1,!1),i.stateNode=t;e:{switch(j=At(f,x),f){case"dialog":Gt("cancel",t),Gt("close",t),C=x;break;case"iframe":case"object":case"embed":Gt("load",t),C=x;break;case"video":case"audio":for(C=0;C<wo.length;C++)Gt(wo[C],t);C=x;break;case"source":Gt("error",t),C=x;break;case"img":case"image":case"link":Gt("error",t),Gt("load",t),C=x;break;case"details":Gt("toggle",t),C=x;break;case"input":Bn(t,x),C=fr(t,x),Gt("invalid",t);break;case"option":C=x;break;case"select":t._wrapperState={wasMultiple:!!x.multiple},C=Ae({},x,{value:void 0}),Gt("invalid",t);break;case"textarea":vs(t,x),C=ni(t,x),Gt("invalid",t);break;default:C=x}xt(f,C),U=C;for(S in U)if(U.hasOwnProperty(S)){var q=U[S];S==="style"?Ce(t,q):S==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&Kt(t,q)):S==="children"?typeof q=="string"?(f!=="textarea"||q!=="")&&Kn(t,q):typeof q=="number"&&Kn(t,""+q):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(m.hasOwnProperty(S)?q!=null&&S==="onScroll"&&Gt("scroll",t):q!=null&&V(t,S,q,j))}switch(f){case"input":$t(t),bt(t,x,!1);break;case"textarea":$t(t),Ve(t);break;case"option":x.value!=null&&t.setAttribute("value",""+Xe(x.value));break;case"select":t.multiple=!!x.multiple,S=x.value,S!=null?je(t,!!x.multiple,S,!1):x.defaultValue!=null&&je(t,!!x.multiple,x.defaultValue,!0);break;default:typeof C.onClick=="function"&&(t.onclick=Sl)}switch(f){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Gn(i),null;case 6:if(t&&i.stateNode!=null)If(t,i,t.memoizedProps,x);else{if(typeof x!="string"&&i.stateNode===null)throw Error(a(166));if(f=Bs(Io.current),Bs(li.current),Ol(i)){if(x=i.stateNode,f=i.memoizedProps,x[oi]=i,(S=x.nodeValue!==f)&&(t=Cr,t!==null))switch(t.tag){case 3:Nl(x.nodeValue,f,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nl(x.nodeValue,f,(t.mode&1)!==0)}S&&(i.flags|=4)}else x=(f.nodeType===9?f:f.ownerDocument).createTextNode(x),x[oi]=i,i.stateNode=x}return Gn(i),null;case 13:if(qt(en),x=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Zt&&Er!==null&&(i.mode&1)!==0&&(i.flags&128)===0)kh(),va(),i.flags|=98560,S=!1;else if(S=Ol(i),x!==null&&x.dehydrated!==null){if(t===null){if(!S)throw Error(a(318));if(S=i.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(a(317));S[oi]=i}else va(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Gn(i),S=!1}else Yr!==null&&($u(Yr),Yr=null),S=!0;if(!S)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=f,i):(x=x!==null,x!==(t!==null&&t.memoizedState!==null)&&x&&(i.child.flags|=8192,(i.mode&1)!==0&&(t===null||(en.current&1)!==0?Nn===0&&(Nn=3):Zu())),i.updateQueue!==null&&(i.flags|=4),Gn(i),null);case 4:return Ea(),Bu(t,i),t===null&&bo(i.stateNode.containerInfo),Gn(i),null;case 10:return hu(i.type._context),Gn(i),null;case 17:return or(i.type)&&_l(),Gn(i),null;case 19:if(qt(en),S=i.memoizedState,S===null)return Gn(i),null;if(x=(i.flags&128)!==0,j=S.rendering,j===null)if(x)Do(S,!1);else{if(Nn!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(j=Bl(t),j!==null){for(i.flags|=128,Do(S,!1),x=j.updateQueue,x!==null&&(i.updateQueue=x,i.flags|=4),i.subtreeFlags=0,x=f,f=i.child;f!==null;)S=f,t=x,S.flags&=14680066,j=S.alternate,j===null?(S.childLanes=0,S.lanes=t,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=j.childLanes,S.lanes=j.lanes,S.child=j.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=j.memoizedProps,S.memoizedState=j.memoizedState,S.updateQueue=j.updateQueue,S.type=j.type,t=j.dependencies,S.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),f=f.sibling;return zt(en,en.current&1|2),i.child}t=t.sibling}S.tail!==null&&_t()>_a&&(i.flags|=128,x=!0,Do(S,!1),i.lanes=4194304)}else{if(!x)if(t=Bl(j),t!==null){if(i.flags|=128,x=!0,f=t.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),Do(S,!0),S.tail===null&&S.tailMode==="hidden"&&!j.alternate&&!Zt)return Gn(i),null}else 2*_t()-S.renderingStartTime>_a&&f!==1073741824&&(i.flags|=128,x=!0,Do(S,!1),i.lanes=4194304);S.isBackwards?(j.sibling=i.child,i.child=j):(f=S.last,f!==null?f.sibling=j:i.child=j,S.last=j)}return S.tail!==null?(i=S.tail,S.rendering=i,S.tail=i.sibling,S.renderingStartTime=_t(),i.sibling=null,f=en.current,zt(en,x?f&1|2:f&1),i):(Gn(i),null);case 22:case 23:return Qu(),x=i.memoizedState!==null,t!==null&&t.memoizedState!==null!==x&&(i.flags|=8192),x&&(i.mode&1)!==0?(Nr&1073741824)!==0&&(Gn(i),i.subtreeFlags&6&&(i.flags|=8192)):Gn(i),null;case 24:return null;case 25:return null}throw Error(a(156,i.tag))}function im(t,i){switch(au(i),i.tag){case 1:return or(i.type)&&_l(),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ea(),qt(ar),qt(Wn),vu(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 5:return xu(i),null;case 13:if(qt(en),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));va()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return qt(en),null;case 4:return Ea(),null;case 10:return hu(i.type._context),null;case 22:case 23:return Qu(),null;case 24:return null;default:return null}}var Yl=!1,qn=!1,sm=typeof WeakSet=="function"?WeakSet:Set,Re=null;function Sa(t,i){var f=t.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(x){ln(t,i,x)}else f.current=null}function Fu(t,i,f){try{f()}catch(x){ln(t,i,x)}}var Tf=!1;function am(t,i){if(Qc=si,t=ut(),tt(t)){if("selectionStart"in t)var f={start:t.selectionStart,end:t.selectionEnd};else e:{f=(f=t.ownerDocument)&&f.defaultView||window;var x=f.getSelection&&f.getSelection();if(x&&x.rangeCount!==0){f=x.anchorNode;var C=x.anchorOffset,S=x.focusNode;x=x.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var j=0,U=-1,q=-1,oe=0,me=0,xe=t,fe=null;t:for(;;){for(var Oe;xe!==f||C!==0&&xe.nodeType!==3||(U=j+C),xe!==S||x!==0&&xe.nodeType!==3||(q=j+x),xe.nodeType===3&&(j+=xe.nodeValue.length),(Oe=xe.firstChild)!==null;)fe=xe,xe=Oe;for(;;){if(xe===t)break t;if(fe===f&&++oe===C&&(U=j),fe===S&&++me===x&&(q=j),(Oe=xe.nextSibling)!==null)break;xe=fe,fe=xe.parentNode}xe=Oe}f=U===-1||q===-1?null:{start:U,end:q}}else f=null}f=f||{start:0,end:0}}else f=null;for(Zc={focusedElem:t,selectionRange:f},si=!1,Re=i;Re!==null;)if(i=Re,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Re=t;else for(;Re!==null;){i=Re;try{var Le=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var Be=Le.memoizedProps,pn=Le.memoizedState,ne=i.stateNode,X=ne.getSnapshotBeforeUpdate(i.elementType===i.type?Be:Xr(i.type,Be),pn);ne.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var re=i.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(be){ln(i,i.return,be)}if(t=i.sibling,t!==null){t.return=i.return,Re=t;break}Re=i.return}return Le=Tf,Tf=!1,Le}function Mo(t,i,f){var x=i.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var C=x=x.next;do{if((C.tag&t)===t){var S=C.destroy;C.destroy=void 0,S!==void 0&&Fu(i,f,S)}C=C.next}while(C!==x)}}function Xl(t,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var f=i=i.next;do{if((f.tag&t)===t){var x=f.create;f.destroy=x()}f=f.next}while(f!==i)}}function Uu(t){var i=t.ref;if(i!==null){var f=t.stateNode;switch(t.tag){case 5:t=f;break;default:t=f}typeof i=="function"?i(t):i.current=t}}function kf(t){var i=t.alternate;i!==null&&(t.alternate=null,kf(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&(delete i[oi],delete i[Eo],delete i[nu],delete i[H1],delete i[W1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jf(t){return t.tag===5||t.tag===3||t.tag===4}function Of(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zu(t,i,f){var x=t.tag;if(x===5||x===6)t=t.stateNode,i?f.nodeType===8?f.parentNode.insertBefore(t,i):f.insertBefore(t,i):(f.nodeType===8?(i=f.parentNode,i.insertBefore(t,f)):(i=f,i.appendChild(t)),f=f._reactRootContainer,f!=null||i.onclick!==null||(i.onclick=Sl));else if(x!==4&&(t=t.child,t!==null))for(zu(t,i,f),t=t.sibling;t!==null;)zu(t,i,f),t=t.sibling}function Hu(t,i,f){var x=t.tag;if(x===5||x===6)t=t.stateNode,i?f.insertBefore(t,i):f.appendChild(t);else if(x!==4&&(t=t.child,t!==null))for(Hu(t,i,f),t=t.sibling;t!==null;)Hu(t,i,f),t=t.sibling}var Pn=null,$r=!1;function Ji(t,i,f){for(f=f.child;f!==null;)Df(t,i,f),f=f.sibling}function Df(t,i,f){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(yt,f)}catch{}switch(f.tag){case 5:qn||Sa(f,i);case 6:var x=Pn,C=$r;Pn=null,Ji(t,i,f),Pn=x,$r=C,Pn!==null&&($r?(t=Pn,f=f.stateNode,t.nodeType===8?t.parentNode.removeChild(f):t.removeChild(f)):Pn.removeChild(f.stateNode));break;case 18:Pn!==null&&($r?(t=Pn,f=f.stateNode,t.nodeType===8?tu(t.parentNode,f):t.nodeType===1&&tu(t,f),Vr(t)):tu(Pn,f.stateNode));break;case 4:x=Pn,C=$r,Pn=f.stateNode.containerInfo,$r=!0,Ji(t,i,f),Pn=x,$r=C;break;case 0:case 11:case 14:case 15:if(!qn&&(x=f.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){C=x=x.next;do{var S=C,j=S.destroy;S=S.tag,j!==void 0&&((S&2)!==0||(S&4)!==0)&&Fu(f,i,j),C=C.next}while(C!==x)}Ji(t,i,f);break;case 1:if(!qn&&(Sa(f,i),x=f.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=f.memoizedProps,x.state=f.memoizedState,x.componentWillUnmount()}catch(U){ln(f,i,U)}Ji(t,i,f);break;case 21:Ji(t,i,f);break;case 22:f.mode&1?(qn=(x=qn)||f.memoizedState!==null,Ji(t,i,f),qn=x):Ji(t,i,f);break;default:Ji(t,i,f)}}function Mf(t){var i=t.updateQueue;if(i!==null){t.updateQueue=null;var f=t.stateNode;f===null&&(f=t.stateNode=new sm),i.forEach(function(x){var C=mm.bind(null,t,x);f.has(x)||(f.add(x),x.then(C,C))})}}function Kr(t,i){var f=i.deletions;if(f!==null)for(var x=0;x<f.length;x++){var C=f[x];try{var S=t,j=i,U=j;e:for(;U!==null;){switch(U.tag){case 5:Pn=U.stateNode,$r=!1;break e;case 3:Pn=U.stateNode.containerInfo,$r=!0;break e;case 4:Pn=U.stateNode.containerInfo,$r=!0;break e}U=U.return}if(Pn===null)throw Error(a(160));Df(S,j,C),Pn=null,$r=!1;var q=C.alternate;q!==null&&(q.return=null),C.return=null}catch(oe){ln(C,i,oe)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Rf(i,t),i=i.sibling}function Rf(t,i){var f=t.alternate,x=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kr(i,t),ui(t),x&4){try{Mo(3,t,t.return),Xl(3,t)}catch(Be){ln(t,t.return,Be)}try{Mo(5,t,t.return)}catch(Be){ln(t,t.return,Be)}}break;case 1:Kr(i,t),ui(t),x&512&&f!==null&&Sa(f,f.return);break;case 5:if(Kr(i,t),ui(t),x&512&&f!==null&&Sa(f,f.return),t.flags&32){var C=t.stateNode;try{Kn(C,"")}catch(Be){ln(t,t.return,Be)}}if(x&4&&(C=t.stateNode,C!=null)){var S=t.memoizedProps,j=f!==null?f.memoizedProps:S,U=t.type,q=t.updateQueue;if(t.updateQueue=null,q!==null)try{U==="input"&&S.type==="radio"&&S.name!=null&&Hr(C,S),At(U,j);var oe=At(U,S);for(j=0;j<q.length;j+=2){var me=q[j],xe=q[j+1];me==="style"?Ce(C,xe):me==="dangerouslySetInnerHTML"?Kt(C,xe):me==="children"?Kn(C,xe):V(C,me,xe,oe)}switch(U){case"input":jt(C,S);break;case"textarea":Ee(C,S);break;case"select":var fe=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!S.multiple;var Oe=S.value;Oe!=null?je(C,!!S.multiple,Oe,!1):fe!==!!S.multiple&&(S.defaultValue!=null?je(C,!!S.multiple,S.defaultValue,!0):je(C,!!S.multiple,S.multiple?[]:"",!1))}C[Eo]=S}catch(Be){ln(t,t.return,Be)}}break;case 6:if(Kr(i,t),ui(t),x&4){if(t.stateNode===null)throw Error(a(162));C=t.stateNode,S=t.memoizedProps;try{C.nodeValue=S}catch(Be){ln(t,t.return,Be)}}break;case 3:if(Kr(i,t),ui(t),x&4&&f!==null&&f.memoizedState.isDehydrated)try{Vr(i.containerInfo)}catch(Be){ln(t,t.return,Be)}break;case 4:Kr(i,t),ui(t);break;case 13:Kr(i,t),ui(t),C=t.child,C.flags&8192&&(S=C.memoizedState!==null,C.stateNode.isHidden=S,!S||C.alternate!==null&&C.alternate.memoizedState!==null||(Gu=_t())),x&4&&Mf(t);break;case 22:if(me=f!==null&&f.memoizedState!==null,t.mode&1?(qn=(oe=qn)||me,Kr(i,t),qn=oe):Kr(i,t),ui(t),x&8192){if(oe=t.memoizedState!==null,(t.stateNode.isHidden=oe)&&!me&&(t.mode&1)!==0)for(Re=t,me=t.child;me!==null;){for(xe=Re=me;Re!==null;){switch(fe=Re,Oe=fe.child,fe.tag){case 0:case 11:case 14:case 15:Mo(4,fe,fe.return);break;case 1:Sa(fe,fe.return);var Le=fe.stateNode;if(typeof Le.componentWillUnmount=="function"){x=fe,f=fe.return;try{i=x,Le.props=i.memoizedProps,Le.state=i.memoizedState,Le.componentWillUnmount()}catch(Be){ln(x,f,Be)}}break;case 5:Sa(fe,fe.return);break;case 22:if(fe.memoizedState!==null){Bf(xe);continue}}Oe!==null?(Oe.return=fe,Re=Oe):Bf(xe)}me=me.sibling}e:for(me=null,xe=t;;){if(xe.tag===5){if(me===null){me=xe;try{C=xe.stateNode,oe?(S=C.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(U=xe.stateNode,q=xe.memoizedProps.style,j=q!=null&&q.hasOwnProperty("display")?q.display:null,U.style.display=Mt("display",j))}catch(Be){ln(t,t.return,Be)}}}else if(xe.tag===6){if(me===null)try{xe.stateNode.nodeValue=oe?"":xe.memoizedProps}catch(Be){ln(t,t.return,Be)}}else if((xe.tag!==22&&xe.tag!==23||xe.memoizedState===null||xe===t)&&xe.child!==null){xe.child.return=xe,xe=xe.child;continue}if(xe===t)break e;for(;xe.sibling===null;){if(xe.return===null||xe.return===t)break e;me===xe&&(me=null),xe=xe.return}me===xe&&(me=null),xe.sibling.return=xe.return,xe=xe.sibling}}break;case 19:Kr(i,t),ui(t),x&4&&Mf(t);break;case 21:break;default:Kr(i,t),ui(t)}}function ui(t){var i=t.flags;if(i&2){try{e:{for(var f=t.return;f!==null;){if(jf(f)){var x=f;break e}f=f.return}throw Error(a(160))}switch(x.tag){case 5:var C=x.stateNode;x.flags&32&&(Kn(C,""),x.flags&=-33);var S=Of(t);Hu(t,S,C);break;case 3:case 4:var j=x.stateNode.containerInfo,U=Of(t);zu(t,U,j);break;default:throw Error(a(161))}}catch(q){ln(t,t.return,q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function om(t,i,f){Re=t,Pf(t)}function Pf(t,i,f){for(var x=(t.mode&1)!==0;Re!==null;){var C=Re,S=C.child;if(C.tag===22&&x){var j=C.memoizedState!==null||Yl;if(!j){var U=C.alternate,q=U!==null&&U.memoizedState!==null||qn;U=Yl;var oe=qn;if(Yl=j,(qn=q)&&!oe)for(Re=C;Re!==null;)j=Re,q=j.child,j.tag===22&&j.memoizedState!==null?Ff(C):q!==null?(q.return=j,Re=q):Ff(C);for(;S!==null;)Re=S,Pf(S),S=S.sibling;Re=C,Yl=U,qn=oe}Lf(t)}else(C.subtreeFlags&8772)!==0&&S!==null?(S.return=C,Re=S):Lf(t)}}function Lf(t){for(;Re!==null;){var i=Re;if((i.flags&8772)!==0){var f=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:qn||Xl(5,i);break;case 1:var x=i.stateNode;if(i.flags&4&&!qn)if(f===null)x.componentDidMount();else{var C=i.elementType===i.type?f.memoizedProps:Xr(i.type,f.memoizedProps);x.componentDidUpdate(C,f.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var S=i.updateQueue;S!==null&&Lh(i,S,x);break;case 3:var j=i.updateQueue;if(j!==null){if(f=null,i.child!==null)switch(i.child.tag){case 5:f=i.child.stateNode;break;case 1:f=i.child.stateNode}Lh(i,j,f)}break;case 5:var U=i.stateNode;if(f===null&&i.flags&4){f=U;var q=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&f.focus();break;case"img":q.src&&(f.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var oe=i.alternate;if(oe!==null){var me=oe.memoizedState;if(me!==null){var xe=me.dehydrated;xe!==null&&Vr(xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}qn||i.flags&512&&Uu(i)}catch(fe){ln(i,i.return,fe)}}if(i===t){Re=null;break}if(f=i.sibling,f!==null){f.return=i.return,Re=f;break}Re=i.return}}function Bf(t){for(;Re!==null;){var i=Re;if(i===t){Re=null;break}var f=i.sibling;if(f!==null){f.return=i.return,Re=f;break}Re=i.return}}function Ff(t){for(;Re!==null;){var i=Re;try{switch(i.tag){case 0:case 11:case 15:var f=i.return;try{Xl(4,i)}catch(q){ln(i,f,q)}break;case 1:var x=i.stateNode;if(typeof x.componentDidMount=="function"){var C=i.return;try{x.componentDidMount()}catch(q){ln(i,C,q)}}var S=i.return;try{Uu(i)}catch(q){ln(i,S,q)}break;case 5:var j=i.return;try{Uu(i)}catch(q){ln(i,j,q)}}}catch(q){ln(i,i.return,q)}if(i===t){Re=null;break}var U=i.sibling;if(U!==null){U.return=i.return,Re=U;break}Re=i.return}}var lm=Math.ceil,$l=ie.ReactCurrentDispatcher,Wu=ie.ReactCurrentOwner,Fr=ie.ReactCurrentBatchConfig,Et=0,In=null,xn=null,Ln=0,Nr=0,Aa=Xi(0),Nn=0,Ro=null,Us=0,Kl=0,Vu=0,Po=null,cr=null,Gu=0,_a=1/0,_i=null,Ql=!1,qu=null,es=null,Zl=!1,ts=null,Jl=0,Lo=0,Yu=null,ec=-1,tc=0;function Jn(){return(Et&6)!==0?_t():ec!==-1?ec:ec=_t()}function ns(t){return(t.mode&1)===0?1:(Et&2)!==0&&Ln!==0?Ln&-Ln:G1.transition!==null?(tc===0&&(tc=vn()),tc):(t=st,t!==0||(t=window.event,t=t===void 0?16:co(t.type)),t)}function Qr(t,i,f,x){if(50<Lo)throw Lo=0,Yu=null,Error(a(185));M(t,f,x),((Et&2)===0||t!==In)&&(t===In&&((Et&2)===0&&(Kl|=f),Nn===4&&rs(t,Ln)),ur(t,x),f===1&&Et===0&&(i.mode&1)===0&&(_a=_t()+500,Tl&&Ki()))}function ur(t,i){var f=t.callbackNode;Li(t,i);var x=yr(t,t===In?Ln:0);if(x===0)f!==null&&Sn(f),t.callbackNode=null,t.callbackPriority=0;else if(i=x&-x,t.callbackPriority!==i){if(f!=null&&Sn(f),i===1)t.tag===0?V1(zf.bind(null,t)):Sh(zf.bind(null,t)),U1(function(){(Et&6)===0&&Ki()}),f=null;else{switch(ul(x)){case 1:f=ue;break;case 4:f=ll;break;case 16:f=Rt;break;case 536870912:f=cl;break;default:f=Rt}f=$f(f,Uf.bind(null,t))}t.callbackPriority=i,t.callbackNode=f}}function Uf(t,i){if(ec=-1,tc=0,(Et&6)!==0)throw Error(a(327));var f=t.callbackNode;if(Ia()&&t.callbackNode!==f)return null;var x=yr(t,t===In?Ln:0);if(x===0)return null;if((x&30)!==0||(x&t.expiredLanes)!==0||i)i=nc(t,x);else{i=x;var C=Et;Et|=2;var S=Wf();(In!==t||Ln!==i)&&(_i=null,_a=_t()+500,Hs(t,i));do try{dm();break}catch(U){Hf(t,U)}while(!0);du(),$l.current=S,Et=C,xn!==null?i=0:(In=null,Ln=0,i=Nn)}if(i!==0){if(i===2&&(C=It(t),C!==0&&(x=C,i=Xu(t,C))),i===1)throw f=Ro,Hs(t,0),rs(t,x),ur(t,_t()),f;if(i===6)rs(t,x);else{if(C=t.current.alternate,(x&30)===0&&!cm(C)&&(i=nc(t,x),i===2&&(S=It(t),S!==0&&(x=S,i=Xu(t,S))),i===1))throw f=Ro,Hs(t,0),rs(t,x),ur(t,_t()),f;switch(t.finishedWork=C,t.finishedLanes=x,i){case 0:case 1:throw Error(a(345));case 2:Ws(t,cr,_i);break;case 3:if(rs(t,x),(x&130023424)===x&&(i=Gu+500-_t(),10<i)){if(yr(t,0)!==0)break;if(C=t.suspendedLanes,(C&x)!==x){Jn(),t.pingedLanes|=t.suspendedLanes&C;break}t.timeoutHandle=eu(Ws.bind(null,t,cr,_i),i);break}Ws(t,cr,_i);break;case 4:if(rs(t,x),(x&4194240)===x)break;for(i=t.eventTimes,C=-1;0<x;){var j=31-Qn(x);S=1<<j,j=i[j],j>C&&(C=j),x&=~S}if(x=C,x=_t()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*lm(x/1960))-x,10<x){t.timeoutHandle=eu(Ws.bind(null,t,cr,_i),x);break}Ws(t,cr,_i);break;case 5:Ws(t,cr,_i);break;default:throw Error(a(329))}}}return ur(t,_t()),t.callbackNode===f?Uf.bind(null,t):null}function Xu(t,i){var f=Po;return t.current.memoizedState.isDehydrated&&(Hs(t,i).flags|=256),t=nc(t,i),t!==2&&(i=cr,cr=f,i!==null&&$u(i)),t}function $u(t){cr===null?cr=t:cr.push.apply(cr,t)}function cm(t){for(var i=t;;){if(i.flags&16384){var f=i.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var x=0;x<f.length;x++){var C=f[x],S=C.getSnapshot;C=C.value;try{if(!Q(S(),C))return!1}catch{return!1}}}if(f=i.child,i.subtreeFlags&16384&&f!==null)f.return=i,i=f;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function rs(t,i){for(i&=~Vu,i&=~Kl,t.suspendedLanes|=i,t.pingedLanes&=~i,t=t.expirationTimes;0<i;){var f=31-Qn(i),x=1<<f;t[f]=-1,i&=~x}}function zf(t){if((Et&6)!==0)throw Error(a(327));Ia();var i=yr(t,0);if((i&1)===0)return ur(t,_t()),null;var f=nc(t,i);if(t.tag!==0&&f===2){var x=It(t);x!==0&&(i=x,f=Xu(t,x))}if(f===1)throw f=Ro,Hs(t,0),rs(t,i),ur(t,_t()),f;if(f===6)throw Error(a(345));return t.finishedWork=t.current.alternate,t.finishedLanes=i,Ws(t,cr,_i),ur(t,_t()),null}function Ku(t,i){var f=Et;Et|=1;try{return t(i)}finally{Et=f,Et===0&&(_a=_t()+500,Tl&&Ki())}}function zs(t){ts!==null&&ts.tag===0&&(Et&6)===0&&Ia();var i=Et;Et|=1;var f=Fr.transition,x=st;try{if(Fr.transition=null,st=1,t)return t()}finally{st=x,Fr.transition=f,Et=i,(Et&6)===0&&Ki()}}function Qu(){Nr=Aa.current,qt(Aa)}function Hs(t,i){t.finishedWork=null,t.finishedLanes=0;var f=t.timeoutHandle;if(f!==-1&&(t.timeoutHandle=-1,F1(f)),xn!==null)for(f=xn.return;f!==null;){var x=f;switch(au(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&_l();break;case 3:Ea(),qt(ar),qt(Wn),vu();break;case 5:xu(x);break;case 4:Ea();break;case 13:qt(en);break;case 19:qt(en);break;case 10:hu(x.type._context);break;case 22:case 23:Qu()}f=f.return}if(In=t,xn=t=is(t.current,null),Ln=Nr=i,Nn=0,Ro=null,Vu=Kl=Us=0,cr=Po=null,Ls!==null){for(i=0;i<Ls.length;i++)if(f=Ls[i],x=f.interleaved,x!==null){f.interleaved=null;var C=x.next,S=f.pending;if(S!==null){var j=S.next;S.next=C,x.next=j}f.pending=x}Ls=null}return t}function Hf(t,i){do{var f=xn;try{if(du(),Fl.current=Wl,Ul){for(var x=tn.memoizedState;x!==null;){var C=x.queue;C!==null&&(C.pending=null),x=x.next}Ul=!1}if(Fs=0,_n=En=tn=null,To=!1,ko=0,Wu.current=null,f===null||f.return===null){Nn=1,Ro=i,xn=null;break}e:{var S=t,j=f.return,U=f,q=i;if(i=Ln,U.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var oe=q,me=U,xe=me.tag;if((me.mode&1)===0&&(xe===0||xe===11||xe===15)){var fe=me.alternate;fe?(me.updateQueue=fe.updateQueue,me.memoizedState=fe.memoizedState,me.lanes=fe.lanes):(me.updateQueue=null,me.memoizedState=null)}var Oe=ff(j);if(Oe!==null){Oe.flags&=-257,pf(Oe,j,U,S,i),Oe.mode&1&&hf(S,oe,i),i=Oe,q=oe;var Le=i.updateQueue;if(Le===null){var Be=new Set;Be.add(q),i.updateQueue=Be}else Le.add(q);break e}else{if((i&1)===0){hf(S,oe,i),Zu();break e}q=Error(a(426))}}else if(Zt&&U.mode&1){var pn=ff(j);if(pn!==null){(pn.flags&65536)===0&&(pn.flags|=256),pf(pn,j,U,S,i),cu(Na(q,U));break e}}S=q=Na(q,U),Nn!==4&&(Nn=2),Po===null?Po=[S]:Po.push(S),S=j;do{switch(S.tag){case 3:S.flags|=65536,i&=-i,S.lanes|=i;var ne=uf(S,q,i);Ph(S,ne);break e;case 1:U=q;var X=S.type,re=S.stateNode;if((S.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(es===null||!es.has(re)))){S.flags|=65536,i&=-i,S.lanes|=i;var be=df(S,U,i);Ph(S,be);break e}}S=S.return}while(S!==null)}Gf(f)}catch(Ue){i=Ue,xn===f&&f!==null&&(xn=f=f.return);continue}break}while(!0)}function Wf(){var t=$l.current;return $l.current=Wl,t===null?Wl:t}function Zu(){(Nn===0||Nn===3||Nn===2)&&(Nn=4),In===null||(Us&268435455)===0&&(Kl&268435455)===0||rs(In,Ln)}function nc(t,i){var f=Et;Et|=2;var x=Wf();(In!==t||Ln!==i)&&(_i=null,Hs(t,i));do try{um();break}catch(C){Hf(t,C)}while(!0);if(du(),Et=f,$l.current=x,xn!==null)throw Error(a(261));return In=null,Ln=0,Nn}function um(){for(;xn!==null;)Vf(xn)}function dm(){for(;xn!==null&&!Bt();)Vf(xn)}function Vf(t){var i=Xf(t.alternate,t,Nr);t.memoizedProps=t.pendingProps,i===null?Gf(t):xn=i,Wu.current=null}function Gf(t){var i=t;do{var f=i.alternate;if(t=i.return,(i.flags&32768)===0){if(f=rm(f,i,Nr),f!==null){xn=f;return}}else{if(f=im(f,i),f!==null){f.flags&=32767,xn=f;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Nn=6,xn=null;return}}if(i=i.sibling,i!==null){xn=i;return}xn=i=t}while(i!==null);Nn===0&&(Nn=5)}function Ws(t,i,f){var x=st,C=Fr.transition;try{Fr.transition=null,st=1,hm(t,i,f,x)}finally{Fr.transition=C,st=x}return null}function hm(t,i,f,x){do Ia();while(ts!==null);if((Et&6)!==0)throw Error(a(327));f=t.finishedWork;var C=t.finishedLanes;if(f===null)return null;if(t.finishedWork=null,t.finishedLanes=0,f===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0;var S=f.lanes|f.childLanes;if(ze(t,S),t===In&&(xn=In=null,Ln=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Zl||(Zl=!0,$f(Rt,function(){return Ia(),null})),S=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||S){S=Fr.transition,Fr.transition=null;var j=st;st=1;var U=Et;Et|=4,Wu.current=null,am(t,f),Rf(f,t),Hn(Zc),si=!!Qc,Zc=Qc=null,t.current=f,om(f),ol(),Et=U,st=j,Fr.transition=S}else t.current=f;if(Zl&&(Zl=!1,ts=t,Jl=C),S=t.pendingLanes,S===0&&(es=null),ft(f.stateNode),ur(t,_t()),i!==null)for(x=t.onRecoverableError,f=0;f<i.length;f++)C=i[f],x(C.value,{componentStack:C.stack,digest:C.digest});if(Ql)throw Ql=!1,t=qu,qu=null,t;return(Jl&1)!==0&&t.tag!==0&&Ia(),S=t.pendingLanes,(S&1)!==0?t===Yu?Lo++:(Lo=0,Yu=t):Lo=0,Ki(),null}function Ia(){if(ts!==null){var t=ul(Jl),i=Fr.transition,f=st;try{if(Fr.transition=null,st=16>t?16:t,ts===null)var x=!1;else{if(t=ts,ts=null,Jl=0,(Et&6)!==0)throw Error(a(331));var C=Et;for(Et|=4,Re=t.current;Re!==null;){var S=Re,j=S.child;if((Re.flags&16)!==0){var U=S.deletions;if(U!==null){for(var q=0;q<U.length;q++){var oe=U[q];for(Re=oe;Re!==null;){var me=Re;switch(me.tag){case 0:case 11:case 15:Mo(8,me,S)}var xe=me.child;if(xe!==null)xe.return=me,Re=xe;else for(;Re!==null;){me=Re;var fe=me.sibling,Oe=me.return;if(kf(me),me===oe){Re=null;break}if(fe!==null){fe.return=Oe,Re=fe;break}Re=Oe}}}var Le=S.alternate;if(Le!==null){var Be=Le.child;if(Be!==null){Le.child=null;do{var pn=Be.sibling;Be.sibling=null,Be=pn}while(Be!==null)}}Re=S}}if((S.subtreeFlags&2064)!==0&&j!==null)j.return=S,Re=j;else e:for(;Re!==null;){if(S=Re,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Mo(9,S,S.return)}var ne=S.sibling;if(ne!==null){ne.return=S.return,Re=ne;break e}Re=S.return}}var X=t.current;for(Re=X;Re!==null;){j=Re;var re=j.child;if((j.subtreeFlags&2064)!==0&&re!==null)re.return=j,Re=re;else e:for(j=X;Re!==null;){if(U=Re,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:Xl(9,U)}}catch(Ue){ln(U,U.return,Ue)}if(U===j){Re=null;break e}var be=U.sibling;if(be!==null){be.return=U.return,Re=be;break e}Re=U.return}}if(Et=C,Ki(),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(yt,t)}catch{}x=!0}return x}finally{st=f,Fr.transition=i}}return!1}function qf(t,i,f){i=Na(f,i),i=uf(t,i,1),t=Zi(t,i,1),i=Jn(),t!==null&&(M(t,1,i),ur(t,i))}function ln(t,i,f){if(t.tag===3)qf(t,t,f);else for(;i!==null;){if(i.tag===3){qf(i,t,f);break}else if(i.tag===1){var x=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(es===null||!es.has(x))){t=Na(f,t),t=df(i,t,1),i=Zi(i,t,1),t=Jn(),i!==null&&(M(i,1,t),ur(i,t));break}}i=i.return}}function fm(t,i,f){var x=t.pingCache;x!==null&&x.delete(i),i=Jn(),t.pingedLanes|=t.suspendedLanes&f,In===t&&(Ln&f)===f&&(Nn===4||Nn===3&&(Ln&130023424)===Ln&&500>_t()-Gu?Hs(t,0):Vu|=f),ur(t,i)}function Yf(t,i){i===0&&((t.mode&1)===0?i=1:(i=ia,ia<<=1,(ia&130023424)===0&&(ia=4194304)));var f=Jn();t=Ni(t,i),t!==null&&(M(t,i,f),ur(t,f))}function pm(t){var i=t.memoizedState,f=0;i!==null&&(f=i.retryLane),Yf(t,f)}function mm(t,i){var f=0;switch(t.tag){case 13:var x=t.stateNode,C=t.memoizedState;C!==null&&(f=C.retryLane);break;case 19:x=t.stateNode;break;default:throw Error(a(314))}x!==null&&x.delete(i),Yf(t,f)}var Xf;Xf=function(t,i,f){if(t!==null)if(t.memoizedProps!==i.pendingProps||ar.current)lr=!0;else{if((t.lanes&f)===0&&(i.flags&128)===0)return lr=!1,nm(t,i,f);lr=(t.flags&131072)!==0}else lr=!1,Zt&&(i.flags&1048576)!==0&&Ah(i,jl,i.index);switch(i.lanes=0,i.tag){case 2:var x=i.type;ql(t,i),t=i.pendingProps;var C=ga(i,Wn.current);Ca(i,f),C=Cu(null,i,x,t,C,f);var S=Eu();return i.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,or(x)?(S=!0,Il(i)):S=!1,i.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,mu(i),C.updater=Vl,i.stateNode=C,C._reactInternals=i,Tu(i,x,t,f),i=Du(null,i,x,!0,S,f)):(i.tag=0,Zt&&S&&su(i),Zn(null,i,C,f),i=i.child),i;case 16:x=i.elementType;e:{switch(ql(t,i),t=i.pendingProps,C=x._init,x=C(x._payload),i.type=x,C=i.tag=xm(x),t=Xr(x,t),C){case 0:i=Ou(null,i,x,t,f);break e;case 1:i=wf(null,i,x,t,f);break e;case 11:i=mf(null,i,x,t,f);break e;case 14:i=gf(null,i,x,Xr(x.type,t),f);break e}throw Error(a(306,x,""))}return i;case 0:return x=i.type,C=i.pendingProps,C=i.elementType===x?C:Xr(x,C),Ou(t,i,x,C,f);case 1:return x=i.type,C=i.pendingProps,C=i.elementType===x?C:Xr(x,C),wf(t,i,x,C,f);case 3:e:{if(bf(i),t===null)throw Error(a(387));x=i.pendingProps,S=i.memoizedState,C=S.element,Rh(t,i),Ll(i,x,null,f);var j=i.memoizedState;if(x=j.element,S.isDehydrated)if(S={element:x,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},i.updateQueue.baseState=S,i.memoizedState=S,i.flags&256){C=Na(Error(a(423)),i),i=Cf(t,i,x,f,C);break e}else if(x!==C){C=Na(Error(a(424)),i),i=Cf(t,i,x,f,C);break e}else for(Er=Yi(i.stateNode.containerInfo.firstChild),Cr=i,Zt=!0,Yr=null,f=Dh(i,null,x,f),i.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(va(),x===C){i=Ai(t,i,f);break e}Zn(t,i,x,f)}i=i.child}return i;case 5:return Bh(i),t===null&&lu(i),x=i.type,C=i.pendingProps,S=t!==null?t.memoizedProps:null,j=C.children,Jc(x,C)?j=null:S!==null&&Jc(x,S)&&(i.flags|=32),vf(t,i),Zn(t,i,j,f),i.child;case 6:return t===null&&lu(i),null;case 13:return Ef(t,i,f);case 4:return gu(i,i.stateNode.containerInfo),x=i.pendingProps,t===null?i.child=wa(i,null,x,f):Zn(t,i,x,f),i.child;case 11:return x=i.type,C=i.pendingProps,C=i.elementType===x?C:Xr(x,C),mf(t,i,x,C,f);case 7:return Zn(t,i,i.pendingProps,f),i.child;case 8:return Zn(t,i,i.pendingProps.children,f),i.child;case 12:return Zn(t,i,i.pendingProps.children,f),i.child;case 10:e:{if(x=i.type._context,C=i.pendingProps,S=i.memoizedProps,j=C.value,zt(Ml,x._currentValue),x._currentValue=j,S!==null)if(Q(S.value,j)){if(S.children===C.children&&!ar.current){i=Ai(t,i,f);break e}}else for(S=i.child,S!==null&&(S.return=i);S!==null;){var U=S.dependencies;if(U!==null){j=S.child;for(var q=U.firstContext;q!==null;){if(q.context===x){if(S.tag===1){q=Si(-1,f&-f),q.tag=2;var oe=S.updateQueue;if(oe!==null){oe=oe.shared;var me=oe.pending;me===null?q.next=q:(q.next=me.next,me.next=q),oe.pending=q}}S.lanes|=f,q=S.alternate,q!==null&&(q.lanes|=f),fu(S.return,f,i),U.lanes|=f;break}q=q.next}}else if(S.tag===10)j=S.type===i.type?null:S.child;else if(S.tag===18){if(j=S.return,j===null)throw Error(a(341));j.lanes|=f,U=j.alternate,U!==null&&(U.lanes|=f),fu(j,f,i),j=S.sibling}else j=S.child;if(j!==null)j.return=S;else for(j=S;j!==null;){if(j===i){j=null;break}if(S=j.sibling,S!==null){S.return=j.return,j=S;break}j=j.return}S=j}Zn(t,i,C.children,f),i=i.child}return i;case 9:return C=i.type,x=i.pendingProps.children,Ca(i,f),C=Lr(C),x=x(C),i.flags|=1,Zn(t,i,x,f),i.child;case 14:return x=i.type,C=Xr(x,i.pendingProps),C=Xr(x.type,C),gf(t,i,x,C,f);case 15:return xf(t,i,i.type,i.pendingProps,f);case 17:return x=i.type,C=i.pendingProps,C=i.elementType===x?C:Xr(x,C),ql(t,i),i.tag=1,or(x)?(t=!0,Il(i)):t=!1,Ca(i,f),lf(i,x,C),Tu(i,x,C,f),Du(null,i,x,!0,t,f);case 19:return Sf(t,i,f);case 22:return yf(t,i,f)}throw Error(a(156,i.tag))};function $f(t,i){return gr(t,i)}function gm(t,i,f,x){this.tag=t,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(t,i,f,x){return new gm(t,i,f,x)}function Ju(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xm(t){if(typeof t=="function")return Ju(t)?1:0;if(t!=null){if(t=t.$$typeof,t===he)return 11;if(t===ee)return 14}return 2}function is(t,i){var f=t.alternate;return f===null?(f=Ur(t.tag,i,t.key,t.mode),f.elementType=t.elementType,f.type=t.type,f.stateNode=t.stateNode,f.alternate=t,t.alternate=f):(f.pendingProps=i,f.type=t.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=t.flags&14680064,f.childLanes=t.childLanes,f.lanes=t.lanes,f.child=t.child,f.memoizedProps=t.memoizedProps,f.memoizedState=t.memoizedState,f.updateQueue=t.updateQueue,i=t.dependencies,f.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},f.sibling=t.sibling,f.index=t.index,f.ref=t.ref,f}function rc(t,i,f,x,C,S){var j=2;if(x=t,typeof t=="function")Ju(t)&&(j=1);else if(typeof t=="string")j=5;else e:switch(t){case H:return Vs(f.children,C,S,i);case W:j=8,C|=8;break;case $:return t=Ur(12,f,i,C|2),t.elementType=$,t.lanes=S,t;case ce:return t=Ur(13,f,i,C),t.elementType=ce,t.lanes=S,t;case _e:return t=Ur(19,f,i,C),t.elementType=_e,t.lanes=S,t;case Me:return ic(f,C,S,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Se:j=10;break e;case ke:j=9;break e;case he:j=11;break e;case ee:j=14;break e;case Ze:j=16,x=null;break e}throw Error(a(130,t==null?t:typeof t,""))}return i=Ur(j,f,i,C),i.elementType=t,i.type=x,i.lanes=S,i}function Vs(t,i,f,x){return t=Ur(7,t,x,i),t.lanes=f,t}function ic(t,i,f,x){return t=Ur(22,t,x,i),t.elementType=Me,t.lanes=f,t.stateNode={isHidden:!1},t}function ed(t,i,f){return t=Ur(6,t,null,i),t.lanes=f,t}function td(t,i,f){return i=Ur(4,t.children!==null?t.children:[],t.key,i),i.lanes=f,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function ym(t,i,f,x,C){this.tag=i,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=te(0),this.expirationTimes=te(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=te(0),this.identifierPrefix=x,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function nd(t,i,f,x,C,S,j,U,q){return t=new ym(t,i,f,U,q),i===1?(i=1,S===!0&&(i|=8)):i=0,S=Ur(3,null,null,i),t.current=S,S.stateNode=t,S.memoizedState={element:x,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},mu(S),t}function vm(t,i,f){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:de,key:x==null?null:""+x,children:t,containerInfo:i,implementation:f}}function Kf(t){if(!t)return $i;t=t._reactInternals;e:{if(sr(t)!==t||t.tag!==1)throw Error(a(170));var i=t;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(or(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(a(171))}if(t.tag===1){var f=t.type;if(or(f))return Eh(t,f,i)}return i}function Qf(t,i,f,x,C,S,j,U,q){return t=nd(f,x,!0,t,C,S,j,U,q),t.context=Kf(null),f=t.current,x=Jn(),C=ns(f),S=Si(x,C),S.callback=i??null,Zi(f,S,C),t.current.lanes=C,M(t,C,x),ur(t,x),t}function sc(t,i,f,x){var C=i.current,S=Jn(),j=ns(C);return f=Kf(f),i.context===null?i.context=f:i.pendingContext=f,i=Si(S,j),i.payload={element:t},x=x===void 0?null:x,x!==null&&(i.callback=x),t=Zi(C,i,j),t!==null&&(Qr(t,C,j,S),Pl(t,C,j)),j}function ac(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Zf(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var f=t.retryLane;t.retryLane=f!==0&&f<i?f:i}}function rd(t,i){Zf(t,i),(t=t.alternate)&&Zf(t,i)}function wm(){return null}var Jf=typeof reportError=="function"?reportError:function(t){console.error(t)};function id(t){this._internalRoot=t}oc.prototype.render=id.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));sc(t,i,null,null)},oc.prototype.unmount=id.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;zs(function(){sc(null,t,null,null)}),i[wi]=null}};function oc(t){this._internalRoot=t}oc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ft();t={blockedOn:null,target:t,priority:i};for(var f=0;f<Dn.length&&i!==0&&i<Dn[f].priority;f++);Dn.splice(f,0,t),f===0&&hl(t)}};function sd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function e0(){}function bm(t,i,f,x,C){if(C){if(typeof x=="function"){var S=x;x=function(){var oe=ac(j);S.call(oe)}}var j=Qf(i,x,t,0,null,!1,!1,"",e0);return t._reactRootContainer=j,t[wi]=j.current,bo(t.nodeType===8?t.parentNode:t),zs(),j}for(;C=t.lastChild;)t.removeChild(C);if(typeof x=="function"){var U=x;x=function(){var oe=ac(q);U.call(oe)}}var q=nd(t,0,!1,null,null,!1,!1,"",e0);return t._reactRootContainer=q,t[wi]=q.current,bo(t.nodeType===8?t.parentNode:t),zs(function(){sc(i,q,f,x)}),q}function cc(t,i,f,x,C){var S=f._reactRootContainer;if(S){var j=S;if(typeof C=="function"){var U=C;C=function(){var q=ac(j);U.call(q)}}sc(i,j,t,C)}else j=bm(f,i,t,C,x);return ac(j)}sa=function(t){switch(t.tag){case 3:var i=t.stateNode;if(i.current.memoizedState.isDehydrated){var f=Pt(i.pendingLanes);f!==0&&(an(i,f|1),ur(i,_t()),(Et&6)===0&&(_a=_t()+500,Ki()))}break;case 13:zs(function(){var x=Ni(t,1);if(x!==null){var C=Jn();Qr(x,t,1,C)}}),rd(t,1)}},zn=function(t){if(t.tag===13){var i=Ni(t,134217728);if(i!==null){var f=Jn();Qr(i,t,134217728,f)}rd(t,134217728)}},We=function(t){if(t.tag===13){var i=ns(t),f=Ni(t,i);if(f!==null){var x=Jn();Qr(f,t,i,x)}rd(t,i)}},Ft=function(){return st},ao=function(t,i){var f=st;try{return st=t,i()}finally{st=f}},na=function(t,i,f){switch(i){case"input":if(jt(t,f),i=f.name,f.type==="radio"&&i!=null){for(f=t;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<f.length;i++){var x=f[i];if(x!==t&&x.form===t.form){var C=Al(x);if(!C)throw Error(a(90));tr(x),jt(x,C)}}}break;case"textarea":Ee(t,f);break;case"select":i=f.value,i!=null&&je(t,!!f.multiple,i,!1)}},ra=Ku,yn=zs;var Cm={usingClientEntryPoint:!1,Events:[No,pa,Al,Ja,ir,Ku]},Bo={findFiberByHostInstance:Ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Em={bundleType:Bo.bundleType,version:Bo.version,rendererPackageName:Bo.rendererPackageName,rendererConfig:Bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sl(t),t===null?null:t.stateNode},findFiberByHostInstance:Bo.findFiberByHostInstance||wm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{yt=uc.inject(Em),it=uc}catch{}}return dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cm,dr.createPortal=function(t,i){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sd(i))throw Error(a(200));return vm(t,i,null,f)},dr.createRoot=function(t,i){if(!sd(t))throw Error(a(299));var f=!1,x="",C=Jf;return i!=null&&(i.unstable_strictMode===!0&&(f=!0),i.identifierPrefix!==void 0&&(x=i.identifierPrefix),i.onRecoverableError!==void 0&&(C=i.onRecoverableError)),i=nd(t,1,!1,null,null,f,!1,x,C),t[wi]=i.current,bo(t.nodeType===8?t.parentNode:t),new id(i)},dr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=sl(i),t=t===null?null:t.stateNode,t},dr.flushSync=function(t){return zs(t)},dr.hydrate=function(t,i,f){if(!lc(i))throw Error(a(200));return cc(null,t,i,!0,f)},dr.hydrateRoot=function(t,i,f){if(!sd(t))throw Error(a(405));var x=f!=null&&f.hydratedSources||null,C=!1,S="",j=Jf;if(f!=null&&(f.unstable_strictMode===!0&&(C=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onRecoverableError!==void 0&&(j=f.onRecoverableError)),i=Qf(i,null,t,1,f??null,C,!1,S,j),t[wi]=i.current,bo(t),x)for(t=0;t<x.length;t++)f=x[t],C=f._getVersion,C=C(f._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[f,C]:i.mutableSourceEagerHydrationData.push(f,C);return new oc(i)},dr.render=function(t,i,f){if(!lc(i))throw Error(a(200));return cc(null,t,i,!1,f)},dr.unmountComponentAtNode=function(t){if(!lc(t))throw Error(a(40));return t._reactRootContainer?(zs(function(){cc(null,null,t,!1,function(){t._reactRootContainer=null,t[wi]=null})}),!0):!1},dr.unstable_batchedUpdates=Ku,dr.unstable_renderSubtreeIntoContainer=function(t,i,f,x){if(!lc(f))throw Error(a(200));if(t==null||t._reactInternals===void 0)throw Error(a(38));return cc(t,i,f,!1,x)},dr.version="18.3.1-next-f1338f8080-20240426",dr}var l0;function Tp(){if(l0)return ld.exports;l0=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(s){console.error(s)}}return o(),ld.exports=Om(),ld.exports}var c0;function Dm(){if(c0)return hc;c0=1;var o=Tp();return hc.createRoot=o.createRoot,hc.hydrateRoot=o.hydrateRoot,hc}var Mm=Dm();Tp();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $o(){return $o=Object.assign?Object.assign.bind():function(o){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(o[d]=a[d])}return o},$o.apply(this,arguments)}var hs;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(hs||(hs={}));const u0="popstate";function Rm(o){o===void 0&&(o={});function s(d,m){let{pathname:p,search:v,hash:E}=d.location;return Nd("",{pathname:p,search:v,hash:E},m.state&&m.state.usr||null,m.state&&m.state.key||"default")}function a(d,m){return typeof m=="string"?m:Ec(m)}return Lm(s,a,null,o)}function mn(o,s){if(o===!1||o===null||typeof o>"u")throw new Error(s)}function kp(o,s){if(!o){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Pm(){return Math.random().toString(36).substr(2,8)}function d0(o,s){return{usr:o.state,key:o.key,idx:s}}function Nd(o,s,a,d){return a===void 0&&(a=null),$o({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof s=="string"?Xa(s):s,{state:a,key:s&&s.key||d||Pm()})}function Ec(o){let{pathname:s="/",search:a="",hash:d=""}=o;return a&&a!=="?"&&(s+=a.charAt(0)==="?"?a:"?"+a),d&&d!=="#"&&(s+=d.charAt(0)==="#"?d:"#"+d),s}function Xa(o){let s={};if(o){let a=o.indexOf("#");a>=0&&(s.hash=o.substr(a),o=o.substr(0,a));let d=o.indexOf("?");d>=0&&(s.search=o.substr(d),o=o.substr(0,d)),o&&(s.pathname=o)}return s}function Lm(o,s,a,d){d===void 0&&(d={});let{window:m=document.defaultView,v5Compat:p=!1}=d,v=m.history,E=hs.Pop,N=null,w=A();w==null&&(w=0,v.replaceState($o({},v.state,{idx:w}),""));function A(){return(v.state||{idx:null}).idx}function I(){E=hs.Pop;let F=A(),J=F==null?null:F-w;w=F,N&&N({action:E,location:R.location,delta:J})}function D(F,J){E=hs.Push;let K=Nd(R.location,F,J);w=A()+1;let V=d0(K,w),ie=R.createHref(K);try{v.pushState(V,"",ie)}catch(ge){if(ge instanceof DOMException&&ge.name==="DataCloneError")throw ge;m.location.assign(ie)}p&&N&&N({action:E,location:R.location,delta:1})}function B(F,J){E=hs.Replace;let K=Nd(R.location,F,J);w=A();let V=d0(K,w),ie=R.createHref(K);v.replaceState(V,"",ie),p&&N&&N({action:E,location:R.location,delta:0})}function P(F){let J=m.location.origin!=="null"?m.location.origin:m.location.href,K=typeof F=="string"?F:Ec(F);return K=K.replace(/ $/,"%20"),mn(J,"No window.location.(origin|href) available to create URL for href: "+K),new URL(K,J)}let R={get action(){return E},get location(){return o(m,v)},listen(F){if(N)throw new Error("A history only accepts one active listener");return m.addEventListener(u0,I),N=F,()=>{m.removeEventListener(u0,I),N=null}},createHref(F){return s(m,F)},createURL:P,encodeLocation(F){let J=P(F);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:D,replace:B,go(F){return v.go(F)}};return R}var h0;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(h0||(h0={}));function Bm(o,s,a){return a===void 0&&(a="/"),Fm(o,s,a)}function Fm(o,s,a,d){let m=typeof s=="string"?Xa(s):s,p=Gd(m.pathname||"/",a);if(p==null)return null;let v=jp(o);Um(v);let E=null;for(let N=0;E==null&&N<v.length;++N){let w=Zm(p);E=$m(v[N],w)}return E}function jp(o,s,a,d){s===void 0&&(s=[]),a===void 0&&(a=[]),d===void 0&&(d="");let m=(p,v,E)=>{let N={relativePath:E===void 0?p.path||"":E,caseSensitive:p.caseSensitive===!0,childrenIndex:v,route:p};N.relativePath.startsWith("/")&&(mn(N.relativePath.startsWith(d),'Absolute route path "'+N.relativePath+'" nested under path '+('"'+d+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),N.relativePath=N.relativePath.slice(d.length));let w=fs([d,N.relativePath]),A=a.concat(N);p.children&&p.children.length>0&&(mn(p.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),jp(p.children,s,A,w)),!(p.path==null&&!p.index)&&s.push({path:w,score:Ym(w,p.index),routesMeta:A})};return o.forEach((p,v)=>{var E;if(p.path===""||!((E=p.path)!=null&&E.includes("?")))m(p,v);else for(let N of Op(p.path))m(p,v,N)}),s}function Op(o){let s=o.split("/");if(s.length===0)return[];let[a,...d]=s,m=a.endsWith("?"),p=a.replace(/\?$/,"");if(d.length===0)return m?[p,""]:[p];let v=Op(d.join("/")),E=[];return E.push(...v.map(N=>N===""?p:[p,N].join("/"))),m&&E.push(...v),E.map(N=>o.startsWith("/")&&N===""?"/":N)}function Um(o){o.sort((s,a)=>s.score!==a.score?a.score-s.score:Xm(s.routesMeta.map(d=>d.childrenIndex),a.routesMeta.map(d=>d.childrenIndex)))}const zm=/^:[\w-]+$/,Hm=3,Wm=2,Vm=1,Gm=10,qm=-2,f0=o=>o==="*";function Ym(o,s){let a=o.split("/"),d=a.length;return a.some(f0)&&(d+=qm),s&&(d+=Wm),a.filter(m=>!f0(m)).reduce((m,p)=>m+(zm.test(p)?Hm:p===""?Vm:Gm),d)}function Xm(o,s){return o.length===s.length&&o.slice(0,-1).every((d,m)=>d===s[m])?o[o.length-1]-s[s.length-1]:0}function $m(o,s,a){let{routesMeta:d}=o,m={},p="/",v=[];for(let E=0;E<d.length;++E){let N=d[E],w=E===d.length-1,A=p==="/"?s:s.slice(p.length)||"/",I=Km({path:N.relativePath,caseSensitive:N.caseSensitive,end:w},A),D=N.route;if(!I)return null;Object.assign(m,I.params),v.push({params:m,pathname:fs([p,I.pathname]),pathnameBase:ng(fs([p,I.pathnameBase])),route:D}),I.pathnameBase!=="/"&&(p=fs([p,I.pathnameBase]))}return v}function Km(o,s){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[a,d]=Qm(o.path,o.caseSensitive,o.end),m=s.match(a);if(!m)return null;let p=m[0],v=p.replace(/(.)\/+$/,"$1"),E=m.slice(1);return{params:d.reduce((w,A,I)=>{let{paramName:D,isOptional:B}=A;if(D==="*"){let R=E[I]||"";v=p.slice(0,p.length-R.length).replace(/(.)\/+$/,"$1")}const P=E[I];return B&&!P?w[D]=void 0:w[D]=(P||"").replace(/%2F/g,"/"),w},{}),pathname:p,pathnameBase:v,pattern:o}}function Qm(o,s,a){s===void 0&&(s=!1),a===void 0&&(a=!0),kp(o==="*"||!o.endsWith("*")||o.endsWith("/*"),'Route path "'+o+'" will be treated as if it were '+('"'+o.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+o.replace(/\*$/,"/*")+'".'));let d=[],m="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(v,E,N)=>(d.push({paramName:E,isOptional:N!=null}),N?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(d.push({paramName:"*"}),m+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?m+="\\/*$":o!==""&&o!=="/"&&(m+="(?:(?=\\/|$))"),[new RegExp(m,s?void 0:"i"),d]}function Zm(o){try{return o.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return kp(!1,'The URL path "'+o+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),o}}function Gd(o,s){if(s==="/")return o;if(!o.toLowerCase().startsWith(s.toLowerCase()))return null;let a=s.endsWith("/")?s.length-1:s.length,d=o.charAt(a);return d&&d!=="/"?null:o.slice(a)||"/"}function Jm(o,s){s===void 0&&(s="/");let{pathname:a,search:d="",hash:m=""}=typeof o=="string"?Xa(o):o;return{pathname:a?a.startsWith("/")?a:eg(a,s):s,search:rg(d),hash:ig(m)}}function eg(o,s){let a=s.replace(/\/+$/,"").split("/");return o.split("/").forEach(m=>{m===".."?a.length>1&&a.pop():m!=="."&&a.push(m)}),a.length>1?a.join("/"):"/"}function dd(o,s,a,d){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(d)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tg(o){return o.filter((s,a)=>a===0||s.route.path&&s.route.path.length>0)}function qd(o,s){let a=tg(o);return s?a.map((d,m)=>m===a.length-1?d.pathname:d.pathnameBase):a.map(d=>d.pathnameBase)}function Yd(o,s,a,d){d===void 0&&(d=!1);let m;typeof o=="string"?m=Xa(o):(m=$o({},o),mn(!m.pathname||!m.pathname.includes("?"),dd("?","pathname","search",m)),mn(!m.pathname||!m.pathname.includes("#"),dd("#","pathname","hash",m)),mn(!m.search||!m.search.includes("#"),dd("#","search","hash",m)));let p=o===""||m.pathname==="",v=p?"/":m.pathname,E;if(v==null)E=a;else{let I=s.length-1;if(!d&&v.startsWith("..")){let D=v.split("/");for(;D[0]==="..";)D.shift(),I-=1;m.pathname=D.join("/")}E=I>=0?s[I]:"/"}let N=Jm(m,E),w=v&&v!=="/"&&v.endsWith("/"),A=(p||v===".")&&a.endsWith("/");return!N.pathname.endsWith("/")&&(w||A)&&(N.pathname+="/"),N}const fs=o=>o.join("/").replace(/\/\/+/g,"/"),ng=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),rg=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,ig=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function sg(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}const Dp=["post","put","patch","delete"];new Set(Dp);const ag=["get",...Dp];new Set(ag);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ko(){return Ko=Object.assign?Object.assign.bind():function(o){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(o[d]=a[d])}return o},Ko.apply(this,arguments)}const Xd=z.createContext(null),og=z.createContext(null),ms=z.createContext(null),Pc=z.createContext(null),gs=z.createContext({outlet:null,matches:[],isDataRoute:!1}),Mp=z.createContext(null);function lg(o,s){let{relative:a}=s===void 0?{}:s;$a()||mn(!1);let{basename:d,navigator:m}=z.useContext(ms),{hash:p,pathname:v,search:E}=Pp(o,{relative:a}),N=v;return d!=="/"&&(N=v==="/"?d:fs([d,v])),m.createHref({pathname:N,search:E,hash:p})}function $a(){return z.useContext(Pc)!=null}function zr(){return $a()||mn(!1),z.useContext(Pc).location}function Rp(o){z.useContext(ms).static||z.useLayoutEffect(o)}function Zs(){let{isDataRoute:o}=z.useContext(gs);return o?bg():cg()}function cg(){$a()||mn(!1);let o=z.useContext(Xd),{basename:s,future:a,navigator:d}=z.useContext(ms),{matches:m}=z.useContext(gs),{pathname:p}=zr(),v=JSON.stringify(qd(m,a.v7_relativeSplatPath)),E=z.useRef(!1);return Rp(()=>{E.current=!0}),z.useCallback(function(w,A){if(A===void 0&&(A={}),!E.current)return;if(typeof w=="number"){d.go(w);return}let I=Yd(w,JSON.parse(v),p,A.relative==="path");o==null&&s!=="/"&&(I.pathname=I.pathname==="/"?s:fs([s,I.pathname])),(A.replace?d.replace:d.push)(I,A.state,A)},[s,d,v,p,o])}function Pp(o,s){let{relative:a}=s===void 0?{}:s,{future:d}=z.useContext(ms),{matches:m}=z.useContext(gs),{pathname:p}=zr(),v=JSON.stringify(qd(m,d.v7_relativeSplatPath));return z.useMemo(()=>Yd(o,JSON.parse(v),p,a==="path"),[o,v,p,a])}function ug(o,s){return dg(o,s)}function dg(o,s,a,d){$a()||mn(!1);let{navigator:m}=z.useContext(ms),{matches:p}=z.useContext(gs),v=p[p.length-1],E=v?v.params:{};v&&v.pathname;let N=v?v.pathnameBase:"/";v&&v.route;let w=zr(),A;if(s){var I;let F=typeof s=="string"?Xa(s):s;N==="/"||(I=F.pathname)!=null&&I.startsWith(N)||mn(!1),A=F}else A=w;let D=A.pathname||"/",B=D;if(N!=="/"){let F=N.replace(/^\//,"").split("/");B="/"+D.replace(/^\//,"").split("/").slice(F.length).join("/")}let P=Bm(o,{pathname:B}),R=gg(P&&P.map(F=>Object.assign({},F,{params:Object.assign({},E,F.params),pathname:fs([N,m.encodeLocation?m.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?N:fs([N,m.encodeLocation?m.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),p,a,d);return s&&R?z.createElement(Pc.Provider,{value:{location:Ko({pathname:"/",search:"",hash:"",state:null,key:"default"},A),navigationType:hs.Pop}},R):R}function hg(){let o=wg(),s=sg(o)?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),a=o instanceof Error?o.stack:null,m={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},s),a?z.createElement("pre",{style:m},a):null,null)}const fg=z.createElement(hg,null);class pg extends z.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,a){return a.location!==s.location||a.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:a.error,location:a.location,revalidation:s.revalidation||a.revalidation}}componentDidCatch(s,a){console.error("React Router caught the following error during render",s,a)}render(){return this.state.error!==void 0?z.createElement(gs.Provider,{value:this.props.routeContext},z.createElement(Mp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mg(o){let{routeContext:s,match:a,children:d}=o,m=z.useContext(Xd);return m&&m.static&&m.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(m.staticContext._deepestRenderedBoundaryId=a.route.id),z.createElement(gs.Provider,{value:s},d)}function gg(o,s,a,d){var m;if(s===void 0&&(s=[]),a===void 0&&(a=null),d===void 0&&(d=null),o==null){var p;if(!a)return null;if(a.errors)o=a.matches;else if((p=d)!=null&&p.v7_partialHydration&&s.length===0&&!a.initialized&&a.matches.length>0)o=a.matches;else return null}let v=o,E=(m=a)==null?void 0:m.errors;if(E!=null){let A=v.findIndex(I=>I.route.id&&(E==null?void 0:E[I.route.id])!==void 0);A>=0||mn(!1),v=v.slice(0,Math.min(v.length,A+1))}let N=!1,w=-1;if(a&&d&&d.v7_partialHydration)for(let A=0;A<v.length;A++){let I=v[A];if((I.route.HydrateFallback||I.route.hydrateFallbackElement)&&(w=A),I.route.id){let{loaderData:D,errors:B}=a,P=I.route.loader&&D[I.route.id]===void 0&&(!B||B[I.route.id]===void 0);if(I.route.lazy||P){N=!0,w>=0?v=v.slice(0,w+1):v=[v[0]];break}}}return v.reduceRight((A,I,D)=>{let B,P=!1,R=null,F=null;a&&(B=E&&I.route.id?E[I.route.id]:void 0,R=I.route.errorElement||fg,N&&(w<0&&D===0?(Cg("route-fallback"),P=!0,F=null):w===D&&(P=!0,F=I.route.hydrateFallbackElement||null)));let J=s.concat(v.slice(0,D+1)),K=()=>{let V;return B?V=R:P?V=F:I.route.Component?V=z.createElement(I.route.Component,null):I.route.element?V=I.route.element:V=A,z.createElement(mg,{match:I,routeContext:{outlet:A,matches:J,isDataRoute:a!=null},children:V})};return a&&(I.route.ErrorBoundary||I.route.errorElement||D===0)?z.createElement(pg,{location:a.location,revalidation:a.revalidation,component:R,error:B,children:K(),routeContext:{outlet:null,matches:J,isDataRoute:!0}}):K()},null)}var Lp=function(o){return o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o}(Lp||{}),Bp=function(o){return o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId",o}(Bp||{});function xg(o){let s=z.useContext(Xd);return s||mn(!1),s}function yg(o){let s=z.useContext(og);return s||mn(!1),s}function vg(o){let s=z.useContext(gs);return s||mn(!1),s}function Fp(o){let s=vg(),a=s.matches[s.matches.length-1];return a.route.id||mn(!1),a.route.id}function wg(){var o;let s=z.useContext(Mp),a=yg(),d=Fp();return s!==void 0?s:(o=a.errors)==null?void 0:o[d]}function bg(){let{router:o}=xg(Lp.UseNavigateStable),s=Fp(Bp.UseNavigateStable),a=z.useRef(!1);return Rp(()=>{a.current=!0}),z.useCallback(function(m,p){p===void 0&&(p={}),a.current&&(typeof m=="number"?o.navigate(m):o.navigate(m,Ko({fromRouteId:s},p)))},[o,s])}const p0={};function Cg(o,s,a){p0[o]||(p0[o]=!0)}function Eg(o,s){o==null||o.v7_startTransition,o==null||o.v7_relativeSplatPath}function Fa(o){let{to:s,replace:a,state:d,relative:m}=o;$a()||mn(!1);let{future:p,static:v}=z.useContext(ms),{matches:E}=z.useContext(gs),{pathname:N}=zr(),w=Zs(),A=Yd(s,qd(E,p.v7_relativeSplatPath),N,m==="path"),I=JSON.stringify(A);return z.useEffect(()=>w(JSON.parse(I),{replace:a,state:d,relative:m}),[w,I,m,a,d]),null}function rn(o){mn(!1)}function Ng(o){let{basename:s="/",children:a=null,location:d,navigationType:m=hs.Pop,navigator:p,static:v=!1,future:E}=o;$a()&&mn(!1);let N=s.replace(/^\/*/,"/"),w=z.useMemo(()=>({basename:N,navigator:p,static:v,future:Ko({v7_relativeSplatPath:!1},E)}),[N,E,p,v]);typeof d=="string"&&(d=Xa(d));let{pathname:A="/",search:I="",hash:D="",state:B=null,key:P="default"}=d,R=z.useMemo(()=>{let F=Gd(A,N);return F==null?null:{location:{pathname:F,search:I,hash:D,state:B,key:P},navigationType:m}},[N,A,I,D,B,P,m]);return R==null?null:z.createElement(ms.Provider,{value:w},z.createElement(Pc.Provider,{children:a,value:R}))}function $d(o){let{children:s,location:a}=o;return ug(Sd(s),a)}new Promise(()=>{});function Sd(o,s){s===void 0&&(s=[]);let a=[];return z.Children.forEach(o,(d,m)=>{if(!z.isValidElement(d))return;let p=[...s,m];if(d.type===z.Fragment){a.push.apply(a,Sd(d.props.children,p));return}d.type!==rn&&mn(!1),!d.props.index||!d.props.children||mn(!1);let v={id:d.props.id||p.join("-"),caseSensitive:d.props.caseSensitive,element:d.props.element,Component:d.props.Component,index:d.props.index,path:d.props.path,loader:d.props.loader,action:d.props.action,errorElement:d.props.errorElement,ErrorBoundary:d.props.ErrorBoundary,hasErrorBoundary:d.props.ErrorBoundary!=null||d.props.errorElement!=null,shouldRevalidate:d.props.shouldRevalidate,handle:d.props.handle,lazy:d.props.lazy};d.props.children&&(v.children=Sd(d.props.children,p)),a.push(v)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ad(){return Ad=Object.assign?Object.assign.bind():function(o){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(o[d]=a[d])}return o},Ad.apply(this,arguments)}function Sg(o,s){if(o==null)return{};var a={},d=Object.keys(o),m,p;for(p=0;p<d.length;p++)m=d[p],!(s.indexOf(m)>=0)&&(a[m]=o[m]);return a}function Ag(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function _g(o,s){return o.button===0&&(!s||s==="_self")&&!Ag(o)}const Ig=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Tg="6";try{window.__reactRouterVersion=Tg}catch{}const kg="startTransition",m0=Tm[kg];function jg(o){let{basename:s,children:a,future:d,window:m}=o,p=z.useRef();p.current==null&&(p.current=Rm({window:m,v5Compat:!0}));let v=p.current,[E,N]=z.useState({action:v.action,location:v.location}),{v7_startTransition:w}=d||{},A=z.useCallback(I=>{w&&m0?m0(()=>N(I)):N(I)},[N,w]);return z.useLayoutEffect(()=>v.listen(A),[v,A]),z.useEffect(()=>Eg(d),[d]),z.createElement(Ng,{basename:s,children:a,location:E.location,navigationType:E.action,navigator:v,future:d})}const Og=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ke=z.forwardRef(function(s,a){let{onClick:d,relative:m,reloadDocument:p,replace:v,state:E,target:N,to:w,preventScrollReset:A,viewTransition:I}=s,D=Sg(s,Ig),{basename:B}=z.useContext(ms),P,R=!1;if(typeof w=="string"&&Dg.test(w)&&(P=w,Og))try{let V=new URL(window.location.href),ie=w.startsWith("//")?new URL(V.protocol+w):new URL(w),ge=Gd(ie.pathname,B);ie.origin===V.origin&&ge!=null?w=ge+ie.search+ie.hash:R=!0}catch{}let F=lg(w,{relative:m}),J=Mg(w,{replace:v,state:E,target:N,preventScrollReset:A,relative:m,viewTransition:I});function K(V){d&&d(V),V.defaultPrevented||J(V)}return z.createElement("a",Ad({},D,{href:P||F,onClick:R||p?d:K,ref:a,target:N}))});var g0;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmit="useSubmit",o.UseSubmitFetcher="useSubmitFetcher",o.UseFetcher="useFetcher",o.useViewTransitionState="useViewTransitionState"})(g0||(g0={}));var x0;(function(o){o.UseFetcher="useFetcher",o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(x0||(x0={}));function Mg(o,s){let{target:a,replace:d,state:m,preventScrollReset:p,relative:v,viewTransition:E}=s===void 0?{}:s,N=Zs(),w=zr(),A=Pp(o,{relative:v});return z.useCallback(I=>{if(_g(I,a)){I.preventDefault();let D=d!==void 0?d:Ec(w)===Ec(A);N(o,{replace:D,state:m,preventScrollReset:p,relative:v,viewTransition:E})}},[w,N,A,d,m,a,o,p,v,E])}const Rg="modulepreload",Pg=function(o){return"/"+o},y0={},tl=function(s,a,d){let m=Promise.resolve();if(a&&a.length>0){let v=function(w){return Promise.all(w.map(A=>Promise.resolve(A).then(I=>({status:"fulfilled",value:I}),I=>({status:"rejected",reason:I}))))};document.getElementsByTagName("link");const E=document.querySelector("meta[property=csp-nonce]"),N=(E==null?void 0:E.nonce)||(E==null?void 0:E.getAttribute("nonce"));m=v(a.map(w=>{if(w=Pg(w),w in y0)return;y0[w]=!0;const A=w.endsWith(".css"),I=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${I}`))return;const D=document.createElement("link");if(D.rel=A?"stylesheet":Rg,A||(D.as="script"),D.crossOrigin="",D.href=w,N&&D.setAttribute("nonce",N),document.head.appendChild(D),A)return new Promise((B,P)=>{D.addEventListener("load",B),D.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${w}`)))})}))}function p(v){const E=new Event("vite:preloadError",{cancelable:!0});if(E.payload=v,window.dispatchEvent(E),!E.defaultPrevented)throw v}return m.then(v=>{for(const E of v||[])E.status==="rejected"&&p(E.reason);return s().catch(p)})},Lg=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>tl(async()=>{const{default:d}=await Promise.resolve().then(()=>Ka);return{default:d}},void 0).then(({default:d})=>d(...a)):s=fetch,(...a)=>s(...a)};class Kd extends Error{constructor(s,a="FunctionsError",d){super(s),this.name=a,this.context=d}}class Bg extends Kd{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class v0 extends Kd{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class w0 extends Kd{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var _d;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(_d||(_d={}));var Fg=function(o,s,a,d){function m(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function E(A){try{w(d.next(A))}catch(I){v(I)}}function N(A){try{w(d.throw(A))}catch(I){v(I)}}function w(A){A.done?p(A.value):m(A.value).then(E,N)}w((d=d.apply(o,s||[])).next())})};class Ug{constructor(s,{headers:a={},customFetch:d,region:m=_d.Any}={}){this.url=s,this.headers=a,this.region=m,this.fetch=Lg(d)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s,a={}){var d;return Fg(this,void 0,void 0,function*(){try{const{headers:m,method:p,body:v}=a;let E={},{region:N}=a;N||(N=this.region);const w=new URL(`${this.url}/${s}`);N&&N!=="any"&&(E["x-region"]=N,w.searchParams.set("forceFunctionRegion",N));let A;v&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)&&(typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",A=v):typeof v=="string"?(E["Content-Type"]="text/plain",A=v):typeof FormData<"u"&&v instanceof FormData?A=v:(E["Content-Type"]="application/json",A=JSON.stringify(v)));const I=yield this.fetch(w.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),m),body:A}).catch(R=>{throw new Bg(R)}),D=I.headers.get("x-relay-error");if(D&&D==="true")throw new v0(I);if(!I.ok)throw new w0(I);let B=((d=I.headers.get("Content-Type"))!==null&&d!==void 0?d:"text/plain").split(";")[0].trim(),P;return B==="application/json"?P=yield I.json():B==="application/octet-stream"?P=yield I.blob():B==="text/event-stream"?P=I:B==="multipart/form-data"?P=yield I.formData():P=yield I.text(),{data:P,error:null,response:I}}catch(m){return{data:null,error:m,response:m instanceof w0||m instanceof v0?m.context:void 0}}})}}var kn={},Ta={},ka={},ja={},Oa={},Da={},zg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wa=zg();const Hg=Wa.fetch,Up=Wa.fetch.bind(Wa),zp=Wa.Headers,Wg=Wa.Request,Vg=Wa.Response,Ka=Object.freeze(Object.defineProperty({__proto__:null,Headers:zp,Request:Wg,Response:Vg,default:Up,fetch:Hg},Symbol.toStringTag,{value:"Module"})),Gg=Sm(Ka);var fc={},b0;function Hp(){if(b0)return fc;b0=1,Object.defineProperty(fc,"__esModule",{value:!0});class o extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}return fc.default=o,fc}var C0;function Wp(){if(C0)return Da;C0=1;var o=Da&&Da.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(Da,"__esModule",{value:!0});const s=o(Gg),a=o(Hp());class d{constructor(p){this.shouldThrowOnError=!1,this.method=p.method,this.url=p.url,this.headers=p.headers,this.schema=p.schema,this.body=p.body,this.shouldThrowOnError=p.shouldThrowOnError,this.signal=p.signal,this.isMaybeSingle=p.isMaybeSingle,p.fetch?this.fetch=p.fetch:typeof fetch>"u"?this.fetch=s.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(p,v){return this.headers=Object.assign({},this.headers),this.headers[p]=v,this}then(p,v){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const E=this.fetch;let N=E(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async w=>{var A,I,D;let B=null,P=null,R=null,F=w.status,J=w.statusText;if(w.ok){if(this.method!=="HEAD"){const ge=await w.text();ge===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?P=ge:P=JSON.parse(ge))}const V=(A=this.headers.Prefer)===null||A===void 0?void 0:A.match(/count=(exact|planned|estimated)/),ie=(I=w.headers.get("content-range"))===null||I===void 0?void 0:I.split("/");V&&ie&&ie.length>1&&(R=parseInt(ie[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(P)&&(P.length>1?(B={code:"PGRST116",details:`Results contain ${P.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},P=null,R=null,F=406,J="Not Acceptable"):P.length===1?P=P[0]:P=null)}else{const V=await w.text();try{B=JSON.parse(V),Array.isArray(B)&&w.status===404&&(P=[],B=null,F=200,J="OK")}catch{w.status===404&&V===""?(F=204,J="No Content"):B={message:V}}if(B&&this.isMaybeSingle&&(!((D=B==null?void 0:B.details)===null||D===void 0)&&D.includes("0 rows"))&&(B=null,F=200,J="OK"),B&&this.shouldThrowOnError)throw new a.default(B)}return{error:B,data:P,count:R,status:F,statusText:J}});return this.shouldThrowOnError||(N=N.catch(w=>{var A,I,D;return{error:{message:`${(A=w==null?void 0:w.name)!==null&&A!==void 0?A:"FetchError"}: ${w==null?void 0:w.message}`,details:`${(I=w==null?void 0:w.stack)!==null&&I!==void 0?I:""}`,hint:"",code:`${(D=w==null?void 0:w.code)!==null&&D!==void 0?D:""}`},data:null,count:null,status:0,statusText:""}})),N.then(p,v)}returns(){return this}overrideTypes(){return this}}return Da.default=d,Da}var E0;function Vp(){if(E0)return Oa;E0=1;var o=Oa&&Oa.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Oa,"__esModule",{value:!0});const s=o(Wp());class a extends s.default{select(m){let p=!1;const v=(m??"*").split("").map(E=>/\s/.test(E)&&!p?"":(E==='"'&&(p=!p),E)).join("");return this.url.searchParams.set("select",v),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(m,{ascending:p=!0,nullsFirst:v,foreignTable:E,referencedTable:N=E}={}){const w=N?`${N}.order`:"order",A=this.url.searchParams.get(w);return this.url.searchParams.set(w,`${A?`${A},`:""}${m}.${p?"asc":"desc"}${v===void 0?"":v?".nullsfirst":".nullslast"}`),this}limit(m,{foreignTable:p,referencedTable:v=p}={}){const E=typeof v>"u"?"limit":`${v}.limit`;return this.url.searchParams.set(E,`${m}`),this}range(m,p,{foreignTable:v,referencedTable:E=v}={}){const N=typeof E>"u"?"offset":`${E}.offset`,w=typeof E>"u"?"limit":`${E}.limit`;return this.url.searchParams.set(N,`${m}`),this.url.searchParams.set(w,`${p-m+1}`),this}abortSignal(m){return this.signal=m,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:m=!1,verbose:p=!1,settings:v=!1,buffers:E=!1,wal:N=!1,format:w="text"}={}){var A;const I=[m?"analyze":null,p?"verbose":null,v?"settings":null,E?"buffers":null,N?"wal":null].filter(Boolean).join("|"),D=(A=this.headers.Accept)!==null&&A!==void 0?A:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${w}; for="${D}"; options=${I};`,w==="json"?this:this}rollback(){var m;return((m=this.headers.Prefer)!==null&&m!==void 0?m:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Oa.default=a,Oa}var N0;function Qd(){if(N0)return ja;N0=1;var o=ja&&ja.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(ja,"__esModule",{value:!0});const s=o(Vp());class a extends s.default{eq(m,p){return this.url.searchParams.append(m,`eq.${p}`),this}neq(m,p){return this.url.searchParams.append(m,`neq.${p}`),this}gt(m,p){return this.url.searchParams.append(m,`gt.${p}`),this}gte(m,p){return this.url.searchParams.append(m,`gte.${p}`),this}lt(m,p){return this.url.searchParams.append(m,`lt.${p}`),this}lte(m,p){return this.url.searchParams.append(m,`lte.${p}`),this}like(m,p){return this.url.searchParams.append(m,`like.${p}`),this}likeAllOf(m,p){return this.url.searchParams.append(m,`like(all).{${p.join(",")}}`),this}likeAnyOf(m,p){return this.url.searchParams.append(m,`like(any).{${p.join(",")}}`),this}ilike(m,p){return this.url.searchParams.append(m,`ilike.${p}`),this}ilikeAllOf(m,p){return this.url.searchParams.append(m,`ilike(all).{${p.join(",")}}`),this}ilikeAnyOf(m,p){return this.url.searchParams.append(m,`ilike(any).{${p.join(",")}}`),this}is(m,p){return this.url.searchParams.append(m,`is.${p}`),this}in(m,p){const v=Array.from(new Set(p)).map(E=>typeof E=="string"&&new RegExp("[,()]").test(E)?`"${E}"`:`${E}`).join(",");return this.url.searchParams.append(m,`in.(${v})`),this}contains(m,p){return typeof p=="string"?this.url.searchParams.append(m,`cs.${p}`):Array.isArray(p)?this.url.searchParams.append(m,`cs.{${p.join(",")}}`):this.url.searchParams.append(m,`cs.${JSON.stringify(p)}`),this}containedBy(m,p){return typeof p=="string"?this.url.searchParams.append(m,`cd.${p}`):Array.isArray(p)?this.url.searchParams.append(m,`cd.{${p.join(",")}}`):this.url.searchParams.append(m,`cd.${JSON.stringify(p)}`),this}rangeGt(m,p){return this.url.searchParams.append(m,`sr.${p}`),this}rangeGte(m,p){return this.url.searchParams.append(m,`nxl.${p}`),this}rangeLt(m,p){return this.url.searchParams.append(m,`sl.${p}`),this}rangeLte(m,p){return this.url.searchParams.append(m,`nxr.${p}`),this}rangeAdjacent(m,p){return this.url.searchParams.append(m,`adj.${p}`),this}overlaps(m,p){return typeof p=="string"?this.url.searchParams.append(m,`ov.${p}`):this.url.searchParams.append(m,`ov.{${p.join(",")}}`),this}textSearch(m,p,{config:v,type:E}={}){let N="";E==="plain"?N="pl":E==="phrase"?N="ph":E==="websearch"&&(N="w");const w=v===void 0?"":`(${v})`;return this.url.searchParams.append(m,`${N}fts${w}.${p}`),this}match(m){return Object.entries(m).forEach(([p,v])=>{this.url.searchParams.append(p,`eq.${v}`)}),this}not(m,p,v){return this.url.searchParams.append(m,`not.${p}.${v}`),this}or(m,{foreignTable:p,referencedTable:v=p}={}){const E=v?`${v}.or`:"or";return this.url.searchParams.append(E,`(${m})`),this}filter(m,p,v){return this.url.searchParams.append(m,`${p}.${v}`),this}}return ja.default=a,ja}var S0;function Gp(){if(S0)return ka;S0=1;var o=ka&&ka.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(ka,"__esModule",{value:!0});const s=o(Qd());class a{constructor(m,{headers:p={},schema:v,fetch:E}){this.url=m,this.headers=p,this.schema=v,this.fetch=E}select(m,{head:p=!1,count:v}={}){const E=p?"HEAD":"GET";let N=!1;const w=(m??"*").split("").map(A=>/\s/.test(A)&&!N?"":(A==='"'&&(N=!N),A)).join("");return this.url.searchParams.set("select",w),v&&(this.headers.Prefer=`count=${v}`),new s.default({method:E,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(m,{count:p,defaultToNull:v=!0}={}){const E="POST",N=[];if(this.headers.Prefer&&N.push(this.headers.Prefer),p&&N.push(`count=${p}`),v||N.push("missing=default"),this.headers.Prefer=N.join(","),Array.isArray(m)){const w=m.reduce((A,I)=>A.concat(Object.keys(I)),[]);if(w.length>0){const A=[...new Set(w)].map(I=>`"${I}"`);this.url.searchParams.set("columns",A.join(","))}}return new s.default({method:E,url:this.url,headers:this.headers,schema:this.schema,body:m,fetch:this.fetch,allowEmpty:!1})}upsert(m,{onConflict:p,ignoreDuplicates:v=!1,count:E,defaultToNull:N=!0}={}){const w="POST",A=[`resolution=${v?"ignore":"merge"}-duplicates`];if(p!==void 0&&this.url.searchParams.set("on_conflict",p),this.headers.Prefer&&A.push(this.headers.Prefer),E&&A.push(`count=${E}`),N||A.push("missing=default"),this.headers.Prefer=A.join(","),Array.isArray(m)){const I=m.reduce((D,B)=>D.concat(Object.keys(B)),[]);if(I.length>0){const D=[...new Set(I)].map(B=>`"${B}"`);this.url.searchParams.set("columns",D.join(","))}}return new s.default({method:w,url:this.url,headers:this.headers,schema:this.schema,body:m,fetch:this.fetch,allowEmpty:!1})}update(m,{count:p}={}){const v="PATCH",E=[];return this.headers.Prefer&&E.push(this.headers.Prefer),p&&E.push(`count=${p}`),this.headers.Prefer=E.join(","),new s.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:m,fetch:this.fetch,allowEmpty:!1})}delete({count:m}={}){const p="DELETE",v=[];return m&&v.push(`count=${m}`),this.headers.Prefer&&v.unshift(this.headers.Prefer),this.headers.Prefer=v.join(","),new s.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return ka.default=a,ka}var Uo={},zo={},A0;function qg(){return A0||(A0=1,Object.defineProperty(zo,"__esModule",{value:!0}),zo.version=void 0,zo.version="0.0.0-automated"),zo}var _0;function Yg(){if(_0)return Uo;_0=1,Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.DEFAULT_HEADERS=void 0;const o=qg();return Uo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${o.version}`},Uo}var I0;function Xg(){if(I0)return Ta;I0=1;var o=Ta&&Ta.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Ta,"__esModule",{value:!0});const s=o(Gp()),a=o(Qd()),d=Yg();class m{constructor(v,{headers:E={},schema:N,fetch:w}={}){this.url=v,this.headers=Object.assign(Object.assign({},d.DEFAULT_HEADERS),E),this.schemaName=N,this.fetch=w}from(v){const E=new URL(`${this.url}/${v}`);return new s.default(E,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(v){return new m(this.url,{headers:this.headers,schema:v,fetch:this.fetch})}rpc(v,E={},{head:N=!1,get:w=!1,count:A}={}){let I;const D=new URL(`${this.url}/rpc/${v}`);let B;N||w?(I=N?"HEAD":"GET",Object.entries(E).filter(([R,F])=>F!==void 0).map(([R,F])=>[R,Array.isArray(F)?`{${F.join(",")}}`:`${F}`]).forEach(([R,F])=>{D.searchParams.append(R,F)})):(I="POST",B=E);const P=Object.assign({},this.headers);return A&&(P.Prefer=`count=${A}`),new a.default({method:I,url:D,headers:P,schema:this.schemaName,body:B,fetch:this.fetch,allowEmpty:!1})}}return Ta.default=m,Ta}var T0;function $g(){if(T0)return kn;T0=1;var o=kn&&kn.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(kn,"__esModule",{value:!0}),kn.PostgrestError=kn.PostgrestBuilder=kn.PostgrestTransformBuilder=kn.PostgrestFilterBuilder=kn.PostgrestQueryBuilder=kn.PostgrestClient=void 0;const s=o(Xg());kn.PostgrestClient=s.default;const a=o(Gp());kn.PostgrestQueryBuilder=a.default;const d=o(Qd());kn.PostgrestFilterBuilder=d.default;const m=o(Vp());kn.PostgrestTransformBuilder=m.default;const p=o(Wp());kn.PostgrestBuilder=p.default;const v=o(Hp());return kn.PostgrestError=v.default,kn.default={PostgrestClient:s.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:d.default,PostgrestTransformBuilder:m.default,PostgrestBuilder:p.default,PostgrestError:v.default},kn}var Kg=$g();const Qg=Ya(Kg),{PostgrestClient:Zg,PostgrestQueryBuilder:bb,PostgrestFilterBuilder:Cb,PostgrestTransformBuilder:Eb,PostgrestBuilder:Nb,PostgrestError:Sb}=Qg;function Jg(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const ex=Jg(),tx="2.11.15",nx=`realtime-js/${tx}`,rx="1.0.0",qp=1e4,ix=1e3;var Go;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(Go||(Go={}));var Yn;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(Yn||(Yn={}));var Jr;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(Jr||(Jr={}));var Id;(function(o){o.websocket="websocket"})(Id||(Id={}));var Xs;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(Xs||(Xs={}));class sx{constructor(){this.HEADER_LENGTH=1}decode(s,a){return s.constructor===ArrayBuffer?a(this._binaryDecode(s)):a(typeof s=="string"?JSON.parse(s):{})}_binaryDecode(s){const a=new DataView(s),d=new TextDecoder;return this._decodeBroadcast(s,a,d)}_decodeBroadcast(s,a,d){const m=a.getUint8(1),p=a.getUint8(2);let v=this.HEADER_LENGTH+2;const E=d.decode(s.slice(v,v+m));v=v+m;const N=d.decode(s.slice(v,v+p));v=v+p;const w=JSON.parse(d.decode(s.slice(v,s.byteLength)));return{ref:null,topic:E,event:N,payload:w}}}class Yp{constructor(s,a){this.callback=s,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ht;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(Ht||(Ht={}));const k0=(o,s,a={})=>{var d;const m=(d=a.skipTypes)!==null&&d!==void 0?d:[];return Object.keys(s).reduce((p,v)=>(p[v]=ax(v,o,s,m),p),{})},ax=(o,s,a,d)=>{const m=s.find(E=>E.name===o),p=m==null?void 0:m.type,v=a[o];return p&&!d.includes(p)?Xp(p,v):Td(v)},Xp=(o,s)=>{if(o.charAt(0)==="_"){const a=o.slice(1,o.length);return ux(s,a)}switch(o){case Ht.bool:return ox(s);case Ht.float4:case Ht.float8:case Ht.int2:case Ht.int4:case Ht.int8:case Ht.numeric:case Ht.oid:return lx(s);case Ht.json:case Ht.jsonb:return cx(s);case Ht.timestamp:return dx(s);case Ht.abstime:case Ht.date:case Ht.daterange:case Ht.int4range:case Ht.int8range:case Ht.money:case Ht.reltime:case Ht.text:case Ht.time:case Ht.timestamptz:case Ht.timetz:case Ht.tsrange:case Ht.tstzrange:return Td(s);default:return Td(s)}},Td=o=>o,ox=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},lx=o=>{if(typeof o=="string"){const s=parseFloat(o);if(!Number.isNaN(s))return s}return o},cx=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(s){return console.log(`JSON parse error: ${s}`),o}return o},ux=(o,s)=>{if(typeof o!="string")return o;const a=o.length-1,d=o[a];if(o[0]==="{"&&d==="}"){let p;const v=o.slice(1,a);try{p=JSON.parse("["+v+"]")}catch{p=v?v.split(","):[]}return p.map(E=>Xp(s,E))}return o},dx=o=>typeof o=="string"?o.replace(" ","T"):o,$p=o=>{let s=o;return s=s.replace(/^ws/i,"http"),s=s.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),s.replace(/\/+$/,"")};class hd{constructor(s,a,d={},m=qp){this.channel=s,this.event=a,this.payload=d,this.timeout=m,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,a){var d;return this._hasReceived(s)&&a((d=this.receivedResp)===null||d===void 0?void 0:d.response),this.recHooks.push({status:s,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:a}){this.recHooks.filter(d=>d.status===s).forEach(d=>d.callback(a))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var j0;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(j0||(j0={}));class qo{constructor(s,a){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const d=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(d.state,{},m=>{const{onJoin:p,onLeave:v,onSync:E}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qo.syncState(this.state,m,p,v),this.pendingDiffs.forEach(N=>{this.state=qo.syncDiff(this.state,N,p,v)}),this.pendingDiffs=[],E()}),this.channel._on(d.diff,{},m=>{const{onJoin:p,onLeave:v,onSync:E}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(m):(this.state=qo.syncDiff(this.state,m,p,v),E())}),this.onJoin((m,p,v)=>{this.channel._trigger("presence",{event:"join",key:m,currentPresences:p,newPresences:v})}),this.onLeave((m,p,v)=>{this.channel._trigger("presence",{event:"leave",key:m,currentPresences:p,leftPresences:v})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,a,d,m){const p=this.cloneDeep(s),v=this.transformState(a),E={},N={};return this.map(p,(w,A)=>{v[w]||(N[w]=A)}),this.map(v,(w,A)=>{const I=p[w];if(I){const D=A.map(F=>F.presence_ref),B=I.map(F=>F.presence_ref),P=A.filter(F=>B.indexOf(F.presence_ref)<0),R=I.filter(F=>D.indexOf(F.presence_ref)<0);P.length>0&&(E[w]=P),R.length>0&&(N[w]=R)}else E[w]=A}),this.syncDiff(p,{joins:E,leaves:N},d,m)}static syncDiff(s,a,d,m){const{joins:p,leaves:v}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return d||(d=()=>{}),m||(m=()=>{}),this.map(p,(E,N)=>{var w;const A=(w=s[E])!==null&&w!==void 0?w:[];if(s[E]=this.cloneDeep(N),A.length>0){const I=s[E].map(B=>B.presence_ref),D=A.filter(B=>I.indexOf(B.presence_ref)<0);s[E].unshift(...D)}d(E,A,N)}),this.map(v,(E,N)=>{let w=s[E];if(!w)return;const A=N.map(I=>I.presence_ref);w=w.filter(I=>A.indexOf(I.presence_ref)<0),s[E]=w,m(E,w,N),w.length===0&&delete s[E]}),s}static map(s,a){return Object.getOwnPropertyNames(s).map(d=>a(d,s[d]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((a,d)=>{const m=s[d];return"metas"in m?a[d]=m.metas.map(p=>(p.presence_ref=p.phx_ref,delete p.phx_ref,delete p.phx_ref_prev,p)):a[d]=m,a},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var O0;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(O0||(O0={}));var D0;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(D0||(D0={}));var ki;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(ki||(ki={}));class Zd{constructor(s,a={config:{}},d){this.topic=s,this.params=a,this.socket=d,this.bindings={},this.state=Yn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new hd(this,Jr.join,this.params,this.timeout),this.rejoinTimer=new Yp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Yn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(m=>m.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Yn.closed,this.socket._remove(this)}),this._onError(m=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,m),this.state=Yn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Yn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jr.reply,{},(m,p)=>{this._trigger(this._replyEventName(p),m)}),this.presence=new qo(this),this.broadcastEndpointURL=$p(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(s,a=this.timeout){var d,m;if(this.socket.isConnected()||this.socket.connect(),this.state==Yn.closed){const{config:{broadcast:p,presence:v,private:E}}=this.params;this._onError(A=>s==null?void 0:s(ki.CHANNEL_ERROR,A)),this._onClose(()=>s==null?void 0:s(ki.CLOSED));const N={},w={broadcast:p,presence:v,postgres_changes:(m=(d=this.bindings.postgres_changes)===null||d===void 0?void 0:d.map(A=>A.filter))!==null&&m!==void 0?m:[],private:E};this.socket.accessTokenValue&&(N.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:w},N)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:A})=>{var I;if(this.socket.setAuth(),A===void 0){s==null||s(ki.SUBSCRIBED);return}else{const D=this.bindings.postgres_changes,B=(I=D==null?void 0:D.length)!==null&&I!==void 0?I:0,P=[];for(let R=0;R<B;R++){const F=D[R],{filter:{event:J,schema:K,table:V,filter:ie}}=F,ge=A&&A[R];if(ge&&ge.event===J&&ge.schema===K&&ge.table===V&&ge.filter===ie)P.push(Object.assign(Object.assign({},F),{id:ge.id}));else{this.unsubscribe(),this.state=Yn.errored,s==null||s(ki.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,s&&s(ki.SUBSCRIBED);return}}).receive("error",A=>{this.state=Yn.errored,s==null||s(ki.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{s==null||s(ki.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,a={}){return await this.send({type:"presence",event:"track",payload:s},a.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,a,d){return this._on(s,a,d)}async send(s,a={}){var d,m;if(!this._canPush()&&s.type==="broadcast"){const{event:p,payload:v}=s,N={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:p,payload:v,private:this.private}]})};try{const w=await this._fetchWithTimeout(this.broadcastEndpointURL,N,(d=a.timeout)!==null&&d!==void 0?d:this.timeout);return await((m=w.body)===null||m===void 0?void 0:m.cancel()),w.ok?"ok":"error"}catch(w){return w.name==="AbortError"?"timed out":"error"}}else return new Promise(p=>{var v,E,N;const w=this._push(s.type,s,a.timeout||this.timeout);s.type==="broadcast"&&!(!((N=(E=(v=this.params)===null||v===void 0?void 0:v.config)===null||E===void 0?void 0:E.broadcast)===null||N===void 0)&&N.ack)&&p("ok"),w.receive("ok",()=>p("ok")),w.receive("error",()=>p("error")),w.receive("timeout",()=>p("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=Yn.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jr.close,"leave",this._joinRef())};this.joinPush.destroy();let d=null;return new Promise(m=>{d=new hd(this,Jr.leave,{},s),d.receive("ok",()=>{a(),m("ok")}).receive("timeout",()=>{a(),m("timed out")}).receive("error",()=>{m("error")}),d.send(),this._canPush()||d.trigger("ok",{})}).finally(()=>{d==null||d.destroy()})}teardown(){this.pushBuffer.forEach(s=>s.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(s,a,d){const m=new AbortController,p=setTimeout(()=>m.abort(),d),v=await this.socket.fetch(s,Object.assign(Object.assign({},a),{signal:m.signal}));return clearTimeout(p),v}_push(s,a,d=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let m=new hd(this,s,a,d);return this._canPush()?m.send():(m.startTimeout(),this.pushBuffer.push(m)),m}_onMessage(s,a,d){return a}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,a,d){var m,p;const v=s.toLocaleLowerCase(),{close:E,error:N,leave:w,join:A}=Jr;if(d&&[E,N,w,A].indexOf(v)>=0&&d!==this._joinRef())return;let D=this._onMessage(v,a,d);if(a&&!D)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(v)?(m=this.bindings.postgres_changes)===null||m===void 0||m.filter(B=>{var P,R,F;return((P=B.filter)===null||P===void 0?void 0:P.event)==="*"||((F=(R=B.filter)===null||R===void 0?void 0:R.event)===null||F===void 0?void 0:F.toLocaleLowerCase())===v}).map(B=>B.callback(D,d)):(p=this.bindings[v])===null||p===void 0||p.filter(B=>{var P,R,F,J,K,V;if(["broadcast","presence","postgres_changes"].includes(v))if("id"in B){const ie=B.id,ge=(P=B.filter)===null||P===void 0?void 0:P.event;return ie&&((R=a.ids)===null||R===void 0?void 0:R.includes(ie))&&(ge==="*"||(ge==null?void 0:ge.toLocaleLowerCase())===((F=a.data)===null||F===void 0?void 0:F.type.toLocaleLowerCase()))}else{const ie=(K=(J=B==null?void 0:B.filter)===null||J===void 0?void 0:J.event)===null||K===void 0?void 0:K.toLocaleLowerCase();return ie==="*"||ie===((V=a==null?void 0:a.event)===null||V===void 0?void 0:V.toLocaleLowerCase())}else return B.type.toLocaleLowerCase()===v}).map(B=>{if(typeof D=="object"&&"ids"in D){const P=D.data,{schema:R,table:F,commit_timestamp:J,type:K,errors:V}=P;D=Object.assign(Object.assign({},{schema:R,table:F,commit_timestamp:J,eventType:K,new:{},old:{},errors:V}),this._getPayloadRecords(P))}B.callback(D,d)})}_isClosed(){return this.state===Yn.closed}_isJoined(){return this.state===Yn.joined}_isJoining(){return this.state===Yn.joining}_isLeaving(){return this.state===Yn.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,a,d){const m=s.toLocaleLowerCase(),p={type:m,filter:a,callback:d};return this.bindings[m]?this.bindings[m].push(p):this.bindings[m]=[p],this}_off(s,a){const d=s.toLocaleLowerCase();return this.bindings[d]=this.bindings[d].filter(m=>{var p;return!(((p=m.type)===null||p===void 0?void 0:p.toLocaleLowerCase())===d&&Zd.isEqual(m.filter,a))}),this}static isEqual(s,a){if(Object.keys(s).length!==Object.keys(a).length)return!1;for(const d in s)if(s[d]!==a[d])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(Jr.close,{},s)}_onError(s){this._on(Jr.error,{},a=>s(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Yn.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const a={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(a.new=k0(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(a.old=k0(s.columns,s.old_record)),a}}const M0=()=>{},hx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fx{constructor(s,a){var d;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qp,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=M0,this.ref=0,this.logger=M0,this.conn=null,this.sendBuffer=[],this.serializer=new sx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=p=>{let v;return p?v=p:typeof fetch>"u"?v=(...E)=>tl(async()=>{const{default:N}=await Promise.resolve().then(()=>Ka);return{default:N}},void 0).then(({default:N})=>N(...E)):v=fetch,(...E)=>v(...E)},this.endPoint=`${s}/${Id.websocket}`,this.httpEndpoint=$p(s),a!=null&&a.transport?this.transport=a.transport:this.transport=null,a!=null&&a.params&&(this.params=a.params),a!=null&&a.timeout&&(this.timeout=a.timeout),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),a!=null&&a.heartbeatIntervalMs&&(this.heartbeatIntervalMs=a.heartbeatIntervalMs);const m=(d=a==null?void 0:a.params)===null||d===void 0?void 0:d.apikey;if(m&&(this.accessTokenValue=m,this.apiKey=m),this.reconnectAfterMs=a!=null&&a.reconnectAfterMs?a.reconnectAfterMs:p=>[1e3,2e3,5e3,1e4][p-1]||1e4,this.encode=a!=null&&a.encode?a.encode:(p,v)=>v(JSON.stringify(p)),this.decode=a!=null&&a.decode?a.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Yp(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(a==null?void 0:a.fetch),a!=null&&a.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(a==null?void 0:a.worker)||!1,this.workerUrl=a==null?void 0:a.workerUrl}this.accessToken=(a==null?void 0:a.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=ex),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:rx}))}disconnect(s,a){this.conn&&(this.conn.onclose=function(){},s?this.conn.close(s,a??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(d=>d.teardown()))}getChannels(){return this.channels}async removeChannel(s){const a=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const s=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),s}log(s,a,d){this.logger(s,a,d)}connectionState(){switch(this.conn&&this.conn.readyState){case Go.connecting:return Xs.Connecting;case Go.open:return Xs.Open;case Go.closing:return Xs.Closing;default:return Xs.Closed}}isConnected(){return this.connectionState()===Xs.Open}channel(s,a={config:{}}){const d=`realtime:${s}`,m=this.getChannels().find(p=>p.topic===d);if(m)return m;{const p=new Zd(`realtime:${s}`,a,this);return this.channels.push(p),p}}push(s){const{topic:a,event:d,payload:m,ref:p}=s,v=()=>{this.encode(s,E=>{var N;(N=this.conn)===null||N===void 0||N.send(E)})};this.log("push",`${a} ${d} (${p})`,m),this.isConnected()?v():this.sendBuffer.push(v)}async setAuth(s=null){let a=s||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(d=>{const m={access_token:a,version:nx};a&&d.updateJoinPayload(m),d.joinedOnce&&d._isJoined()&&d._push(Jr.access_token,{access_token:a})}))}async sendHeartbeat(){var s;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(s=this.conn)===null||s===void 0||s.close(ix,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(s){this.heartbeatCallback=s}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let a=this.channels.find(d=>d.topic===s&&(d._isJoined()||d._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${s}"`),a.unsubscribe())}_remove(s){this.channels=this.channels.filter(a=>a.topic!==s.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s))}_onConnMessage(s){this.decode(s.data,a=>{let{topic:d,event:m,payload:p,ref:v}=a;d==="phoenix"&&m==="phx_reply"&&this.heartbeatCallback(a.payload.status=="ok"?"ok":"error"),v&&v===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${p.status||""} ${d} ${m} ${v&&"("+v+")"||""}`,p),Array.from(this.channels).filter(E=>E._isMember(d)).forEach(E=>E._trigger(m,p,v)),this.stateChangeCallbacks.message.forEach(E=>E(a))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(s=>s())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(s){this.log("transport","close",s),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(a=>a(s))}_onConnError(s){this.log("transport",`${s}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(a=>a(s))}_triggerChanError(){this.channels.forEach(s=>s._trigger(Jr.error))}_appendParams(s,a){if(Object.keys(a).length===0)return s;const d=s.match(/\?/)?"&":"?",m=new URLSearchParams(a);return`${s}${d}${m}`}_workerObjectUrl(s){let a;if(s)a=s;else{const d=new Blob([hx],{type:"application/javascript"});a=URL.createObjectURL(d)}return a}}class Jd extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}}function jn(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class px extends Jd{constructor(s,a){super(s),this.name="StorageApiError",this.status=a}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class kd extends Jd{constructor(s,a){super(s),this.name="StorageUnknownError",this.originalError=a}}var mx=function(o,s,a,d){function m(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function E(A){try{w(d.next(A))}catch(I){v(I)}}function N(A){try{w(d.throw(A))}catch(I){v(I)}}function w(A){A.done?p(A.value):m(A.value).then(E,N)}w((d=d.apply(o,s||[])).next())})};const Kp=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>tl(async()=>{const{default:d}=await Promise.resolve().then(()=>Ka);return{default:d}},void 0).then(({default:d})=>d(...a)):s=fetch,(...a)=>s(...a)},gx=()=>mx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield tl(()=>Promise.resolve().then(()=>Ka),void 0)).Response:Response}),jd=o=>{if(Array.isArray(o))return o.map(a=>jd(a));if(typeof o=="function"||o!==Object(o))return o;const s={};return Object.entries(o).forEach(([a,d])=>{const m=a.replace(/([-_][a-z])/gi,p=>p.toUpperCase().replace(/[-_]/g,""));s[m]=jd(d)}),s};var Js=function(o,s,a,d){function m(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function E(A){try{w(d.next(A))}catch(I){v(I)}}function N(A){try{w(d.throw(A))}catch(I){v(I)}}function w(A){A.done?p(A.value):m(A.value).then(E,N)}w((d=d.apply(o,s||[])).next())})};const fd=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),xx=(o,s,a)=>Js(void 0,void 0,void 0,function*(){const d=yield gx();o instanceof d&&!(a!=null&&a.noResolveJson)?o.json().then(m=>{s(new px(fd(m),o.status||500))}).catch(m=>{s(new kd(fd(m),m))}):s(new kd(fd(o),o))}),yx=(o,s,a,d)=>{const m={method:o,headers:(s==null?void 0:s.headers)||{}};return o==="GET"?m:(m.headers=Object.assign({"Content-Type":"application/json"},s==null?void 0:s.headers),d&&(m.body=JSON.stringify(d)),Object.assign(Object.assign({},m),a))};function nl(o,s,a,d,m,p){return Js(this,void 0,void 0,function*(){return new Promise((v,E)=>{o(a,yx(s,d,m,p)).then(N=>{if(!N.ok)throw N;return d!=null&&d.noResolveJson?N:N.json()}).then(N=>v(N)).catch(N=>xx(N,E,d))})})}function Nc(o,s,a,d){return Js(this,void 0,void 0,function*(){return nl(o,"GET",s,a,d)})}function cs(o,s,a,d,m){return Js(this,void 0,void 0,function*(){return nl(o,"POST",s,d,m,a)})}function vx(o,s,a,d,m){return Js(this,void 0,void 0,function*(){return nl(o,"PUT",s,d,m,a)})}function wx(o,s,a,d){return Js(this,void 0,void 0,function*(){return nl(o,"HEAD",s,Object.assign(Object.assign({},a),{noResolveJson:!0}),d)})}function Qp(o,s,a,d,m){return Js(this,void 0,void 0,function*(){return nl(o,"DELETE",s,d,m,a)})}var hr=function(o,s,a,d){function m(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function E(A){try{w(d.next(A))}catch(I){v(I)}}function N(A){try{w(d.throw(A))}catch(I){v(I)}}function w(A){A.done?p(A.value):m(A.value).then(E,N)}w((d=d.apply(o,s||[])).next())})};const bx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},R0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Cx{constructor(s,a={},d,m){this.url=s,this.headers=a,this.bucketId=d,this.fetch=Kp(m)}uploadOrUpdate(s,a,d,m){return hr(this,void 0,void 0,function*(){try{let p;const v=Object.assign(Object.assign({},R0),m);let E=Object.assign(Object.assign({},this.headers),s==="POST"&&{"x-upsert":String(v.upsert)});const N=v.metadata;typeof Blob<"u"&&d instanceof Blob?(p=new FormData,p.append("cacheControl",v.cacheControl),N&&p.append("metadata",this.encodeMetadata(N)),p.append("",d)):typeof FormData<"u"&&d instanceof FormData?(p=d,p.append("cacheControl",v.cacheControl),N&&p.append("metadata",this.encodeMetadata(N))):(p=d,E["cache-control"]=`max-age=${v.cacheControl}`,E["content-type"]=v.contentType,N&&(E["x-metadata"]=this.toBase64(this.encodeMetadata(N)))),m!=null&&m.headers&&(E=Object.assign(Object.assign({},E),m.headers));const w=this._removeEmptyFolders(a),A=this._getFinalPath(w),I=yield this.fetch(`${this.url}/object/${A}`,Object.assign({method:s,body:p,headers:E},v!=null&&v.duplex?{duplex:v.duplex}:{})),D=yield I.json();return I.ok?{data:{path:w,id:D.Id,fullPath:D.Key},error:null}:{data:null,error:D}}catch(p){if(jn(p))return{data:null,error:p};throw p}})}upload(s,a,d){return hr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",s,a,d)})}uploadToSignedUrl(s,a,d,m){return hr(this,void 0,void 0,function*(){const p=this._removeEmptyFolders(s),v=this._getFinalPath(p),E=new URL(this.url+`/object/upload/sign/${v}`);E.searchParams.set("token",a);try{let N;const w=Object.assign({upsert:R0.upsert},m),A=Object.assign(Object.assign({},this.headers),{"x-upsert":String(w.upsert)});typeof Blob<"u"&&d instanceof Blob?(N=new FormData,N.append("cacheControl",w.cacheControl),N.append("",d)):typeof FormData<"u"&&d instanceof FormData?(N=d,N.append("cacheControl",w.cacheControl)):(N=d,A["cache-control"]=`max-age=${w.cacheControl}`,A["content-type"]=w.contentType);const I=yield this.fetch(E.toString(),{method:"PUT",body:N,headers:A}),D=yield I.json();return I.ok?{data:{path:p,fullPath:D.Key},error:null}:{data:null,error:D}}catch(N){if(jn(N))return{data:null,error:N};throw N}})}createSignedUploadUrl(s,a){return hr(this,void 0,void 0,function*(){try{let d=this._getFinalPath(s);const m=Object.assign({},this.headers);a!=null&&a.upsert&&(m["x-upsert"]="true");const p=yield cs(this.fetch,`${this.url}/object/upload/sign/${d}`,{},{headers:m}),v=new URL(this.url+p.url),E=v.searchParams.get("token");if(!E)throw new Jd("No token returned by API");return{data:{signedUrl:v.toString(),path:s,token:E},error:null}}catch(d){if(jn(d))return{data:null,error:d};throw d}})}update(s,a,d){return hr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",s,a,d)})}move(s,a,d){return hr(this,void 0,void 0,function*(){try{return{data:yield cs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:s,destinationKey:a,destinationBucket:d==null?void 0:d.destinationBucket},{headers:this.headers}),error:null}}catch(m){if(jn(m))return{data:null,error:m};throw m}})}copy(s,a,d){return hr(this,void 0,void 0,function*(){try{return{data:{path:(yield cs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:s,destinationKey:a,destinationBucket:d==null?void 0:d.destinationBucket},{headers:this.headers})).Key},error:null}}catch(m){if(jn(m))return{data:null,error:m};throw m}})}createSignedUrl(s,a,d){return hr(this,void 0,void 0,function*(){try{let m=this._getFinalPath(s),p=yield cs(this.fetch,`${this.url}/object/sign/${m}`,Object.assign({expiresIn:a},d!=null&&d.transform?{transform:d.transform}:{}),{headers:this.headers});const v=d!=null&&d.download?`&download=${d.download===!0?"":d.download}`:"";return p={signedUrl:encodeURI(`${this.url}${p.signedURL}${v}`)},{data:p,error:null}}catch(m){if(jn(m))return{data:null,error:m};throw m}})}createSignedUrls(s,a,d){return hr(this,void 0,void 0,function*(){try{const m=yield cs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:s},{headers:this.headers}),p=d!=null&&d.download?`&download=${d.download===!0?"":d.download}`:"";return{data:m.map(v=>Object.assign(Object.assign({},v),{signedUrl:v.signedURL?encodeURI(`${this.url}${v.signedURL}${p}`):null})),error:null}}catch(m){if(jn(m))return{data:null,error:m};throw m}})}download(s,a){return hr(this,void 0,void 0,function*(){const m=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",p=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),v=p?`?${p}`:"";try{const E=this._getFinalPath(s);return{data:yield(yield Nc(this.fetch,`${this.url}/${m}/${E}${v}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(E){if(jn(E))return{data:null,error:E};throw E}})}info(s){return hr(this,void 0,void 0,function*(){const a=this._getFinalPath(s);try{const d=yield Nc(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:jd(d),error:null}}catch(d){if(jn(d))return{data:null,error:d};throw d}})}exists(s){return hr(this,void 0,void 0,function*(){const a=this._getFinalPath(s);try{return yield wx(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(d){if(jn(d)&&d instanceof kd){const m=d.originalError;if([400,404].includes(m==null?void 0:m.status))return{data:!1,error:d}}throw d}})}getPublicUrl(s,a){const d=this._getFinalPath(s),m=[],p=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";p!==""&&m.push(p);const E=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",N=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});N!==""&&m.push(N);let w=m.join("&");return w!==""&&(w=`?${w}`),{data:{publicUrl:encodeURI(`${this.url}/${E}/public/${d}${w}`)}}}remove(s){return hr(this,void 0,void 0,function*(){try{return{data:yield Qp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:s},{headers:this.headers}),error:null}}catch(a){if(jn(a))return{data:null,error:a};throw a}})}list(s,a,d){return hr(this,void 0,void 0,function*(){try{const m=Object.assign(Object.assign(Object.assign({},bx),a),{prefix:s||""});return{data:yield cs(this.fetch,`${this.url}/object/list/${this.bucketId}`,m,{headers:this.headers},d),error:null}}catch(m){if(jn(m))return{data:null,error:m};throw m}})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const a=[];return s.width&&a.push(`width=${s.width}`),s.height&&a.push(`height=${s.height}`),s.resize&&a.push(`resize=${s.resize}`),s.format&&a.push(`format=${s.format}`),s.quality&&a.push(`quality=${s.quality}`),a.join("&")}}const Ex="2.7.1",Nx={"X-Client-Info":`storage-js/${Ex}`};var Ma=function(o,s,a,d){function m(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function E(A){try{w(d.next(A))}catch(I){v(I)}}function N(A){try{w(d.throw(A))}catch(I){v(I)}}function w(A){A.done?p(A.value):m(A.value).then(E,N)}w((d=d.apply(o,s||[])).next())})};class Sx{constructor(s,a={},d){this.url=s,this.headers=Object.assign(Object.assign({},Nx),a),this.fetch=Kp(d)}listBuckets(){return Ma(this,void 0,void 0,function*(){try{return{data:yield Nc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(s){if(jn(s))return{data:null,error:s};throw s}})}getBucket(s){return Ma(this,void 0,void 0,function*(){try{return{data:yield Nc(this.fetch,`${this.url}/bucket/${s}`,{headers:this.headers}),error:null}}catch(a){if(jn(a))return{data:null,error:a};throw a}})}createBucket(s,a={public:!1}){return Ma(this,void 0,void 0,function*(){try{return{data:yield cs(this.fetch,`${this.url}/bucket`,{id:s,name:s,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(d){if(jn(d))return{data:null,error:d};throw d}})}updateBucket(s,a){return Ma(this,void 0,void 0,function*(){try{return{data:yield vx(this.fetch,`${this.url}/bucket/${s}`,{id:s,name:s,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(d){if(jn(d))return{data:null,error:d};throw d}})}emptyBucket(s){return Ma(this,void 0,void 0,function*(){try{return{data:yield cs(this.fetch,`${this.url}/bucket/${s}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(jn(a))return{data:null,error:a};throw a}})}deleteBucket(s){return Ma(this,void 0,void 0,function*(){try{return{data:yield Qp(this.fetch,`${this.url}/bucket/${s}`,{},{headers:this.headers}),error:null}}catch(a){if(jn(a))return{data:null,error:a};throw a}})}}class Ax extends Sx{constructor(s,a={},d){super(s,a,d)}from(s){return new Cx(this.url,this.headers,s,this.fetch)}}const _x="2.52.0";let Wo="";typeof Deno<"u"?Wo="deno":typeof document<"u"?Wo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wo="react-native":Wo="node";const Ix={"X-Client-Info":`supabase-js-${Wo}/${_x}`},Tx={headers:Ix},kx={schema:"public"},jx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ox={};var Dx=function(o,s,a,d){function m(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function E(A){try{w(d.next(A))}catch(I){v(I)}}function N(A){try{w(d.throw(A))}catch(I){v(I)}}function w(A){A.done?p(A.value):m(A.value).then(E,N)}w((d=d.apply(o,s||[])).next())})};const Mx=o=>{let s;return o?s=o:typeof fetch>"u"?s=Up:s=fetch,(...a)=>s(...a)},Rx=()=>typeof Headers>"u"?zp:Headers,Px=(o,s,a)=>{const d=Mx(a),m=Rx();return(p,v)=>Dx(void 0,void 0,void 0,function*(){var E;const N=(E=yield s())!==null&&E!==void 0?E:o;let w=new m(v==null?void 0:v.headers);return w.has("apikey")||w.set("apikey",o),w.has("Authorization")||w.set("Authorization",`Bearer ${N}`),d(p,Object.assign(Object.assign({},v),{headers:w}))})};var Lx=function(o,s,a,d){function m(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function E(A){try{w(d.next(A))}catch(I){v(I)}}function N(A){try{w(d.throw(A))}catch(I){v(I)}}function w(A){A.done?p(A.value):m(A.value).then(E,N)}w((d=d.apply(o,s||[])).next())})};function Bx(o){return o.endsWith("/")?o:o+"/"}function Fx(o,s){var a,d;const{db:m,auth:p,realtime:v,global:E}=o,{db:N,auth:w,realtime:A,global:I}=s,D={db:Object.assign(Object.assign({},N),m),auth:Object.assign(Object.assign({},w),p),realtime:Object.assign(Object.assign({},A),v),global:Object.assign(Object.assign(Object.assign({},I),E),{headers:Object.assign(Object.assign({},(a=I==null?void 0:I.headers)!==null&&a!==void 0?a:{}),(d=E==null?void 0:E.headers)!==null&&d!==void 0?d:{})}),accessToken:()=>Lx(this,void 0,void 0,function*(){return""})};return o.accessToken?D.accessToken=o.accessToken:delete D.accessToken,D}const Zp="2.71.1",Ua=30*1e3,Od=3,pd=Od*Ua,Ux="http://localhost:9999",zx="supabase.auth.token",Hx={"X-Client-Info":`gotrue-js/${Zp}`},Dd="X-Supabase-Api-Version",Jp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Wx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Vx=600*1e3;class eh extends Error{constructor(s,a,d){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=d}}function at(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class Gx extends eh{constructor(s,a,d){super(s,a,d),this.name="AuthApiError",this.status=a,this.code=d}}function qx(o){return at(o)&&o.name==="AuthApiError"}class e1 extends eh{constructor(s,a){super(s),this.name="AuthUnknownError",this.originalError=a}}class xs extends eh{constructor(s,a,d,m){super(s,d,m),this.name=a,this.status=d}}class ls extends xs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Yx(o){return at(o)&&o.name==="AuthSessionMissingError"}class pc extends xs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mc extends xs{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class gc extends xs{constructor(s,a=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Xx(o){return at(o)&&o.name==="AuthImplicitGrantRedirectError"}class P0 extends xs{constructor(s,a=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Md extends xs{constructor(s,a){super(s,"AuthRetryableFetchError",a,void 0)}}function md(o){return at(o)&&o.name==="AuthRetryableFetchError"}class L0 extends xs{constructor(s,a,d){super(s,"AuthWeakPasswordError",a,"weak_password"),this.reasons=d}}class Rd extends xs{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}}const Sc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),B0=` 	
\r=`.split(""),$x=(()=>{const o=new Array(128);for(let s=0;s<o.length;s+=1)o[s]=-1;for(let s=0;s<B0.length;s+=1)o[B0[s].charCodeAt(0)]=-2;for(let s=0;s<Sc.length;s+=1)o[Sc[s].charCodeAt(0)]=s;return o})();function F0(o,s,a){if(o!==null)for(s.queue=s.queue<<8|o,s.queuedBits+=8;s.queuedBits>=6;){const d=s.queue>>s.queuedBits-6&63;a(Sc[d]),s.queuedBits-=6}else if(s.queuedBits>0)for(s.queue=s.queue<<6-s.queuedBits,s.queuedBits=6;s.queuedBits>=6;){const d=s.queue>>s.queuedBits-6&63;a(Sc[d]),s.queuedBits-=6}}function t1(o,s,a){const d=$x[o];if(d>-1)for(s.queue=s.queue<<6|d,s.queuedBits+=6;s.queuedBits>=8;)a(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(d===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(o)}"`)}}function U0(o){const s=[],a=v=>{s.push(String.fromCodePoint(v))},d={utf8seq:0,codepoint:0},m={queue:0,queuedBits:0},p=v=>{Zx(v,d,a)};for(let v=0;v<o.length;v+=1)t1(o.charCodeAt(v),m,p);return s.join("")}function Kx(o,s){if(o<=127){s(o);return}else if(o<=2047){s(192|o>>6),s(128|o&63);return}else if(o<=65535){s(224|o>>12),s(128|o>>6&63),s(128|o&63);return}else if(o<=1114111){s(240|o>>18),s(128|o>>12&63),s(128|o>>6&63),s(128|o&63);return}throw new Error(`Unrecognized Unicode codepoint: ${o.toString(16)}`)}function Qx(o,s){for(let a=0;a<o.length;a+=1){let d=o.charCodeAt(a);if(d>55295&&d<=56319){const m=(d-55296)*1024&65535;d=(o.charCodeAt(a+1)-56320&65535|m)+65536,a+=1}Kx(d,s)}}function Zx(o,s,a){if(s.utf8seq===0){if(o<=127){a(o);return}for(let d=1;d<6;d+=1)if((o>>7-d&1)===0){s.utf8seq=d;break}if(s.utf8seq===2)s.codepoint=o&31;else if(s.utf8seq===3)s.codepoint=o&15;else if(s.utf8seq===4)s.codepoint=o&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(o<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|o&63,s.utf8seq-=1,s.utf8seq===0&&a(s.codepoint)}}function Jx(o){const s=[],a={queue:0,queuedBits:0},d=m=>{s.push(m)};for(let m=0;m<o.length;m+=1)t1(o.charCodeAt(m),a,d);return new Uint8Array(s)}function ey(o){const s=[];return Qx(o,a=>s.push(a)),new Uint8Array(s)}function ty(o){const s=[],a={queue:0,queuedBits:0},d=m=>{s.push(m)};return o.forEach(m=>F0(m,a,d)),F0(null,a,d),s.join("")}function ny(o){return Math.round(Date.now()/1e3)+o}function ry(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const s=Math.random()*16|0;return(o=="x"?s:s&3|8).toString(16)})}const Zr=()=>typeof window<"u"&&typeof document<"u",Gs={tested:!1,writable:!1},n1=()=>{if(!Zr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gs.tested)return Gs.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),Gs.tested=!0,Gs.writable=!0}catch{Gs.tested=!0,Gs.writable=!1}return Gs.writable};function iy(o){const s={},a=new URL(o);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((m,p)=>{s[p]=m})}catch{}return a.searchParams.forEach((d,m)=>{s[m]=d}),s}const r1=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>tl(async()=>{const{default:d}=await Promise.resolve().then(()=>Ka);return{default:d}},void 0).then(({default:d})=>d(...a)):s=fetch,(...a)=>s(...a)},sy=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",za=async(o,s,a)=>{await o.setItem(s,JSON.stringify(a))},qs=async(o,s)=>{const a=await o.getItem(s);if(!a)return null;try{return JSON.parse(a)}catch{return a}},as=async(o,s)=>{await o.removeItem(s)};class Lc{constructor(){this.promise=new Lc.promiseConstructor((s,a)=>{this.resolve=s,this.reject=a})}}Lc.promiseConstructor=Promise;function gd(o){const s=o.split(".");if(s.length!==3)throw new Rd("Invalid JWT structure");for(let d=0;d<s.length;d++)if(!Wx.test(s[d]))throw new Rd("JWT not in base64url format");return{header:JSON.parse(U0(s[0])),payload:JSON.parse(U0(s[1])),signature:Jx(s[2]),raw:{header:s[0],payload:s[1]}}}async function ay(o){return await new Promise(s=>{setTimeout(()=>s(null),o)})}function oy(o,s){return new Promise((d,m)=>{(async()=>{for(let p=0;p<1/0;p++)try{const v=await o(p);if(!s(p,null,v)){d(v);return}}catch(v){if(!s(p,v)){m(v);return}}})()})}function ly(o){return("0"+o.toString(16)).substr(-2)}function cy(){const s=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",d=a.length;let m="";for(let p=0;p<56;p++)m+=a.charAt(Math.floor(Math.random()*d));return m}return crypto.getRandomValues(s),Array.from(s,ly).join("")}async function uy(o){const a=new TextEncoder().encode(o),d=await crypto.subtle.digest("SHA-256",a),m=new Uint8Array(d);return Array.from(m).map(p=>String.fromCharCode(p)).join("")}async function dy(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const a=await uy(o);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ra(o,s,a=!1){const d=cy();let m=d;a&&(m+="/PASSWORD_RECOVERY"),await za(o,`${s}-code-verifier`,m);const p=await dy(d);return[p,d===p?"plain":"s256"]}const hy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fy(o){const s=o.headers.get(Dd);if(!s||!s.match(hy))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function py(o){if(!o)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(o<=s)throw new Error("JWT has expired")}function my(o){switch(o){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pa(o){if(!gy.test(o))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xd(){const o={};return new Proxy(o,{get:(s,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const d=a.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(s,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(s,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function z0(o){return JSON.parse(JSON.stringify(o))}var xy=function(o,s){var a={};for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&s.indexOf(d)<0&&(a[d]=o[d]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,d=Object.getOwnPropertySymbols(o);m<d.length;m++)s.indexOf(d[m])<0&&Object.prototype.propertyIsEnumerable.call(o,d[m])&&(a[d[m]]=o[d[m]]);return a};const Ys=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),yy=[502,503,504];async function H0(o){var s;if(!sy(o))throw new Md(Ys(o),0);if(yy.includes(o.status))throw new Md(Ys(o),o.status);let a;try{a=await o.json()}catch(p){throw new e1(Ys(p),p)}let d;const m=fy(o);if(m&&m.getTime()>=Jp["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?d=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(d=a.error_code),d){if(d==="weak_password")throw new L0(Ys(a),o.status,((s=a.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(d==="session_not_found")throw new ls}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((p,v)=>p&&typeof v=="string",!0))throw new L0(Ys(a),o.status,a.weak_password.reasons);throw new Gx(Ys(a),o.status||500,d)}const vy=(o,s,a,d)=>{const m={method:o,headers:(s==null?void 0:s.headers)||{}};return o==="GET"?m:(m.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s==null?void 0:s.headers),m.body=JSON.stringify(d),Object.assign(Object.assign({},m),a))};async function pt(o,s,a,d){var m;const p=Object.assign({},d==null?void 0:d.headers);p[Dd]||(p[Dd]=Jp["2024-01-01"].name),d!=null&&d.jwt&&(p.Authorization=`Bearer ${d.jwt}`);const v=(m=d==null?void 0:d.query)!==null&&m!==void 0?m:{};d!=null&&d.redirectTo&&(v.redirect_to=d.redirectTo);const E=Object.keys(v).length?"?"+new URLSearchParams(v).toString():"",N=await wy(o,s,a+E,{headers:p,noResolveJson:d==null?void 0:d.noResolveJson},{},d==null?void 0:d.body);return d!=null&&d.xform?d==null?void 0:d.xform(N):{data:Object.assign({},N),error:null}}async function wy(o,s,a,d,m,p){const v=vy(s,d,m,p);let E;try{E=await o(a,Object.assign({},v))}catch(N){throw console.error(N),new Md(Ys(N),0)}if(E.ok||await H0(E),d!=null&&d.noResolveJson)return E;try{return await E.json()}catch(N){await H0(N)}}function Ti(o){var s;let a=null;Ny(o)&&(a=Object.assign({},o),o.expires_at||(a.expires_at=ny(o.expires_in)));const d=(s=o.user)!==null&&s!==void 0?s:o;return{data:{session:a,user:d},error:null}}function W0(o){const s=Ti(o);return!s.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((a,d)=>a&&typeof d=="string",!0)&&(s.data.weak_password=o.weak_password),s}function us(o){var s;return{data:{user:(s=o.user)!==null&&s!==void 0?s:o},error:null}}function by(o){return{data:o,error:null}}function Cy(o){const{action_link:s,email_otp:a,hashed_token:d,redirect_to:m,verification_type:p}=o,v=xy(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),E={action_link:s,email_otp:a,hashed_token:d,redirect_to:m,verification_type:p},N=Object.assign({},v);return{data:{properties:E,user:N},error:null}}function Ey(o){return o}function Ny(o){return o.access_token&&o.refresh_token&&o.expires_in}const yd=["global","local","others"];var Sy=function(o,s){var a={};for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&s.indexOf(d)<0&&(a[d]=o[d]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,d=Object.getOwnPropertySymbols(o);m<d.length;m++)s.indexOf(d[m])<0&&Object.prototype.propertyIsEnumerable.call(o,d[m])&&(a[d[m]]=o[d[m]]);return a};class Ay{constructor({url:s="",headers:a={},fetch:d}){this.url=s,this.headers=a,this.fetch=r1(d),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(s,a=yd[0]){if(yd.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yd.join(", ")}`);try{return await pt(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(d){if(at(d))return{data:null,error:d};throw d}}async inviteUserByEmail(s,a={}){try{return await pt(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:us})}catch(d){if(at(d))return{data:{user:null},error:d};throw d}}async generateLink(s){try{const{options:a}=s,d=Sy(s,["options"]),m=Object.assign(Object.assign({},d),a);return"newEmail"in d&&(m.new_email=d==null?void 0:d.newEmail,delete m.newEmail),await pt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:m,headers:this.headers,xform:Cy,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(at(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(s){try{return await pt(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:us})}catch(a){if(at(a))return{data:{user:null},error:a};throw a}}async listUsers(s){var a,d,m,p,v,E,N;try{const w={nextPage:null,lastPage:0,total:0},A=await pt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(d=(a=s==null?void 0:s.page)===null||a===void 0?void 0:a.toString())!==null&&d!==void 0?d:"",per_page:(p=(m=s==null?void 0:s.perPage)===null||m===void 0?void 0:m.toString())!==null&&p!==void 0?p:""},xform:Ey});if(A.error)throw A.error;const I=await A.json(),D=(v=A.headers.get("x-total-count"))!==null&&v!==void 0?v:0,B=(N=(E=A.headers.get("link"))===null||E===void 0?void 0:E.split(","))!==null&&N!==void 0?N:[];return B.length>0&&(B.forEach(P=>{const R=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),F=JSON.parse(P.split(";")[1].split("=")[1]);w[`${F}Page`]=R}),w.total=parseInt(D)),{data:Object.assign(Object.assign({},I),w),error:null}}catch(w){if(at(w))return{data:{users:[]},error:w};throw w}}async getUserById(s){Pa(s);try{return await pt(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:us})}catch(a){if(at(a))return{data:{user:null},error:a};throw a}}async updateUserById(s,a){Pa(s);try{return await pt(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:a,headers:this.headers,xform:us})}catch(d){if(at(d))return{data:{user:null},error:d};throw d}}async deleteUser(s,a=!1){Pa(s);try{return await pt(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:a},xform:us})}catch(d){if(at(d))return{data:{user:null},error:d};throw d}}async _listFactors(s){Pa(s.userId);try{const{data:a,error:d}=await pt(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:m=>({data:{factors:m},error:null})});return{data:a,error:d}}catch(a){if(at(a))return{data:null,error:a};throw a}}async _deleteFactor(s){Pa(s.userId),Pa(s.id);try{return{data:await pt(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(a){if(at(a))return{data:null,error:a};throw a}}}function V0(o={}){return{getItem:s=>o[s]||null,setItem:(s,a)=>{o[s]=a},removeItem:s=>{delete o[s]}}}function _y(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const La={debug:!!(globalThis&&n1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class i1 extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class Iy extends i1{}async function Ty(o,s,a){La.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,s);const d=new globalThis.AbortController;return s>0&&setTimeout(()=>{d.abort(),La.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:d.signal},async m=>{if(m){La.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,m.name);try{return await a()}finally{La.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,m.name)}}else{if(s===0)throw La.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new Iy(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(La.debug)try{const p=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(p,null,"  "))}catch(p){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",p)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}_y();const ky={url:Ux,storageKey:zx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Hx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function G0(o,s,a){return await a()}const Ba={};class Qo{constructor(s){var a,d;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qo.nextInstanceID,Qo.nextInstanceID+=1,this.instanceID>0&&Zr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const m=Object.assign(Object.assign({},ky),s);if(this.logDebugMessages=!!m.debug,typeof m.debug=="function"&&(this.logger=m.debug),this.persistSession=m.persistSession,this.storageKey=m.storageKey,this.autoRefreshToken=m.autoRefreshToken,this.admin=new Ay({url:m.url,headers:m.headers,fetch:m.fetch}),this.url=m.url,this.headers=m.headers,this.fetch=r1(m.fetch),this.lock=m.lock||G0,this.detectSessionInUrl=m.detectSessionInUrl,this.flowType=m.flowType,this.hasCustomAuthorizationHeader=m.hasCustomAuthorizationHeader,m.lock?this.lock=m.lock:Zr()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=Ty:this.lock=G0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(m.storage?this.storage=m.storage:n1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=V0(this.memoryStorage)),m.userStorage&&(this.userStorage=m.userStorage)):(this.memoryStorage={},this.storage=V0(this.memoryStorage)),Zr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(p){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",p)}(d=this.broadcastChannel)===null||d===void 0||d.addEventListener("message",async p=>{this._debug("received broadcast notification from other tab or client",p),await this._notifyAllSubscribers(p.data.event,p.data.session,!1)})}this.initialize()}get jwks(){var s,a;return(a=(s=Ba[this.storageKey])===null||s===void 0?void 0:s.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(s){Ba[this.storageKey]=Object.assign(Object.assign({},Ba[this.storageKey]),{jwks:s})}get jwks_cached_at(){var s,a;return(a=(s=Ba[this.storageKey])===null||s===void 0?void 0:s.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(s){Ba[this.storageKey]=Object.assign(Object.assign({},Ba[this.storageKey]),{cachedAt:s})}_debug(...s){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Zp}) ${new Date().toISOString()}`,...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{const a=iy(window.location.href);let d="none";if(this._isImplicitGrantCallback(a)?d="implicit":await this._isPKCECallback(a)&&(d="pkce"),Zr()&&this.detectSessionInUrl&&d!=="none"){const{data:m,error:p}=await this._getSessionFromURL(a,d);if(p){if(this._debug("#_initialize()","error detecting session from URL",p),Xx(p)){const N=(s=p.details)===null||s===void 0?void 0:s.code;if(N==="identity_already_exists"||N==="identity_not_found"||N==="single_identity_not_deletable")return{error:p}}return await this._removeSession(),{error:p}}const{session:v,redirectType:E}=m;return this._debug("#_initialize()","detected session in URL",v,"redirect type",E),await this._saveSession(v),setTimeout(async()=>{E==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",v):await this._notifyAllSubscribers("SIGNED_IN",v)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return at(a)?{error:a}:{error:new e1("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var a,d,m;try{const p=await pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(d=(a=s==null?void 0:s.options)===null||a===void 0?void 0:a.data)!==null&&d!==void 0?d:{},gotrue_meta_security:{captcha_token:(m=s==null?void 0:s.options)===null||m===void 0?void 0:m.captchaToken}},xform:Ti}),{data:v,error:E}=p;if(E||!v)return{data:{user:null,session:null},error:E};const N=v.session,w=v.user;return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",N)),{data:{user:w,session:N},error:null}}catch(p){if(at(p))return{data:{user:null,session:null},error:p};throw p}}async signUp(s){var a,d,m;try{let p;if("email"in s){const{email:A,password:I,options:D}=s;let B=null,P=null;this.flowType==="pkce"&&([B,P]=await Ra(this.storage,this.storageKey)),p=await pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:D==null?void 0:D.emailRedirectTo,body:{email:A,password:I,data:(a=D==null?void 0:D.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:D==null?void 0:D.captchaToken},code_challenge:B,code_challenge_method:P},xform:Ti})}else if("phone"in s){const{phone:A,password:I,options:D}=s;p=await pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:A,password:I,data:(d=D==null?void 0:D.data)!==null&&d!==void 0?d:{},channel:(m=D==null?void 0:D.channel)!==null&&m!==void 0?m:"sms",gotrue_meta_security:{captcha_token:D==null?void 0:D.captchaToken}},xform:Ti})}else throw new mc("You must provide either an email or phone number and a password");const{data:v,error:E}=p;if(E||!v)return{data:{user:null,session:null},error:E};const N=v.session,w=v.user;return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",N)),{data:{user:w,session:N},error:null}}catch(p){if(at(p))return{data:{user:null,session:null},error:p};throw p}}async signInWithPassword(s){try{let a;if("email"in s){const{email:p,password:v,options:E}=s;a=await pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:p,password:v,gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:W0})}else if("phone"in s){const{phone:p,password:v,options:E}=s;a=await pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:p,password:v,gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:W0})}else throw new mc("You must provide either an email or phone number and a password");const{data:d,error:m}=a;return m?{data:{user:null,session:null},error:m}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new pc}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign({user:d.user,session:d.session},d.weak_password?{weakPassword:d.weak_password}:null),error:m})}catch(a){if(at(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(s){var a,d,m,p;return await this._handleProviderSignIn(s.provider,{redirectTo:(a=s.options)===null||a===void 0?void 0:a.redirectTo,scopes:(d=s.options)===null||d===void 0?void 0:d.scopes,queryParams:(m=s.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:(p=s.options)===null||p===void 0?void 0:p.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async signInWithWeb3(s){const{chain:a}=s;if(a==="solana")return await this.signInWithSolana(s);throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}async signInWithSolana(s){var a,d,m,p,v,E,N,w,A,I,D,B;let P,R;if("message"in s)P=s.message,R=s.signature;else{const{chain:F,wallet:J,statement:K,options:V}=s;let ie;if(Zr())if(typeof J=="object")ie=J;else{const de=window;if("solana"in de&&typeof de.solana=="object"&&("signIn"in de.solana&&typeof de.solana.signIn=="function"||"signMessage"in de.solana&&typeof de.solana.signMessage=="function"))ie=de.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof J!="object"||!(V!=null&&V.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");ie=J}const ge=new URL((a=V==null?void 0:V.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in ie&&ie.signIn){const de=await ie.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},V==null?void 0:V.signInWithSolana),{version:"1",domain:ge.host,uri:ge.href}),K?{statement:K}:null));let H;if(Array.isArray(de)&&de[0]&&typeof de[0]=="object")H=de[0];else if(de&&typeof de=="object"&&"signedMessage"in de&&"signature"in de)H=de;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)P=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),R=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in ie)||typeof ie.signMessage!="function"||!("publicKey"in ie)||typeof ie!="object"||!ie.publicKey||!("toBase58"in ie.publicKey)||typeof ie.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");P=[`${ge.host} wants you to sign in with your Solana account:`,ie.publicKey.toBase58(),...K?["",K,""]:[""],"Version: 1",`URI: ${ge.href}`,`Issued At: ${(m=(d=V==null?void 0:V.signInWithSolana)===null||d===void 0?void 0:d.issuedAt)!==null&&m!==void 0?m:new Date().toISOString()}`,...!((p=V==null?void 0:V.signInWithSolana)===null||p===void 0)&&p.notBefore?[`Not Before: ${V.signInWithSolana.notBefore}`]:[],...!((v=V==null?void 0:V.signInWithSolana)===null||v===void 0)&&v.expirationTime?[`Expiration Time: ${V.signInWithSolana.expirationTime}`]:[],...!((E=V==null?void 0:V.signInWithSolana)===null||E===void 0)&&E.chainId?[`Chain ID: ${V.signInWithSolana.chainId}`]:[],...!((N=V==null?void 0:V.signInWithSolana)===null||N===void 0)&&N.nonce?[`Nonce: ${V.signInWithSolana.nonce}`]:[],...!((w=V==null?void 0:V.signInWithSolana)===null||w===void 0)&&w.requestId?[`Request ID: ${V.signInWithSolana.requestId}`]:[],...!((I=(A=V==null?void 0:V.signInWithSolana)===null||A===void 0?void 0:A.resources)===null||I===void 0)&&I.length?["Resources",...V.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const de=await ie.signMessage(new TextEncoder().encode(P),"utf8");if(!de||!(de instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=de}}try{const{data:F,error:J}=await pt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:P,signature:ty(R)},!((D=s.options)===null||D===void 0)&&D.captchaToken?{gotrue_meta_security:{captcha_token:(B=s.options)===null||B===void 0?void 0:B.captchaToken}}:null),xform:Ti});if(J)throw J;return!F||!F.session||!F.user?{data:{user:null,session:null},error:new pc}:(F.session&&(await this._saveSession(F.session),await this._notifyAllSubscribers("SIGNED_IN",F.session)),{data:Object.assign({},F),error:J})}catch(F){if(at(F))return{data:{user:null,session:null},error:F};throw F}}async _exchangeCodeForSession(s){const a=await qs(this.storage,`${this.storageKey}-code-verifier`),[d,m]=(a??"").split("/");try{const{data:p,error:v}=await pt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:d},xform:Ti});if(await as(this.storage,`${this.storageKey}-code-verifier`),v)throw v;return!p||!p.session||!p.user?{data:{user:null,session:null,redirectType:null},error:new pc}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign(Object.assign({},p),{redirectType:m??null}),error:v})}catch(p){if(at(p))return{data:{user:null,session:null,redirectType:null},error:p};throw p}}async signInWithIdToken(s){try{const{options:a,provider:d,token:m,access_token:p,nonce:v}=s,E=await pt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:d,id_token:m,access_token:p,nonce:v,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ti}),{data:N,error:w}=E;return w?{data:{user:null,session:null},error:w}:!N||!N.session||!N.user?{data:{user:null,session:null},error:new pc}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:N,error:w})}catch(a){if(at(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(s){var a,d,m,p,v;try{if("email"in s){const{email:E,options:N}=s;let w=null,A=null;this.flowType==="pkce"&&([w,A]=await Ra(this.storage,this.storageKey));const{error:I}=await pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:E,data:(a=N==null?void 0:N.data)!==null&&a!==void 0?a:{},create_user:(d=N==null?void 0:N.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken},code_challenge:w,code_challenge_method:A},redirectTo:N==null?void 0:N.emailRedirectTo});return{data:{user:null,session:null},error:I}}if("phone"in s){const{phone:E,options:N}=s,{data:w,error:A}=await pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:E,data:(m=N==null?void 0:N.data)!==null&&m!==void 0?m:{},create_user:(p=N==null?void 0:N.shouldCreateUser)!==null&&p!==void 0?p:!0,gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken},channel:(v=N==null?void 0:N.channel)!==null&&v!==void 0?v:"sms"}});return{data:{user:null,session:null,messageId:w==null?void 0:w.message_id},error:A}}throw new mc("You must provide either an email or phone number.")}catch(E){if(at(E))return{data:{user:null,session:null},error:E};throw E}}async verifyOtp(s){var a,d;try{let m,p;"options"in s&&(m=(a=s.options)===null||a===void 0?void 0:a.redirectTo,p=(d=s.options)===null||d===void 0?void 0:d.captchaToken);const{data:v,error:E}=await pt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:p}}),redirectTo:m,xform:Ti});if(E)throw E;if(!v)throw new Error("An error occurred on token verification.");const N=v.session,w=v.user;return N!=null&&N.access_token&&(await this._saveSession(N),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",N)),{data:{user:w,session:N},error:null}}catch(m){if(at(m))return{data:{user:null,session:null},error:m};throw m}}async signInWithSSO(s){var a,d,m;try{let p=null,v=null;return this.flowType==="pkce"&&([p,v]=await Ra(this.storage,this.storageKey)),await pt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(d=(a=s.options)===null||a===void 0?void 0:a.redirectTo)!==null&&d!==void 0?d:void 0}),!((m=s==null?void 0:s.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:v}),headers:this.headers,xform:by})}catch(p){if(at(p))return{data:null,error:p};throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:a},error:d}=s;if(d)throw d;if(!a)throw new ls;const{error:m}=await pt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:m}})}catch(s){if(at(s))return{data:{user:null,session:null},error:s};throw s}}async resend(s){try{const a=`${this.url}/resend`;if("email"in s){const{email:d,type:m,options:p}=s,{error:v}=await pt(this.fetch,"POST",a,{headers:this.headers,body:{email:d,type:m,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:v}}else if("phone"in s){const{phone:d,type:m,options:p}=s,{data:v,error:E}=await pt(this.fetch,"POST",a,{headers:this.headers,body:{phone:d,type:m,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}}});return{data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:E}}throw new mc("You must provide either an email or phone number and a type")}catch(a){if(at(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(s,a){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const d=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),m=(async()=>(await d,await a()))();return this.pendingInLock.push((async()=>{try{await m}catch{}})()),m}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const d=a();for(this.pendingInLock.push((async()=>{try{await d}catch{}})()),await d;this.pendingInLock.length;){const m=[...this.pendingInLock];await Promise.all(m),this.pendingInLock.splice(0,m.length)}return await d}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await s(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const a=await qs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?s=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const d=s.expires_at?s.expires_at*1e3-Date.now()<pd:!1;if(this._debug("#__loadSession()",`session has${d?"":" not"} expired`,"expires_at",s.expires_at),!d){if(this.userStorage){const v=await qs(this.userStorage,this.storageKey+"-user");v!=null&&v.user?s.user=v.user:s.user=xd()}if(this.storage.isServer&&s.user){let v=this.suppressGetSessionWarning;s=new Proxy(s,{get:(N,w,A)=>(!v&&w==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),v=!0,this.suppressGetSessionWarning=!0),Reflect.get(N,w,A))})}return{data:{session:s},error:null}}const{session:m,error:p}=await this._callRefreshToken(s.refresh_token);return p?{data:{session:null},error:p}:{data:{session:m},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(s){return s?await this._getUser(s):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(s){try{return s?await pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:us}):await this._useSession(async a=>{var d,m,p;const{data:v,error:E}=a;if(E)throw E;return!(!((d=v.session)===null||d===void 0)&&d.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ls}:await pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(p=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&p!==void 0?p:void 0,xform:us})})}catch(a){if(at(a))return Yx(a)&&(await this._removeSession(),await as(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(s,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,a))}async _updateUser(s,a={}){try{return await this._useSession(async d=>{const{data:m,error:p}=d;if(p)throw p;if(!m.session)throw new ls;const v=m.session;let E=null,N=null;this.flowType==="pkce"&&s.email!=null&&([E,N]=await Ra(this.storage,this.storageKey));const{data:w,error:A}=await pt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:E,code_challenge_method:N}),jwt:v.access_token,xform:us});if(A)throw A;return v.user=w.user,await this._saveSession(v),await this._notifyAllSubscribers("USER_UPDATED",v),{data:{user:v.user},error:null}})}catch(d){if(at(d))return{data:{user:null},error:d};throw d}}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new ls;const a=Date.now()/1e3;let d=a,m=!0,p=null;const{payload:v}=gd(s.access_token);if(v.exp&&(d=v.exp,m=d<=a),m){const{session:E,error:N}=await this._callRefreshToken(s.refresh_token);if(N)return{data:{user:null,session:null},error:N};if(!E)return{data:{user:null,session:null},error:null};p=E}else{const{data:E,error:N}=await this._getUser(s.access_token);if(N)throw N;p={access_token:s.access_token,refresh_token:s.refresh_token,user:E.user,token_type:"bearer",expires_in:d-a,expires_at:d},await this._saveSession(p),await this._notifyAllSubscribers("SIGNED_IN",p)}return{data:{user:p.user,session:p},error:null}}catch(a){if(at(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async a=>{var d;if(!s){const{data:v,error:E}=a;if(E)throw E;s=(d=v.session)!==null&&d!==void 0?d:void 0}if(!(s!=null&&s.refresh_token))throw new ls;const{session:m,error:p}=await this._callRefreshToken(s.refresh_token);return p?{data:{user:null,session:null},error:p}:m?{data:{user:m.user,session:m},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(at(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(s,a){try{if(!Zr())throw new gc("No browser detected.");if(s.error||s.error_description||s.error_code)throw new gc(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new P0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gc("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new P0("No code detected.");const{data:K,error:V}=await this._exchangeCodeForSession(s.code);if(V)throw V;const ie=new URL(window.location.href);return ie.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ie.toString()),{data:{session:K.session,redirectType:null},error:null}}const{provider_token:d,provider_refresh_token:m,access_token:p,refresh_token:v,expires_in:E,expires_at:N,token_type:w}=s;if(!p||!E||!v||!w)throw new gc("No session defined in URL");const A=Math.round(Date.now()/1e3),I=parseInt(E);let D=A+I;N&&(D=parseInt(N));const B=D-A;B*1e3<=Ua&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${B}s, should have been closer to ${I}s`);const P=D-I;A-P>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",P,D,A):A-P<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",P,D,A);const{data:R,error:F}=await this._getUser(p);if(F)throw F;const J={provider_token:d,provider_refresh_token:m,access_token:p,expires_in:I,expires_at:D,refresh_token:v,token_type:w,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:J,redirectType:s.type},error:null}}catch(d){if(at(d))return{data:{session:null,redirectType:null},error:d};throw d}}_isImplicitGrantCallback(s){return!!(s.access_token||s.error_description)}async _isPKCECallback(s){const a=await qs(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&a)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async a=>{var d;const{data:m,error:p}=a;if(p)return{error:p};const v=(d=m.session)===null||d===void 0?void 0:d.access_token;if(v){const{error:E}=await this.admin.signOut(v,s);if(E&&!(qx(E)&&(E.status===404||E.status===401||E.status===403)))return{error:E}}return s!=="others"&&(await this._removeSession(),await as(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(s){const a=ry(),d={id:a,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,d),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:d}}}async _emitInitialSession(s){return await this._useSession(async a=>{var d,m;try{const{data:{session:p},error:v}=a;if(v)throw v;await((d=this.stateChangeEmitters.get(s))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",p)),this._debug("INITIAL_SESSION","callback id",s,"session",p)}catch(p){await((m=this.stateChangeEmitters.get(s))===null||m===void 0?void 0:m.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",p),console.error(p)}})}async resetPasswordForEmail(s,a={}){let d=null,m=null;this.flowType==="pkce"&&([d,m]=await Ra(this.storage,this.storageKey,!0));try{return await pt(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:d,code_challenge_method:m,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(p){if(at(p))return{data:null,error:p};throw p}}async getUserIdentities(){var s;try{const{data:a,error:d}=await this.getUser();if(d)throw d;return{data:{identities:(s=a.user.identities)!==null&&s!==void 0?s:[]},error:null}}catch(a){if(at(a))return{data:null,error:a};throw a}}async linkIdentity(s){var a;try{const{data:d,error:m}=await this._useSession(async p=>{var v,E,N,w,A;const{data:I,error:D}=p;if(D)throw D;const B=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(v=s.options)===null||v===void 0?void 0:v.redirectTo,scopes:(E=s.options)===null||E===void 0?void 0:E.scopes,queryParams:(N=s.options)===null||N===void 0?void 0:N.queryParams,skipBrowserRedirect:!0});return await pt(this.fetch,"GET",B,{headers:this.headers,jwt:(A=(w=I.session)===null||w===void 0?void 0:w.access_token)!==null&&A!==void 0?A:void 0})});if(m)throw m;return Zr()&&!(!((a=s.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(d==null?void 0:d.url),{data:{provider:s.provider,url:d==null?void 0:d.url},error:null}}catch(d){if(at(d))return{data:{provider:s.provider,url:null},error:d};throw d}}async unlinkIdentity(s){try{return await this._useSession(async a=>{var d,m;const{data:p,error:v}=a;if(v)throw v;return await pt(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(m=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&m!==void 0?m:void 0})})}catch(a){if(at(a))return{data:null,error:a};throw a}}async _refreshAccessToken(s){const a=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(a,"begin");try{const d=Date.now();return await oy(async m=>(m>0&&await ay(200*Math.pow(2,m-1)),this._debug(a,"refreshing attempt",m),await pt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:Ti})),(m,p)=>{const v=200*Math.pow(2,m);return p&&md(p)&&Date.now()+v-d<Ua})}catch(d){if(this._debug(a,"error",d),at(d))return{data:{session:null,user:null},error:d};throw d}finally{this._debug(a,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,a){const d=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",a,"url",d),Zr()&&!a.skipBrowserRedirect&&window.location.assign(d),{data:{provider:s,url:d},error:null}}async _recoverAndRefresh(){var s,a;const d="#_recoverAndRefresh()";this._debug(d,"begin");try{const m=await qs(this.storage,this.storageKey);if(m&&this.userStorage){let v=await qs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!v&&(v={user:m.user},await za(this.userStorage,this.storageKey+"-user",v)),m.user=(s=v==null?void 0:v.user)!==null&&s!==void 0?s:xd()}else if(m&&!m.user&&!m.user){const v=await qs(this.storage,this.storageKey+"-user");v&&(v!=null&&v.user)?(m.user=v.user,await as(this.storage,this.storageKey+"-user"),await za(this.storage,this.storageKey,m)):m.user=xd()}if(this._debug(d,"session from storage",m),!this._isValidSession(m)){this._debug(d,"session is not valid"),m!==null&&await this._removeSession();return}const p=((a=m.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<pd;if(this._debug(d,`session has${p?"":" not"} expired with margin of ${pd}s`),p){if(this.autoRefreshToken&&m.refresh_token){const{error:v}=await this._callRefreshToken(m.refresh_token);v&&(console.error(v),md(v)||(this._debug(d,"refresh failed with a non-retryable error, removing the session",v),await this._removeSession()))}}else if(m.user&&m.user.__isUserNotAvailableProxy===!0)try{const{data:v,error:E}=await this._getUser(m.access_token);!E&&(v!=null&&v.user)?(m.user=v.user,await this._saveSession(m),await this._notifyAllSubscribers("SIGNED_IN",m)):this._debug(d,"could not get user data, skipping SIGNED_IN notification")}catch(v){console.error("Error getting user data:",v),this._debug(d,"error getting user data, skipping SIGNED_IN notification",v)}else await this._notifyAllSubscribers("SIGNED_IN",m)}catch(m){this._debug(d,"error",m),console.error(m);return}finally{this._debug(d,"end")}}async _callRefreshToken(s){var a,d;if(!s)throw new ls;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const m=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(m,"begin");try{this.refreshingDeferred=new Lc;const{data:p,error:v}=await this._refreshAccessToken(s);if(v)throw v;if(!p.session)throw new ls;await this._saveSession(p.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",p.session);const E={session:p.session,error:null};return this.refreshingDeferred.resolve(E),E}catch(p){if(this._debug(m,"error",p),at(p)){const v={session:null,error:p};return md(p)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(v),v}throw(d=this.refreshingDeferred)===null||d===void 0||d.reject(p),p}finally{this.refreshingDeferred=null,this._debug(m,"end")}}async _notifyAllSubscribers(s,a,d=!0){const m=`#_notifyAllSubscribers(${s})`;this._debug(m,"begin",a,`broadcast = ${d}`);try{this.broadcastChannel&&d&&this.broadcastChannel.postMessage({event:s,session:a});const p=[],v=Array.from(this.stateChangeEmitters.values()).map(async E=>{try{await E.callback(s,a)}catch(N){p.push(N)}});if(await Promise.all(v),p.length>0){for(let E=0;E<p.length;E+=1)console.error(p[E]);throw p[0]}}finally{this._debug(m,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0;const a=Object.assign({},s),d=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!d&&a.user&&await za(this.userStorage,this.storageKey+"-user",{user:a.user});const m=Object.assign({},a);delete m.user;const p=z0(m);await za(this.storage,this.storageKey,p)}else{const m=z0(a);await za(this.storage,this.storageKey,m)}}async _removeSession(){this._debug("#_removeSession()"),await as(this.storage,this.storageKey),await as(this.storage,this.storageKey+"-code-verifier"),await as(this.storage,this.storageKey+"-user"),this.userStorage&&await as(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&Zr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",s)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),Ua);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async a=>{const{data:{session:d}}=a;if(!d||!d.refresh_token||!d.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const m=Math.floor((d.expires_at*1e3-s)/Ua);this._debug("#_autoRefreshTokenTick()",`access token expires in ${m} ticks, a tick lasts ${Ua}ms, refresh threshold is ${Od} ticks`),m<=Od&&await this._callRefreshToken(d.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof i1)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Zr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const a=`#_onVisibilityChanged(${s})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,a,d){const m=[`provider=${encodeURIComponent(a)}`];if(d!=null&&d.redirectTo&&m.push(`redirect_to=${encodeURIComponent(d.redirectTo)}`),d!=null&&d.scopes&&m.push(`scopes=${encodeURIComponent(d.scopes)}`),this.flowType==="pkce"){const[p,v]=await Ra(this.storage,this.storageKey),E=new URLSearchParams({code_challenge:`${encodeURIComponent(p)}`,code_challenge_method:`${encodeURIComponent(v)}`});m.push(E.toString())}if(d!=null&&d.queryParams){const p=new URLSearchParams(d.queryParams);m.push(p.toString())}return d!=null&&d.skipBrowserRedirect&&m.push(`skip_http_redirect=${d.skipBrowserRedirect}`),`${s}?${m.join("&")}`}async _unenroll(s){try{return await this._useSession(async a=>{var d;const{data:m,error:p}=a;return p?{data:null,error:p}:await pt(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(d=m==null?void 0:m.session)===null||d===void 0?void 0:d.access_token})})}catch(a){if(at(a))return{data:null,error:a};throw a}}async _enroll(s){try{return await this._useSession(async a=>{var d,m;const{data:p,error:v}=a;if(v)return{data:null,error:v};const E=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:{issuer:s.issuer}),{data:N,error:w}=await pt(this.fetch,"POST",`${this.url}/factors`,{body:E,headers:this.headers,jwt:(d=p==null?void 0:p.session)===null||d===void 0?void 0:d.access_token});return w?{data:null,error:w}:(s.factorType==="totp"&&(!((m=N==null?void 0:N.totp)===null||m===void 0)&&m.qr_code)&&(N.totp.qr_code=`data:image/svg+xml;utf-8,${N.totp.qr_code}`),{data:N,error:null})})}catch(a){if(at(a))return{data:null,error:a};throw a}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var d;const{data:m,error:p}=a;if(p)return{data:null,error:p};const{data:v,error:E}=await pt(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:{code:s.code,challenge_id:s.challengeId},headers:this.headers,jwt:(d=m==null?void 0:m.session)===null||d===void 0?void 0:d.access_token});return E?{data:null,error:E}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+v.expires_in},v)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",v),{data:v,error:E})})}catch(a){if(at(a))return{data:null,error:a};throw a}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var d;const{data:m,error:p}=a;return p?{data:null,error:p}:await pt(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:{channel:s.channel},headers:this.headers,jwt:(d=m==null?void 0:m.session)===null||d===void 0?void 0:d.access_token})})}catch(a){if(at(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(s){const{data:a,error:d}=await this._challenge({factorId:s.factorId});return d?{data:null,error:d}:await this._verify({factorId:s.factorId,challengeId:a.id,code:s.code})}async _listFactors(){const{data:{user:s},error:a}=await this.getUser();if(a)return{data:null,error:a};const d=(s==null?void 0:s.factors)||[],m=d.filter(v=>v.factor_type==="totp"&&v.status==="verified"),p=d.filter(v=>v.factor_type==="phone"&&v.status==="verified");return{data:{all:d,totp:m,phone:p},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async s=>{var a,d;const{data:{session:m},error:p}=s;if(p)return{data:null,error:p};if(!m)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:v}=gd(m.access_token);let E=null;v.aal&&(E=v.aal);let N=E;((d=(a=m.user.factors)===null||a===void 0?void 0:a.filter(I=>I.status==="verified"))!==null&&d!==void 0?d:[]).length>0&&(N="aal2");const A=v.amr||[];return{data:{currentLevel:E,nextLevel:N,currentAuthenticationMethods:A},error:null}}))}async fetchJwk(s,a={keys:[]}){let d=a.keys.find(E=>E.kid===s);if(d)return d;const m=Date.now();if(d=this.jwks.keys.find(E=>E.kid===s),d&&this.jwks_cached_at+Vx>m)return d;const{data:p,error:v}=await pt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(v)throw v;return!p.keys||p.keys.length===0||(this.jwks=p,this.jwks_cached_at=m,d=p.keys.find(E=>E.kid===s),!d)?null:d}async getClaims(s,a={}){try{let d=s;if(!d){const{data:B,error:P}=await this.getSession();if(P||!B.session)return{data:null,error:P};d=B.session.access_token}const{header:m,payload:p,signature:v,raw:{header:E,payload:N}}=gd(d);a!=null&&a.allowExpired||py(p.exp);const w=!m.alg||m.alg.startsWith("HS")||!m.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(m.kid,a!=null&&a.keys?{keys:a.keys}:a==null?void 0:a.jwks);if(!w){const{error:B}=await this.getUser(d);if(B)throw B;return{data:{claims:p,header:m,signature:v},error:null}}const A=my(m.alg),I=await crypto.subtle.importKey("jwk",w,A,!0,["verify"]);if(!await crypto.subtle.verify(A,I,v,ey(`${E}.${N}`)))throw new Rd("Invalid JWT signature");return{data:{claims:p,header:m,signature:v},error:null}}catch(d){if(at(d))return{data:null,error:d};throw d}}}Qo.nextInstanceID=0;const jy=Qo;class Oy extends jy{constructor(s){super(s)}}var Dy=function(o,s,a,d){function m(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function E(A){try{w(d.next(A))}catch(I){v(I)}}function N(A){try{w(d.throw(A))}catch(I){v(I)}}function w(A){A.done?p(A.value):m(A.value).then(E,N)}w((d=d.apply(o,s||[])).next())})};class My{constructor(s,a,d){var m,p,v;if(this.supabaseUrl=s,this.supabaseKey=a,!s)throw new Error("supabaseUrl is required.");if(!a)throw new Error("supabaseKey is required.");const E=Bx(s),N=new URL(E);this.realtimeUrl=new URL("realtime/v1",N),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",N),this.storageUrl=new URL("storage/v1",N),this.functionsUrl=new URL("functions/v1",N);const w=`sb-${N.hostname.split(".")[0]}-auth-token`,A={db:kx,realtime:Ox,auth:Object.assign(Object.assign({},jx),{storageKey:w}),global:Tx},I=Fx(d??{},A);this.storageKey=(m=I.auth.storageKey)!==null&&m!==void 0?m:"",this.headers=(p=I.global.headers)!==null&&p!==void 0?p:{},I.accessToken?(this.accessToken=I.accessToken,this.auth=new Proxy({},{get:(D,B)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(B)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((v=I.auth)!==null&&v!==void 0?v:{},this.headers,I.global.fetch),this.fetch=Px(a,this._getAccessToken.bind(this),I.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},I.realtime)),this.rest=new Zg(new URL("rest/v1",N).href,{headers:this.headers,schema:I.db.schema,fetch:this.fetch}),I.accessToken||this._listenForAuthEvents()}get functions(){return new Ug(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ax(this.storageUrl.href,this.headers,this.fetch)}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,a={},d={}){return this.rest.rpc(s,a,d)}channel(s,a={config:{}}){return this.realtime.channel(s,a)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var s,a;return Dy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:d}=yield this.auth.getSession();return(a=(s=d.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:null})}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:a,detectSessionInUrl:d,storage:m,storageKey:p,flowType:v,lock:E,debug:N},w,A){const I={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Oy({url:this.authUrl.href,headers:Object.assign(Object.assign({},I),w),storageKey:p,autoRefreshToken:s,persistSession:a,detectSessionInUrl:d,storage:m,flowType:v,lock:E,debug:N,fetch:A,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(s){return new fx(this.realtimeUrl.href,Object.assign(Object.assign({},s),{params:Object.assign({apikey:this.supabaseKey},s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,d)=>{this._handleTokenChanged(a,"CLIENT",d==null?void 0:d.access_token)})}_handleTokenChanged(s,a,d){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==d?this.changedAccessToken=d:s==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ry=(o,s,a)=>new My(o,s,a),Py="https://yddnvrvlgzoqjuazryht.supabase.co",Ly="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlkZG52cnZsZ3pvcWp1YXpyeWh0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMwOTQyODYsImV4cCI6MjA2ODY3MDI4Nn0.YJq43VnHrb5vRtxpH_4a7nWI_ufMsW7WRUSBhWoqnIM",ot=Ry(Py,Ly);let By={data:""},Fy=o=>typeof window=="object"?((o?o.querySelector("#_goober"):window._goober)||Object.assign((o||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:o||By,Uy=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,zy=/\/\*[^]*?\*\/|  +/g,q0=/\n+/g,ds=(o,s)=>{let a="",d="",m="";for(let p in o){let v=o[p];p[0]=="@"?p[1]=="i"?a=p+" "+v+";":d+=p[1]=="f"?ds(v,p):p+"{"+ds(v,p[1]=="k"?"":s)+"}":typeof v=="object"?d+=ds(v,s?s.replace(/([^,])+/g,E=>p.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,N=>/&/.test(N)?N.replace(/&/g,E):E?E+" "+N:N)):p):v!=null&&(p=/^--/.test(p)?p:p.replace(/[A-Z]/g,"-$&").toLowerCase(),m+=ds.p?ds.p(p,v):p+":"+v+";")}return a+(s&&m?s+"{"+m+"}":m)+d},Ii={},s1=o=>{if(typeof o=="object"){let s="";for(let a in o)s+=a+s1(o[a]);return s}return o},Hy=(o,s,a,d,m)=>{let p=s1(o),v=Ii[p]||(Ii[p]=(N=>{let w=0,A=11;for(;w<N.length;)A=101*A+N.charCodeAt(w++)>>>0;return"go"+A})(p));if(!Ii[v]){let N=p!==o?o:(w=>{let A,I,D=[{}];for(;A=Uy.exec(w.replace(zy,""));)A[4]?D.shift():A[3]?(I=A[3].replace(q0," ").trim(),D.unshift(D[0][I]=D[0][I]||{})):D[0][A[1]]=A[2].replace(q0," ").trim();return D[0]})(o);Ii[v]=ds(m?{["@keyframes "+v]:N}:N,a?"":"."+v)}let E=a&&Ii.g?Ii.g:null;return a&&(Ii.g=Ii[v]),((N,w,A,I)=>{I?w.data=w.data.replace(I,N):w.data.indexOf(N)===-1&&(w.data=A?N+w.data:w.data+N)})(Ii[v],s,d,E),v},Wy=(o,s,a)=>o.reduce((d,m,p)=>{let v=s[p];if(v&&v.call){let E=v(a),N=E&&E.props&&E.props.className||/^go/.test(E)&&E;v=N?"."+N:E&&typeof E=="object"?E.props?"":ds(E,""):E===!1?"":E}return d+m+(v??"")},"");function Bc(o){let s=this||{},a=o.call?o(s.p):o;return Hy(a.unshift?a.raw?Wy(a,[].slice.call(arguments,1),s.p):a.reduce((d,m)=>Object.assign(d,m&&m.call?m(s.p):m),{}):a,Fy(s.target),s.g,s.o,s.k)}let a1,Pd,Ld;Bc.bind({g:1});let Mi=Bc.bind({k:1});function Vy(o,s,a,d){ds.p=s,a1=o,Pd=a,Ld=d}function ys(o,s){let a=this||{};return function(){let d=arguments;function m(p,v){let E=Object.assign({},p),N=E.className||m.className;a.p=Object.assign({theme:Pd&&Pd()},E),a.o=/ *go\d+/.test(N),E.className=Bc.apply(a,d)+(N?" "+N:"");let w=o;return o[0]&&(w=E.as||o,delete E.as),Ld&&w[0]&&Ld(E),a1(w,E)}return m}}var Gy=o=>typeof o=="function",Ac=(o,s)=>Gy(o)?o(s):o,qy=(()=>{let o=0;return()=>(++o).toString()})(),o1=(()=>{let o;return()=>{if(o===void 0&&typeof window<"u"){let s=matchMedia("(prefers-reduced-motion: reduce)");o=!s||s.matches}return o}})(),Yy=20,l1=(o,s)=>{switch(s.type){case 0:return{...o,toasts:[s.toast,...o.toasts].slice(0,Yy)};case 1:return{...o,toasts:o.toasts.map(p=>p.id===s.toast.id?{...p,...s.toast}:p)};case 2:let{toast:a}=s;return l1(o,{type:o.toasts.find(p=>p.id===a.id)?1:0,toast:a});case 3:let{toastId:d}=s;return{...o,toasts:o.toasts.map(p=>p.id===d||d===void 0?{...p,dismissed:!0,visible:!1}:p)};case 4:return s.toastId===void 0?{...o,toasts:[]}:{...o,toasts:o.toasts.filter(p=>p.id!==s.toastId)};case 5:return{...o,pausedAt:s.time};case 6:let m=s.time-(o.pausedAt||0);return{...o,pausedAt:void 0,toasts:o.toasts.map(p=>({...p,pauseDuration:p.pauseDuration+m}))}}},wc=[],Ks={toasts:[],pausedAt:void 0},ea=o=>{Ks=l1(Ks,o),wc.forEach(s=>{s(Ks)})},Xy={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},$y=(o={})=>{let[s,a]=z.useState(Ks),d=z.useRef(Ks);z.useEffect(()=>(d.current!==Ks&&a(Ks),wc.push(a),()=>{let p=wc.indexOf(a);p>-1&&wc.splice(p,1)}),[]);let m=s.toasts.map(p=>{var v,E,N;return{...o,...o[p.type],...p,removeDelay:p.removeDelay||((v=o[p.type])==null?void 0:v.removeDelay)||(o==null?void 0:o.removeDelay),duration:p.duration||((E=o[p.type])==null?void 0:E.duration)||(o==null?void 0:o.duration)||Xy[p.type],style:{...o.style,...(N=o[p.type])==null?void 0:N.style,...p.style}}});return{...s,toasts:m}},Ky=(o,s="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:s,ariaProps:{role:"status","aria-live":"polite"},message:o,pauseDuration:0,...a,id:(a==null?void 0:a.id)||qy()}),rl=o=>(s,a)=>{let d=Ky(s,o,a);return ea({type:2,toast:d}),d.id},er=(o,s)=>rl("blank")(o,s);er.error=rl("error");er.success=rl("success");er.loading=rl("loading");er.custom=rl("custom");er.dismiss=o=>{ea({type:3,toastId:o})};er.remove=o=>ea({type:4,toastId:o});er.promise=(o,s,a)=>{let d=er.loading(s.loading,{...a,...a==null?void 0:a.loading});return typeof o=="function"&&(o=o()),o.then(m=>{let p=s.success?Ac(s.success,m):void 0;return p?er.success(p,{id:d,...a,...a==null?void 0:a.success}):er.dismiss(d),m}).catch(m=>{let p=s.error?Ac(s.error,m):void 0;p?er.error(p,{id:d,...a,...a==null?void 0:a.error}):er.dismiss(d)}),o};var Qy=(o,s)=>{ea({type:1,toast:{id:o,height:s}})},Zy=()=>{ea({type:5,time:Date.now()})},Yo=new Map,Jy=1e3,e2=(o,s=Jy)=>{if(Yo.has(o))return;let a=setTimeout(()=>{Yo.delete(o),ea({type:4,toastId:o})},s);Yo.set(o,a)},t2=o=>{let{toasts:s,pausedAt:a}=$y(o);z.useEffect(()=>{if(a)return;let p=Date.now(),v=s.map(E=>{if(E.duration===1/0)return;let N=(E.duration||0)+E.pauseDuration-(p-E.createdAt);if(N<0){E.visible&&er.dismiss(E.id);return}return setTimeout(()=>er.dismiss(E.id),N)});return()=>{v.forEach(E=>E&&clearTimeout(E))}},[s,a]);let d=z.useCallback(()=>{a&&ea({type:6,time:Date.now()})},[a]),m=z.useCallback((p,v)=>{let{reverseOrder:E=!1,gutter:N=8,defaultPosition:w}=v||{},A=s.filter(B=>(B.position||w)===(p.position||w)&&B.height),I=A.findIndex(B=>B.id===p.id),D=A.filter((B,P)=>P<I&&B.visible).length;return A.filter(B=>B.visible).slice(...E?[D+1]:[0,D]).reduce((B,P)=>B+(P.height||0)+N,0)},[s]);return z.useEffect(()=>{s.forEach(p=>{if(p.dismissed)e2(p.id,p.removeDelay);else{let v=Yo.get(p.id);v&&(clearTimeout(v),Yo.delete(p.id))}})},[s]),{toasts:s,handlers:{updateHeight:Qy,startPause:Zy,endPause:d,calculateOffset:m}}},n2=Mi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,r2=Mi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,i2=Mi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,s2=ys("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${o=>o.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${n2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${r2} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${o=>o.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${i2} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,a2=Mi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,o2=ys("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${o=>o.secondary||"#e0e0e0"};
  border-right-color: ${o=>o.primary||"#616161"};
  animation: ${a2} 1s linear infinite;
`,l2=Mi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,c2=Mi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,u2=ys("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${o=>o.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${l2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${c2} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${o=>o.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,d2=ys("div")`
  position: absolute;
`,h2=ys("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,f2=Mi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,p2=ys("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${f2} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,m2=({toast:o})=>{let{icon:s,type:a,iconTheme:d}=o;return s!==void 0?typeof s=="string"?z.createElement(p2,null,s):s:a==="blank"?null:z.createElement(h2,null,z.createElement(o2,{...d}),a!=="loading"&&z.createElement(d2,null,a==="error"?z.createElement(s2,{...d}):z.createElement(u2,{...d})))},g2=o=>`
0% {transform: translate3d(0,${o*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,x2=o=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${o*-150}%,-1px) scale(.6); opacity:0;}
`,y2="0%{opacity:0;} 100%{opacity:1;}",v2="0%{opacity:1;} 100%{opacity:0;}",w2=ys("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,b2=ys("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,C2=(o,s)=>{let a=o.includes("top")?1:-1,[d,m]=o1()?[y2,v2]:[g2(a),x2(a)];return{animation:s?`${Mi(d)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Mi(m)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},E2=z.memo(({toast:o,position:s,style:a,children:d})=>{let m=o.height?C2(o.position||s||"top-center",o.visible):{opacity:0},p=z.createElement(m2,{toast:o}),v=z.createElement(b2,{...o.ariaProps},Ac(o.message,o));return z.createElement(w2,{className:o.className,style:{...m,...a,...o.style}},typeof d=="function"?d({icon:p,message:v}):z.createElement(z.Fragment,null,p,v))});Vy(z.createElement);var N2=({id:o,className:s,style:a,onHeightUpdate:d,children:m})=>{let p=z.useCallback(v=>{if(v){let E=()=>{let N=v.getBoundingClientRect().height;d(o,N)};E(),new MutationObserver(E).observe(v,{subtree:!0,childList:!0,characterData:!0})}},[o,d]);return z.createElement("div",{ref:p,className:s,style:a},m)},S2=(o,s)=>{let a=o.includes("top"),d=a?{top:0}:{bottom:0},m=o.includes("center")?{justifyContent:"center"}:o.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:o1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${s*(a?1:-1)}px)`,...d,...m}},A2=Bc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,xc=16,_2=({reverseOrder:o,position:s="top-center",toastOptions:a,gutter:d,children:m,containerStyle:p,containerClassName:v})=>{let{toasts:E,handlers:N}=t2(a);return z.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:xc,left:xc,right:xc,bottom:xc,pointerEvents:"none",...p},className:v,onMouseEnter:N.startPause,onMouseLeave:N.endPause},E.map(w=>{let A=w.position||s,I=N.calculateOffset(w,{reverseOrder:o,gutter:d,defaultPosition:s}),D=S2(A,I);return z.createElement(N2,{id:w.id,key:w.id,onHeightUpdate:N.updateHeight,className:w.visible?A2:"",style:D},w.type==="custom"?Ac(w.message,w):m?m(w):z.createElement(E2,{toast:w,position:A}))}))},Pe=er;const c1=z.createContext(void 0);function I2({children:o}){const[s,a]=z.useState(null),[d,m]=z.useState(null),[p,v]=z.useState(!0),[E,N]=z.useState(!1),[w,A]=z.useState(!1),[I,D]=z.useState(!1),[B,P]=z.useState(!1),[R,F]=z.useState(null),J=z.useCallback(async()=>{try{const{data:{session:W},error:$}=await ot.auth.getSession();if($)throw $;m(W),a((W==null?void 0:W.user)??null),W!=null&&W.user&&await Promise.all([K(W.user.email),V(W.user.id)])}catch(W){console.error("Error refreshing session:",W)}},[]);z.useEffect(()=>{let W=!0;async function $(){try{v(!0);const{data:{session:he},error:ce}=await ot.auth.getSession();if(ce){console.error("Error getting initial session:",ce);return}W&&(m(he),a((he==null?void 0:he.user)??null),he!=null&&he.user&&await Promise.all([K(he.user.email),V(he.user.id)]))}catch(he){console.error("Error initializing auth:",he)}finally{W&&v(!1)}}$();const{data:{subscription:Se}}=ot.auth.onAuthStateChange(async(he,ce)=>{var _e;console.log("Auth state change:",he,(_e=ce==null?void 0:ce.user)==null?void 0:_e.email),W&&(m(ce),a((ce==null?void 0:ce.user)??null),he==="SIGNED_IN"&&(ce!=null&&ce.user)?await Promise.all([K(ce.user.email),V(ce.user.id)]):he==="SIGNED_OUT"?(N(!1),A(!1),F(null)):he==="TOKEN_REFRESHED"&&console.log("Token refreshed successfully"))}),ke=setInterval(async()=>{const{data:{session:he}}=await ot.auth.getSession();he&&new Date(he.expires_at*1e3)<new Date&&await J()},3e4);return()=>{W=!1,Se.unsubscribe(),clearInterval(ke)}},[]);const K=async W=>{if(W){D(!0);try{const{data:$,error:Se}=await ot.from("staff_users").select("id, email, is_active, role").eq("email",W).eq("is_active",!0).maybeSingle();if(Se&&Se.code!=="PGRST116"){console.error("Error checking staff status:",Se),N(!1);return}const ke=!!$;N(ke),console.log("Staff status check:",{email:W,staffStatus:ke,data:$})}catch($){console.error("Error checking staff status:",$),N(!1)}finally{D(!1)}}},V=async W=>{var $,Se,ke;if(!W)return!1;P(!0);try{const{data:he,error:ce}=await ot.from("customer_accounts").select("*").eq("user_id",W).maybeSingle();if(ce&&ce.code!=="PGRST116")return console.error("Error checking customer status:",ce),A(!1),F(null),!1;if(he)return A(!0),F(he),!0;const{data:{user:_e}}=await ot.auth.getUser();if(!_e)return A(!1),F(null),!1;try{const{data:ee,error:Ze}=await ot.functions.invoke("manage-customer-account",{body:{action:"create_account",accountData:{fullName:(($=_e.user_metadata)==null?void 0:$.full_name)||((Se=_e.email)==null?void 0:Se.split("@")[0])||"Customer",phone:((ke=_e.user_metadata)==null?void 0:ke.phone)||"",whatsappNotifications:!0,emailNotifications:!0,smsNotifications:!1}}});if(Ze)return console.error("Error creating customer account:",Ze),A(!1),F(null),!1;if(ee!=null&&ee.data)return A(!0),F(ee.data),!0}catch(ee){console.error("Error in customer account creation:",ee)}return A(!1),F(null),!1}catch(he){return console.error("Error checking customer status:",he),A(!1),F(null),!1}finally{P(!1)}},H={user:s,loading:p,signIn:async(W,$)=>{try{const{error:Se,data:ke}=await ot.auth.signInWithPassword({email:W,password:$});if(Se){console.error("Sign in error:",Se);let he="Failed to sign in";switch(Se.message){case"Invalid login credentials":he="Invalid email or password";break;case"Email not confirmed":he="Please check your email to confirm your account";break;case"Too many requests":he="Too many login attempts. Please try again later";break;default:he=Se.message||"Failed to sign in"}return Pe.error(he),{success:!1,error:he}}return ke.user?(Pe.success("Welcome back!"),{success:!0}):{success:!1,error:"Unknown error occurred"}}catch(Se){console.error("Unexpected sign in error:",Se);const ke="An unexpected error occurred. Please try again.";return Pe.error(ke),{success:!1,error:ke}}},signUp:async(W,$,Se={})=>{try{const{error:ke,data:he}=await ot.auth.signUp({email:W,password:$,options:{data:{...Se,full_name:Se.fullName||W.split("@")[0],phone:Se.phone||""},emailRedirectTo:`${window.location.origin}/customer/login?message=Account created successfully. Please check your email to verify your account.`}});if(ke){console.error("Sign up error:",ke);let ce="Failed to create account";switch(ke.message){case"User already registered":ce="An account with this email already exists";break;case"Password should be at least 6 characters":ce="Password must be at least 6 characters";break;default:ce=ke.message||"Failed to create account"}return Pe.error(ce),{success:!1,error:ce}}return he.user?(he.session?Pe.success("Account created successfully!"):Pe.success("Account created! Please check your email to verify your account"),{success:!0}):{success:!1,error:"Unknown error occurred"}}catch(ke){console.error("Unexpected sign up error:",ke);const he="An unexpected error occurred. Please try again.";return Pe.error(he),{success:!1,error:he}}},signOut:async()=>{try{const{error:W}=await ot.auth.signOut();if(W)throw console.error("Sign out error:",W),Pe.error(W.message||"Failed to sign out"),W;a(null),m(null),N(!1),A(!1),F(null),Pe.success("Signed out successfully!")}catch(W){throw console.error("Error during sign out:",W),W}},isStaff:E,isCustomer:w,staffLoading:I,customerLoading:B,customerAccount:R,refreshSession:J};return c.jsx(c1.Provider,{value:H,children:o})}function fi(){const o=z.useContext(c1);if(o===void 0)throw new Error("useAuth must be used within an AuthProvider");return o}/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var T2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=(o,s)=>{const a=z.forwardRef(({color:d="currentColor",size:m=24,strokeWidth:p=2,absoluteStrokeWidth:v,className:E="",children:N,...w},A)=>z.createElement("svg",{ref:A,...T2,width:m,height:m,stroke:d,strokeWidth:v?Number(p)*24/Number(m):p,className:["lucide",`lucide-${k2(o)}`,E].join(" "),...w},[...s.map(([I,D])=>z.createElement(I,D)),...Array.isArray(N)?N:[N]]));return a.displayName=`${o}`,a};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=He("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=He("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=He("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=He("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=He("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=He("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=He("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=He("CameraOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=He("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=He("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=He("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=He("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=He("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=He("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=He("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=He("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=He("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=He("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=He("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=He("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=He("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=He("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=He("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=He("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=He("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=He("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=He("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=He("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=He("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=He("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=He("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=He("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=He("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=He("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=He("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=He("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=He("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=He("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=He("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=He("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=He("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=He("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=He("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=He("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=He("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=He("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=He("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=He("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=He("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=He("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=He("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=He("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=He("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=He("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=He("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=He("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=He("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function tv(){const[o,s]=z.useState(!1),a=zr(),{user:d,isStaff:m,isCustomer:p,signOut:v}=fi(),E=[{name:"Home",href:"/"},{name:"Track Package",href:"/tracking"},{name:"Services",href:"/services"},{name:"About",href:"/about"},{name:"Contact",href:"/contact"},{name:"FAQ",href:"/faq"}],N=w=>a.pathname===w;return c.jsxs("nav",{className:"bg-white shadow-lg sticky top-0 z-50",children:[c.jsx("div",{className:"bg-blue-900 text-white text-sm",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-10",children:[c.jsxs("div",{className:"flex items-center space-x-6",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Di,{className:"h-3 w-3"}),c.jsx("span",{children:"718-738-1490"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Oi,{className:"h-3 w-3"}),c.jsx("span",{children:"chrisdanenterprises@gmail.com"})]})]}),c.jsx("div",{className:"hidden md:block text-xs",children:"Mon-Fri 10am-6pm | Sat 10am-2pm | Sun & Holidays Closed"})]})})}),c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between h-16",children:[c.jsx("div",{className:"flex items-center",children:c.jsxs(Ke,{to:"/",className:"flex items-center space-x-2",children:[c.jsx(un,{className:"h-8 w-8 text-blue-600"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xl font-bold text-gray-900",children:"Chrisdan Enterprises"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Shipping to Caribbean & Central America"})]})]})}),c.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[E.map(w=>c.jsx(Ke,{to:w.href,className:`text-sm font-medium transition-colors duration-200 ${N(w.href)?"text-blue-600 border-b-2 border-blue-600":"text-gray-700 hover:text-blue-600"}`,children:w.name},w.name)),d?c.jsxs("div",{className:"flex items-center space-x-4",children:[m?c.jsx(Ke,{to:"/staff/dashboard",className:"bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition-colors",children:"Staff Dashboard"}):p?c.jsx(Ke,{to:"/customer/dashboard",className:"bg-green-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-green-700 transition-colors",children:"My Account"}):null,c.jsx("button",{onClick:v,className:"text-gray-700 hover:text-red-600 text-sm font-medium",children:"Sign Out"})]}):c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(Ke,{to:"/customer/login",className:"text-gray-700 hover:text-green-600 text-sm font-medium",children:"Customer Login"}),c.jsx(Ke,{to:"/staff/login",className:"text-gray-700 hover:text-blue-600 text-sm font-medium",children:"Staff Login"})]})]}),c.jsx("div",{className:"md:hidden flex items-center",children:c.jsx("button",{onClick:()=>s(!o),className:"text-gray-700 hover:text-blue-600 focus:outline-none focus:text-blue-600",children:o?c.jsx(Qa,{className:"h-6 w-6"}):c.jsx(G2,{className:"h-6 w-6"})})})]})}),o&&c.jsx("div",{className:"md:hidden",children:c.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white border-t",children:[E.map(w=>c.jsx(Ke,{to:w.href,className:`block px-3 py-2 text-base font-medium transition-colors duration-200 ${N(w.href)?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"}`,onClick:()=>s(!1),children:w.name},w.name)),d?c.jsxs("div",{className:"space-y-1 pt-2 border-t",children:[m?c.jsx(Ke,{to:"/staff/dashboard",className:"block px-3 py-2 text-base font-medium text-blue-600 hover:bg-blue-50",onClick:()=>s(!1),children:"Staff Dashboard"}):p?c.jsx(Ke,{to:"/customer/dashboard",className:"block px-3 py-2 text-base font-medium text-green-600 hover:bg-green-50",onClick:()=>s(!1),children:"My Account"}):null,c.jsx("button",{onClick:()=>{v(),s(!1)},className:"block w-full text-left px-3 py-2 text-base font-medium text-red-600 hover:bg-red-50",children:"Sign Out"})]}):c.jsxs("div",{className:"space-y-1 pt-2 border-t",children:[c.jsx(Ke,{to:"/customer/login",className:"block px-3 py-2 text-base font-medium text-gray-700 hover:text-green-600 hover:bg-gray-50",onClick:()=>s(!1),children:"Customer Login"}),c.jsx(Ke,{to:"/staff/login",className:"block px-3 py-2 text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50",onClick:()=>s(!1),children:"Staff Login"})]})]})})]})}function nv(){return c.jsx("footer",{className:"bg-gray-900 text-white",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(un,{className:"h-6 w-6 text-blue-400"}),c.jsx("div",{className:"text-lg font-bold",children:"Chrisdan Enterprises"})]}),c.jsx("p",{className:"text-gray-300 text-sm",children:"Your trusted partner for shipping barrels and boxes to the Caribbean and Central America. Professional, reliable, and affordable shipping services since years."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-blue-400",children:"Contact Us"}),c.jsxs("div",{className:"space-y-3 text-sm",children:[c.jsxs("div",{className:"flex items-start space-x-2",children:[c.jsx(Tr,{className:"h-4 w-4 mt-0.5 text-blue-400 flex-shrink-0"}),c.jsxs("span",{className:"text-gray-300",children:["142-49 Rockaway Blvd",c.jsx("br",{}),"Jamaica, NY 11436"]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Di,{className:"h-4 w-4 text-blue-400"}),c.jsx("span",{className:"text-gray-300",children:"718-738-1490"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Oi,{className:"h-4 w-4 text-blue-400"}),c.jsx("span",{className:"text-gray-300",children:"chrisdanenterprises@gmail.com"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-blue-400",children:"Business Hours"}),c.jsx("div",{className:"space-y-2 text-sm text-gray-300",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Xn,{className:"h-4 w-4 text-blue-400"}),c.jsxs("div",{children:[c.jsx("div",{children:"Mon-Fri: 10am-6pm"}),c.jsx("div",{children:"Saturday: 10am-2pm"}),c.jsx("div",{children:"Sunday & Holidays: Closed"})]})]})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-blue-400",children:"Quick Links"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsx(Ke,{to:"/tracking",className:"block text-gray-300 hover:text-blue-400 transition-colors",children:"Track Your Package"}),c.jsx(Ke,{to:"/services",className:"block text-gray-300 hover:text-blue-400 transition-colors",children:"Our Services"}),c.jsx(Ke,{to:"/about",className:"block text-gray-300 hover:text-blue-400 transition-colors",children:"About Us"}),c.jsx(Ke,{to:"/faq",className:"block text-gray-300 hover:text-blue-400 transition-colors",children:"FAQ"}),c.jsx(Ke,{to:"/contact",className:"block text-gray-300 hover:text-blue-400 transition-colors",children:"Contact"})]})]})]}),c.jsx("div",{className:"border-t border-gray-700 mt-8 pt-8",children:c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[c.jsx("div",{className:"text-gray-300 text-sm",children:"© 2025 Chrisdan Enterprises LLC. All rights reserved."}),c.jsx("div",{className:"text-gray-300 text-sm mt-2 md:mt-0",children:"Professional shipping services to Caribbean & Central America"})]})})]})})}function rv(){const o=[{icon:un,title:"Barrel & Box Shipping",description:"Send barrels and boxes safely to Caribbean and Central America",features:["Multiple sizes available","Secure packaging","Competitive rates"]},{icon:ti,title:"Package Tracking",description:"Track your shipments in real-time with detailed status updates",features:["Real-time updates","SMS notifications","Delivery confirmation"]},{icon:il,title:"Pickup & Delivery",description:"Convenient pickup and delivery services in NYC area",features:["Door-to-door service","Flexible scheduling","Professional handling"]},{icon:ih,title:"Frequent Shipper Program",description:"Special rates and benefits for regular customers",features:["Discounted rates","Priority handling","Mailbox service"]}],s=["Jamaica","Guyana","Trinidad & Tobago","Barbados","Suriname","French Guiana","Belize","Costa Rica","Panama","Nicaragua","Honduras","Guatemala"];return c.jsxs("div",{className:"min-h-screen",children:[c.jsxs("section",{className:"relative bg-gradient-to-r from-blue-900 to-blue-700 text-white",children:[c.jsx("div",{className:"absolute inset-0",children:c.jsx("img",{src:"/images/hero-shipping.svg",alt:"Shipping containers",className:"w-full h-full object-cover opacity-20"})}),c.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 lg:py-32",children:c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-5xl lg:text-6xl font-bold mb-6",children:["Ship to the",c.jsx("span",{className:"text-blue-300",children:" Caribbean"})," &",c.jsx("span",{className:"text-blue-300",children:" Central America"})]}),c.jsx("p",{className:"text-xl text-blue-100 leading-relaxed",children:"Professional barrel and box shipping services with real-time tracking. Your trusted partner for reliable, affordable shipping to your loved ones."})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[c.jsxs(Ke,{to:"/tracking",className:"bg-blue-500 hover:bg-blue-600 text-white px-8 py-4 rounded-lg font-semibold text-lg transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center space-x-2",children:[c.jsx(ti,{className:"h-5 w-5"}),c.jsx("span",{children:"Track Package"})]}),c.jsxs(Ke,{to:"/services",className:"border-2 border-white text-white hover:bg-white hover:text-blue-900 px-8 py-4 rounded-lg font-semibold text-lg transition-all duration-200 flex items-center justify-center space-x-2",children:[c.jsx("span",{children:"Our Services"}),c.jsx(Bd,{className:"h-5 w-5"})]})]}),c.jsxs("div",{className:"flex items-center space-x-8 text-sm",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(_r,{className:"h-5 w-5 text-green-400"}),c.jsx("span",{children:"Licensed & Insured"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Xn,{className:"h-5 w-5 text-blue-300"}),c.jsx("span",{children:"Fast Delivery"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ic,{className:"h-5 w-5 text-blue-300"}),c.jsx("span",{children:"Secure Handling"})]})]})]})})})]}),c.jsx("section",{className:"bg-white py-16",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Track Your Package"}),c.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Enter your tracking number below to get real-time updates on your shipment"})]}),c.jsx("div",{className:"max-w-md mx-auto",children:c.jsx("div",{className:"bg-gray-50 p-6 rounded-lg",children:c.jsxs("form",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"tracking",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tracking Number"}),c.jsx("input",{type:"text",id:"tracking",placeholder:"Enter your tracking number",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs(Ke,{to:"/tracking",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-lg font-semibold transition-colors flex items-center justify-center space-x-2",children:[c.jsx(ti,{className:"h-5 w-5"}),c.jsx("span",{children:"Track Package"})]})]})})})]})}),c.jsx("section",{className:"bg-gradient-to-r from-green-600 to-blue-600 text-white py-20",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Customer Portal"}),c.jsx("p",{className:"text-xl text-green-100 max-w-3xl mx-auto",children:"Create your account to access exclusive self-service features, manage your shipments, and save time"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[c.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-lg p-6 text-center",children:[c.jsx(Tc,{className:"h-12 w-12 mx-auto mb-4 text-green-300"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Account Management"}),c.jsx("p",{className:"text-green-100 text-sm",children:"Create and manage your shipping profile"})]}),c.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-lg p-6 text-center",children:[c.jsx(Qs,{className:"h-12 w-12 mx-auto mb-4 text-blue-300"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Service Booking"}),c.jsx("p",{className:"text-blue-100 text-sm",children:"Schedule pickup and delivery services online"})]}),c.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-lg p-6 text-center",children:[c.jsx(nh,{className:"h-12 w-12 mx-auto mb-4 text-green-300"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Document Upload"}),c.jsx("p",{className:"text-green-100 text-sm",children:"Upload customs forms and shipping documents"})]}),c.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-lg p-6 text-center",children:[c.jsx(Jo,{className:"h-12 w-12 mx-auto mb-4 text-blue-300"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Live Support"}),c.jsx("p",{className:"text-blue-100 text-sm",children:"Get instant help through live chat"})]})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"space-y-4 sm:space-y-0 sm:space-x-4 sm:flex sm:justify-center",children:[c.jsxs(Ke,{to:"/customer/register",className:"inline-flex items-center justify-center w-full sm:w-auto bg-green-500 hover:bg-green-600 text-white px-8 py-4 rounded-lg font-semibold text-lg transition-colors shadow-lg hover:shadow-xl",children:[c.jsx(Tc,{className:"h-5 w-5 mr-2"}),"Create Account"]}),c.jsx(Ke,{to:"/customer/login",className:"inline-flex items-center justify-center w-full sm:w-auto border-2 border-white text-white hover:bg-white hover:text-green-600 px-8 py-4 rounded-lg font-semibold text-lg transition-colors",children:"Customer Login"})]}),c.jsx("p",{className:"text-green-200 text-sm mt-4",children:"Join thousands of satisfied customers who enjoy our convenient self-service features"})]})]})}),c.jsx("section",{className:"bg-gray-50 py-20",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Our Services"}),c.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Comprehensive shipping solutions designed to meet all your Caribbean and Central America shipping needs"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:o.map((a,d)=>{const m=a.icon;return c.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg hover:shadow-xl transition-shadow duration-200",children:[c.jsx("div",{className:"text-blue-600 mb-4",children:c.jsx(m,{className:"h-12 w-12"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:a.title}),c.jsx("p",{className:"text-gray-600 mb-4",children:a.description}),c.jsx("ul",{className:"space-y-2",children:a.features.map((p,v)=>c.jsxs("li",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[c.jsx(_r,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),c.jsx("span",{children:p})]},v))})]},d)})})]})}),c.jsx("section",{className:"bg-white py-20",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"We Ship To"}),c.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Reliable shipping services to major destinations across the Caribbean and Central America"}),c.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.map((a,d)=>c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Tr,{className:"h-4 w-4 text-blue-600"}),c.jsx("span",{className:"text-gray-700",children:a})]},d))}),c.jsx("div",{className:"mt-8",children:c.jsxs(Ke,{to:"/services",className:"inline-flex items-center space-x-2 text-blue-600 hover:text-blue-700 font-semibold",children:[c.jsx("span",{children:"View all destinations"}),c.jsx(Bd,{className:"h-4 w-4"})]})})]}),c.jsx("div",{children:c.jsx("img",{src:"/images/caribbean-shipping.svg",alt:"Caribbean shipping map",className:"rounded-lg shadow-lg"})})]})})}),c.jsx("section",{className:"bg-blue-900 text-white py-20",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Why Choose Chrisdan Enterprises?"}),c.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto",children:"Years of experience, thousands of satisfied customers, and a commitment to excellence"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"bg-blue-800 rounded-full p-6 w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:c.jsx(ev,{className:"h-10 w-10 text-yellow-400"})}),c.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Trusted Experience"}),c.jsx("p",{className:"text-blue-100",children:"Years of reliable shipping services with thousands of successful deliveries to the Caribbean and Central America."})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"bg-blue-800 rounded-full p-6 w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:c.jsx(Xn,{className:"h-10 w-10 text-blue-300"})}),c.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Fast & Reliable"}),c.jsx("p",{className:"text-blue-100",children:"Quick processing times, regular shipping schedules, and reliable delivery to your destination."})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"bg-blue-800 rounded-full p-6 w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:c.jsx(Ic,{className:"h-10 w-10 text-green-400"})}),c.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Secure & Insured"}),c.jsx("p",{className:"text-blue-100",children:"Your packages are handled with care, fully insured, and tracked throughout the entire shipping process."})]})]})]})}),c.jsx("section",{className:"bg-gray-100 py-16",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Ready to Ship?"}),c.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Contact us today to get started with your shipment or visit our location in Jamaica, NY"}),c.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[c.jsx(Ke,{to:"/contact",className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-lg font-semibold text-lg transition-colors",children:"Get Quote"}),c.jsx(Ke,{to:"/tracking",className:"border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white px-8 py-4 rounded-lg font-semibold text-lg transition-colors",children:"Track Package"})]})]})})]})}function sn({size:o="md",className:s=""}){const a={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"};return c.jsx(z2,{className:`animate-spin ${a[o]} ${s}`})}function iv(){const[o,s]=z.useState(""),[a,d]=z.useState(null),[m,p]=z.useState(!1),[v,E]=z.useState(""),N=async D=>{if(D.preventDefault(),!o.trim()){Pe.error("Please enter a tracking number");return}p(!0),E(""),d(null);const B=setTimeout(()=>{p(!1),E("Request timed out. Please try again."),Pe.error("Request timed out. Please try again.")},15e3);try{const{data:P,error:R}=await ot.functions.invoke("track-shipment",{body:{trackingNumber:o.trim()}});if(clearTimeout(B),R)throw R;if(P!=null&&P.error)throw new Error(P.error.message);if(P!=null&&P.data)d(P.data),Pe.success("Tracking information found!");else throw new Error("No tracking data received")}catch(P){clearTimeout(B),console.error("Tracking error:",P);const R=P.message||"Failed to find tracking information";E(R),Pe.error(R)}finally{p(!1)}},w=D=>D?new Date(D).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",A=D=>{switch(D){case"delivered":return c.jsx(_r,{className:"h-6 w-6 text-green-500"});case"shipped":return c.jsx(il,{className:"h-6 w-6 text-blue-500"});case"processing":case"received":return c.jsx(un,{className:"h-6 w-6 text-yellow-500"});default:return c.jsx(Xn,{className:"h-6 w-6 text-gray-500"})}},I=D=>D>=100?"bg-green-500":D>=75?"bg-blue-500":D>=50?"bg-yellow-500":"bg-gray-400";return c.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Track Your Package"}),c.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Enter your tracking number to get real-time updates on your shipment to the Caribbean or Central America"})]}),c.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-8",children:c.jsxs("form",{onSubmit:N,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"tracking-number",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tracking Number"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",id:"tracking-number",value:o,onChange:D=>s(D.target.value),placeholder:"Enter your tracking number (e.g., CD123456789)",className:"w-full pl-12 pr-4 py-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg",disabled:m}),c.jsx(ti,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"})]})]}),c.jsxs("button",{type:"submit",disabled:m,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white py-4 px-6 rounded-lg font-semibold text-lg transition-colors flex items-center justify-center space-x-2",children:[m?c.jsx(sn,{size:"sm",className:"text-white"}):c.jsx(ti,{className:"h-5 w-5"}),c.jsx("span",{children:m?"Tracking...":"Track Package"})]})]})}),v&&c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-8",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(th,{className:"h-5 w-5 text-red-500"}),c.jsx("span",{className:"text-red-700 font-medium",children:"Tracking Error"})]}),c.jsx("p",{className:"text-red-600 mt-2",children:v})]}),a&&c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[A(a.shipment.status),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a.status_info.display}),c.jsx("p",{className:"text-gray-600",children:a.status_info.description})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Tracking Number"}),c.jsx("p",{className:"text-lg font-mono font-bold text-gray-900",children:a.shipment.tracking_number})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),c.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[a.status_info.progress,"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:c.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${I(a.status_info.progress)}`,style:{width:`${a.status_info.progress}%`}})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Customer"}),c.jsx("p",{className:"font-semibold text-gray-900",children:a.shipment.customer_name})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Destination"}),c.jsx("p",{className:"font-semibold text-gray-900",children:a.shipment.destination_country})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Package Type"}),c.jsx("p",{className:"font-semibold text-gray-900",children:a.shipment.package_type})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Service Type"}),c.jsx("p",{className:"font-semibold text-gray-900",children:a.shipment.service_type})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Estimated Delivery"}),c.jsx("p",{className:"font-semibold text-gray-900",children:w(a.shipment.estimated_delivery)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Last Updated"}),c.jsx("p",{className:"font-semibold text-gray-900",children:w(a.last_updated)})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[c.jsx(Xn,{className:"h-6 w-6 text-blue-600"}),c.jsx("span",{children:"Tracking History"})]}),a.tracking_events.length>0?c.jsx("div",{className:"space-y-6",children:a.tracking_events.map((D,B)=>c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsxs("div",{className:"flex-shrink-0",children:[c.jsx("div",{className:`w-4 h-4 rounded-full ${B===0?"bg-blue-600":"bg-gray-300"}`}),B<a.tracking_events.length-1&&c.jsx("div",{className:"w-0.5 h-12 bg-gray-200 ml-2 mt-2"})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:D.event_description}),c.jsx("p",{className:"text-sm text-gray-500",children:w(D.timestamp)})]}),D.location&&c.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[c.jsx(Tr,{className:"h-3 w-3 text-gray-400"}),c.jsx("p",{className:"text-sm text-gray-600",children:D.location})]}),D.notes&&c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:D.notes})]})]},D.id))}):c.jsx("p",{className:"text-gray-500 text-center py-8",children:"No tracking events available yet. Check back later for updates."})]}),c.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Need Help?"}),c.jsx("p",{className:"text-blue-800 mb-4",children:"If you have questions about your shipment, contact us:"}),c.jsxs("div",{className:"space-y-2 text-blue-800",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Phone:"})," 718-738-1490"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Email:"})," chrisdanenterprises@gmail.com"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Hours:"})," Mon-Fri 10am-6pm, Sat 10am-2pm"]})]})]})]}),!a&&!m&&c.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 text-center",children:[c.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Sample Tracking"}),c.jsx("p",{className:"text-blue-800 mb-4",children:"Don't have a tracking number? Contact us to get started with your shipment."}),c.jsx("div",{className:"space-y-2",children:c.jsxs("p",{className:"text-sm text-blue-700",children:[c.jsx("strong",{children:"Phone:"})," 718-738-1490 | ",c.jsx("strong",{children:"Email:"})," chrisdanenterprises@gmail.com"]})})]})]})})}function sv(){const o=[{icon:un,title:"Barrel Shipping",description:"Send large items safely in sturdy barrels to the Caribbean and Central America",features:["Multiple barrel sizes available","Secure packaging and handling","Competitive pricing per barrel","Insurance coverage available"],pricing:"Starting from $75/barrel",image:"/images/packages.svg"},{icon:D2,title:"Box Shipping",description:"Perfect for smaller items, documents, and fragile goods",features:["Various box sizes","Express and standard options","Fragile item handling","Door-to-door delivery"],pricing:"Starting from $25/box",image:"/images/warehouse.svg"},{icon:il,title:"Pickup & Delivery",description:"Convenient pickup from your location and delivery services",features:["Free pickup in NYC area","Scheduled pickup appointments","Professional handling","Real-time tracking"],pricing:"Free within 5 miles",image:"/images/team.svg"},{icon:ih,title:"Frequent Shipper Program",description:"Special rates and benefits for our regular customers",features:["Discounted shipping rates","Priority processing","Dedicated customer service","Mailbox rental service"],pricing:"Save up to 20%",image:"/images/barcode-scanning.svg"}],s=[{country:"Jamaica",transit:"7-10 days",popular:!0},{country:"Guyana",transit:"10-14 days",popular:!0},{country:"Trinidad & Tobago",transit:"8-12 days",popular:!0},{country:"Barbados",transit:"9-13 days",popular:!1},{country:"Suriname",transit:"12-16 days",popular:!1},{country:"French Guiana",transit:"14-18 days",popular:!1},{country:"Belize",transit:"11-15 days",popular:!0},{country:"Costa Rica",transit:"10-14 days",popular:!1},{country:"Panama",transit:"9-13 days",popular:!1},{country:"Nicaragua",transit:"12-16 days",popular:!1},{country:"Honduras",transit:"13-17 days",popular:!1},{country:"Guatemala",transit:"11-15 days",popular:!1}],a=[{icon:K2,title:"Shack-A-Barrel",description:"Our signature barrel packing service"},{icon:Tr,title:"UPS Access Point",description:"Convenient UPS package pickup and drop-off"},{icon:un,title:"Bounce Luggage Storage",description:"Temporary luggage storage services"},{icon:f1,title:"Affiliate Shopping",description:"Shopping assistance for Caribbean products"}];return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("section",{className:"bg-gradient-to-r from-blue-900 to-blue-700 text-white py-20",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("h1",{className:"text-5xl font-bold mb-6",children:["Our ",c.jsx("span",{className:"text-blue-300",children:"Shipping Services"})]}),c.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto mb-8",children:"Comprehensive shipping solutions to the Caribbean and Central America. Professional, reliable, and affordable services you can trust."}),c.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[c.jsx(Ke,{to:"/contact",className:"bg-blue-500 hover:bg-blue-600 text-white px-8 py-4 rounded-lg font-semibold text-lg transition-colors",children:"Get Quote"}),c.jsx(Ke,{to:"/tracking",className:"border-2 border-white text-white hover:bg-white hover:text-blue-900 px-8 py-4 rounded-lg font-semibold text-lg transition-colors",children:"Track Package"})]})]})})}),c.jsx("section",{className:"py-20",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Main Services"}),c.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Choose from our range of shipping options designed to meet your specific needs"})]}),c.jsx("div",{className:"space-y-16",children:o.map((d,m)=>{const p=d.icon,v=m%2===0;return c.jsxs("div",{className:`flex flex-col ${v?"lg:flex-row":"lg:flex-row-reverse"} items-center gap-12`,children:[c.jsx("div",{className:"lg:w-1/2",children:c.jsx("img",{src:d.image,alt:d.title,className:"w-full h-80 object-cover rounded-lg shadow-lg"})}),c.jsxs("div",{className:"lg:w-1/2 space-y-6",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:c.jsx(p,{className:"h-8 w-8 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-3xl font-bold text-gray-900",children:d.title}),c.jsx("p",{className:"text-lg text-blue-600 font-semibold",children:d.pricing})]})]}),c.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:d.description}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Features:"}),c.jsx("ul",{className:"space-y-2",children:d.features.map((E,N)=>c.jsxs("li",{className:"flex items-center space-x-3",children:[c.jsx(_r,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700",children:E})]},N))})]}),c.jsxs(Ke,{to:"/contact",className:"inline-flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors",children:[c.jsx("span",{children:"Get Quote"}),c.jsx(Bd,{className:"h-4 w-4"})]})]})]},m)})})]})}),c.jsx("section",{className:"bg-white py-20",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Shipping Destinations"}),c.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"We ship to major destinations across the Caribbean and Central America"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((d,m)=>c.jsxs("div",{className:`p-6 rounded-lg border-2 transition-all hover:shadow-lg ${d.popular?"border-blue-200 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Tr,{className:`h-5 w-5 ${d.popular?"text-blue-600":"text-gray-500"}`}),c.jsx("h3",{className:`text-lg font-semibold ${d.popular?"text-blue-900":"text-gray-900"}`,children:d.country})]}),d.popular&&c.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-full",children:"Popular"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Xn,{className:"h-4 w-4 text-gray-400"}),c.jsxs("span",{className:"text-gray-600",children:["Transit: ",d.transit]})]})]},m))})]})}),c.jsx("section",{className:"bg-gray-50 py-20",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Additional Services"}),c.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Extra services to make your shipping experience even more convenient"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:a.map((d,m)=>{const p=d.icon;return c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm hover:shadow-lg transition-shadow",children:[c.jsx("div",{className:"text-blue-600 mb-4",children:c.jsx(p,{className:"h-12 w-12"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:d.title}),c.jsx("p",{className:"text-gray-600",children:d.description})]},m)})})]})}),c.jsx("section",{className:"bg-blue-900 text-white py-20",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Why Choose Chrisdan Enterprises?"}),c.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto",children:"Experience the difference with our professional shipping services"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"bg-blue-800 rounded-full p-6 w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:c.jsx(Ic,{className:"h-10 w-10 text-blue-300"})}),c.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Secure & Insured"}),c.jsx("p",{className:"text-blue-100",children:"All packages are handled with care and fully insured for your peace of mind."})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"bg-blue-800 rounded-full p-6 w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:c.jsx(Xn,{className:"h-10 w-10 text-blue-300"})}),c.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Fast & Reliable"}),c.jsx("p",{className:"text-blue-100",children:"Quick processing times and reliable delivery schedules you can count on."})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"bg-blue-800 rounded-full p-6 w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:c.jsx(L2,{className:"h-10 w-10 text-blue-300"})}),c.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Competitive Rates"}),c.jsx("p",{className:"text-blue-100",children:"Affordable pricing with no hidden fees. Get the best value for your shipping needs."})]})]})]})}),c.jsx("section",{className:"bg-white py-16",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Ready to Ship?"}),c.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Contact us today for a quote or visit our location in Jamaica, NY to get started"}),c.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[c.jsx(Ke,{to:"/contact",className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-lg font-semibold text-lg transition-colors",children:"Get Quote Now"}),c.jsx(Ke,{to:"/about",className:"border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white px-8 py-4 rounded-lg font-semibold text-lg transition-colors",children:"Learn More"})]})]})})]})}function av(){const o=[{number:"10+",label:"Years of Experience"},{number:"50,000+",label:"Packages Shipped"},{number:"12",label:"Countries Served"},{number:"98%",label:"Customer Satisfaction"}],s=[{icon:un,title:"Reliability",description:"We ensure your packages reach their destination safely and on time, every time."},{icon:ih,title:"Customer Service",description:"Our dedicated team provides personalized service and support throughout your shipping journey."},{icon:f1,title:"Global Network",description:"Strong partnerships across the Caribbean and Central America for seamless delivery."},{icon:j2,title:"Excellence",description:"We strive for excellence in every aspect of our shipping and customer service."}];return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("section",{className:"bg-gradient-to-r from-blue-900 to-blue-700 text-white py-20",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("h1",{className:"text-5xl font-bold mb-6",children:["About ",c.jsx("span",{className:"text-blue-300",children:"Chrisdan Enterprises"})]}),c.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto",children:"Your trusted partner for reliable shipping services to the Caribbean and Central America. Building connections across borders since years."})]})})}),c.jsx("section",{className:"py-20",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-4xl font-bold text-gray-900",children:"Our Story"}),c.jsxs("div",{className:"space-y-4 text-lg text-gray-600 leading-relaxed",children:[c.jsx("p",{children:"Chrisdan Enterprises LLC was founded with a simple mission: to provide reliable, affordable shipping services that connect families and businesses across borders. Located in the heart of Jamaica, Queens, we understand the importance of staying connected with loved ones in the Caribbean and Central America."}),c.jsx("p",{children:"What started as a small family business has grown into a trusted shipping service that handles thousands of packages each year. Our success is built on the trust our customers place in us to deliver their precious cargo safely and on time."}),c.jsx("p",{children:"Today, we continue to expand our services while maintaining the personal touch and attention to detail that has made us a preferred choice for Caribbean and Central American shipping in the New York area."})]})]}),c.jsx("div",{children:c.jsx("img",{src:"/images/team.svg",alt:"Chrisdan Enterprises team",className:"w-full h-96 object-cover rounded-lg shadow-lg"})})]})})}),c.jsx("section",{className:"bg-blue-900 text-white py-16",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Our Impact"}),c.jsx("p",{className:"text-xl text-blue-100",children:"Building trust through consistent service and reliable delivery"})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:o.map((a,d)=>c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-4xl md:text-5xl font-bold text-blue-300 mb-2",children:a.number}),c.jsx("div",{className:"text-blue-100 font-medium",children:a.label})]},d))})]})}),c.jsx("section",{className:"py-20",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Our Values"}),c.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"The principles that guide our business and shape every interaction with our customers"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:s.map((a,d)=>{const m=a.icon;return c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"bg-blue-100 rounded-full p-6 w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:c.jsx(m,{className:"h-10 w-10 text-blue-600"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:a.title}),c.jsx("p",{className:"text-gray-600",children:a.description})]},d)})})]})}),c.jsx("section",{className:"bg-white py-20",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Visit Our Location"}),c.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Come visit us at our Jamaica, Queens location. Our friendly staff is ready to help you with all your shipping needs."})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx(Tr,{className:"h-6 w-6 text-blue-600 mt-1 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Address"}),c.jsxs("p",{className:"text-gray-600",children:["142-49 Rockaway Blvd",c.jsx("br",{}),"Jamaica, NY 11436"]})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx(Di,{className:"h-6 w-6 text-blue-600 mt-1 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Phone"}),c.jsx("p",{className:"text-gray-600",children:"718-738-1490"})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx(Oi,{className:"h-6 w-6 text-blue-600 mt-1 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Email"}),c.jsx("p",{className:"text-gray-600",children:"chrisdanenterprises@gmail.com"})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx(Xn,{className:"h-6 w-6 text-blue-600 mt-1 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Business Hours"}),c.jsxs("div",{className:"text-gray-600",children:[c.jsx("p",{children:"Monday - Friday: 10:00 AM - 6:00 PM"}),c.jsx("p",{children:"Saturday: 10:00 AM - 2:00 PM"}),c.jsx("p",{children:"Sunday & Holidays: Closed"})]})]})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[c.jsx(Ke,{to:"/contact",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold text-center transition-colors",children:"Get Directions"}),c.jsx(Ke,{to:"/services",className:"border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white px-6 py-3 rounded-lg font-semibold text-center transition-colors",children:"Our Services"})]})]}),c.jsx("div",{className:"bg-gray-200 rounded-lg h-96 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Tr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500 font-medium",children:"Interactive Map"}),c.jsx("p",{className:"text-gray-400 text-sm",children:"142-49 Rockaway Blvd, Jamaica, NY 11436"})]})})]})})}),c.jsx("section",{className:"bg-blue-50 py-20",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Our Mission"}),c.jsx("blockquote",{className:"text-2xl text-gray-700 font-medium italic max-w-4xl mx-auto leading-relaxed",children:'"To provide reliable, affordable, and professional shipping services that connect families, friends, and businesses across the Caribbean and Central America, while maintaining the highest standards of customer service and package security."'})]})}),c.jsx("section",{className:"bg-gray-100 py-16",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Experience the Difference"}),c.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Join thousands of satisfied customers who trust Chrisdan Enterprises with their shipping needs"}),c.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[c.jsx(Ke,{to:"/contact",className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-lg font-semibold text-lg transition-colors",children:"Get Started Today"}),c.jsx(Ke,{to:"/tracking",className:"border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white px-8 py-4 rounded-lg font-semibold text-lg transition-colors",children:"Track Your Package"})]})]})})]})}function ov(){const[o,s]=z.useState({name:"",email:"",phone:"",subject:"",message:"",service:""}),[a,d]=z.useState(!1),m=["Barrel Shipping","Box Shipping","Pickup & Delivery","Frequent Shipper Program","Package Tracking","Other"],p=E=>{s({...o,[E.target.name]:E.target.value})},v=async E=>{E.preventDefault(),d(!0);try{await new Promise(N=>setTimeout(N,2e3)),Pe.success("Message sent successfully! We'll get back to you soon."),s({name:"",email:"",phone:"",subject:"",message:"",service:""})}catch{Pe.error("Failed to send message. Please try again.")}finally{d(!1)}};return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("section",{className:"bg-gradient-to-r from-blue-900 to-blue-700 text-white py-20",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("h1",{className:"text-5xl font-bold mb-6",children:["Contact ",c.jsx("span",{className:"text-blue-300",children:"Us"})]}),c.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto",children:"Get in touch with our team for quotes, questions, or to schedule your shipment. We're here to help with all your shipping needs."})]})})}),c.jsx("section",{className:"py-16 -mt-10 relative z-10",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[c.jsx("div",{className:"bg-blue-100 rounded-full p-4 w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:c.jsx(Di,{className:"h-8 w-8 text-blue-600"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Call Us"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Speak directly with our team"}),c.jsx("a",{href:"tel:718-738-1490",className:"text-2xl font-bold text-blue-600 hover:text-blue-700 transition-colors",children:"718-738-1490"}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Mon-Fri 10am-6pm | Sat 10am-2pm"})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[c.jsx("div",{className:"bg-green-100 rounded-full p-4 w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:c.jsx(Oi,{className:"h-8 w-8 text-green-600"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Email Us"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Send us your questions"}),c.jsx("a",{href:"mailto:chrisdanenterprises@gmail.com",className:"text-lg font-semibold text-green-600 hover:text-green-700 transition-colors break-all",children:"chrisdanenterprises@gmail.com"}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"We respond within 24 hours"})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[c.jsx("div",{className:"bg-purple-100 rounded-full p-4 w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:c.jsx(Tr,{className:"h-8 w-8 text-purple-600"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Visit Us"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Come to our location"}),c.jsxs("div",{className:"text-purple-600 font-semibold",children:[c.jsx("p",{children:"142-49 Rockaway Blvd"}),c.jsx("p",{children:"Jamaica, NY 11436"})]}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Free parking available"})]})]})})}),c.jsx("section",{className:"py-20",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Send Us a Message"}),c.jsx("p",{className:"text-lg text-gray-600",children:"Fill out the form below and we'll get back to you as soon as possible. For urgent matters, please call us directly."})]}),c.jsxs("form",{onSubmit:v,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:o.name,onChange:p,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your full name",disabled:a}),c.jsx(rh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:o.email,onChange:p,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"your@email.com",disabled:a}),c.jsx(Oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"tel",id:"phone",name:"phone",value:o.phone,onChange:p,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"(555) 123-4567",disabled:a}),c.jsx(Di,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"service",className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Interest"}),c.jsxs("select",{id:"service",name:"service",value:o.service,onChange:p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:a,children:[c.jsx("option",{value:"",children:"Select a service"}),m.map(E=>c.jsx("option",{value:E,children:E},E))]})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),c.jsx("input",{type:"text",id:"subject",name:"subject",required:!0,value:o.subject,onChange:p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"What is this regarding?",disabled:a})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{id:"message",name:"message",required:!0,rows:6,value:o.message,onChange:p,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Please provide details about your shipping needs, destination, package size, etc.",disabled:a}),c.jsx(q2,{className:"absolute left-3 top-4 h-4 w-4 text-gray-400"})]})]}),c.jsxs("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white py-4 px-6 rounded-lg font-semibold text-lg transition-colors flex items-center justify-center space-x-2",children:[a?c.jsx(sn,{size:"sm",className:"text-white"}):c.jsx(p1,{className:"h-5 w-5"}),c.jsx("span",{children:a?"Sending...":"Send Message"})]})]})]}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Our Location"}),c.jsx("div",{className:"bg-gray-200 rounded-lg h-64 flex items-center justify-center mb-4",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Tr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500 font-medium",children:"Interactive Map"}),c.jsx("p",{className:"text-gray-400 text-sm",children:"142-49 Rockaway Blvd, Jamaica, NY 11436"})]})}),c.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Address:"})," 142-49 Rockaway Blvd, Jamaica, NY 11436"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Parking:"})," Free parking available on-site"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Public Transit:"})," Near multiple bus routes"]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[c.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[c.jsx(Xn,{className:"h-5 w-5 text-blue-600"}),c.jsx("span",{children:"Business Hours"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[c.jsx("span",{className:"font-medium text-gray-700",children:"Monday - Friday"}),c.jsx("span",{className:"text-gray-600",children:"10:00 AM - 6:00 PM"})]}),c.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[c.jsx("span",{className:"font-medium text-gray-700",children:"Saturday"}),c.jsx("span",{className:"text-gray-600",children:"10:00 AM - 2:00 PM"})]}),c.jsxs("div",{className:"flex justify-between items-center py-2",children:[c.jsx("span",{className:"font-medium text-gray-700",children:"Sunday & Holidays"}),c.jsx("span",{className:"text-red-600 font-medium",children:"Closed"})]})]})]}),c.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-blue-900 mb-4",children:"Need Immediate Help?"}),c.jsx("p",{className:"text-blue-800 mb-4",children:"For urgent shipping needs or package tracking assistance, call us directly:"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("a",{href:"tel:718-738-1490",className:"flex items-center space-x-2 text-blue-700 hover:text-blue-800 font-semibold",children:[c.jsx(Di,{className:"h-4 w-4"}),c.jsx("span",{children:"718-738-1490"})]}),c.jsxs("a",{href:"mailto:chrisdanenterprises@gmail.com",className:"flex items-center space-x-2 text-blue-700 hover:text-blue-800",children:[c.jsx(Oi,{className:"h-4 w-4"}),c.jsx("span",{children:"chrisdanenterprises@gmail.com"})]})]})]})]})]})})}),c.jsx("section",{className:"bg-gray-100 py-16",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Have Questions?"}),c.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Check out our frequently asked questions or contact us directly for personalized assistance"}),c.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[c.jsx("a",{href:"/faq",className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-lg font-semibold text-lg transition-colors",children:"View FAQ"}),c.jsx("a",{href:"/tracking",className:"border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white px-8 py-4 rounded-lg font-semibold text-lg transition-colors",children:"Track Package"})]})]})})]})}function lv(){const[o,s]=z.useState([]),[a,d]=z.useState(""),[m,p]=z.useState("all"),v=[{id:"1",question:"How do I track my package?",answer:"You can track your package using the tracking number provided when you ship with us. Simply enter your tracking number on our tracking page, and you'll see real-time updates on your package's location and status.",category:"tracking"},{id:"2",question:"What countries do you ship to?",answer:"We ship to 12 countries across the Caribbean and Central America, including Jamaica, Guyana, Trinidad & Tobago, Barbados, Suriname, French Guiana, Belize, Costa Rica, Panama, Nicaragua, Honduras, and Guatemala.",category:"shipping"},{id:"3",question:"How long does shipping take?",answer:"Shipping times vary by destination. Jamaica typically takes 7-10 days, while other Caribbean islands take 8-14 days. Central American countries usually take 9-17 days. We provide estimated delivery dates when you ship.",category:"shipping"},{id:"4",question:"What are your shipping rates?",answer:"Our rates depend on the destination, package size, and service type. Barrel shipping starts from $75, and box shipping starts from $25. Contact us for a detailed quote based on your specific needs.",category:"pricing"},{id:"5",question:"Do you offer pickup services?",answer:"Yes, we offer free pickup within 5 miles of our Jamaica, NY location. For areas beyond this, we can arrange pickup for a small additional fee. Call us to schedule a pickup appointment.",category:"services"},{id:"6",question:"Are my packages insured?",answer:"Yes, all packages are covered by basic insurance. We also offer additional insurance coverage for valuable items. Our team handles all packages with care and follows strict security protocols.",category:"insurance"},{id:"7",question:"What items can I ship?",answer:"You can ship most personal items including clothing, food items, electronics, and household goods. We cannot ship prohibited items such as weapons, hazardous materials, or illegal substances. Contact us if you're unsure about specific items.",category:"shipping"},{id:"8",question:"What payment methods do you accept?",answer:"We accept cash, credit cards (Visa, MasterCard, American Express), debit cards, and money orders. Payment is required when dropping off your package or during pickup.",category:"pricing"},{id:"9",question:"Can I change the delivery address after shipping?",answer:"Address changes are possible but must be requested as soon as possible. Contact us immediately if you need to change the delivery address. Additional fees may apply depending on the location of your package.",category:"tracking"},{id:"10",question:"What is the Frequent Shipper Program?",answer:"Our Frequent Shipper Program offers discounted rates, priority processing, and additional services for regular customers. Members save up to 20% on shipping and get access to our mailbox rental service.",category:"services"},{id:"11",question:"Do you provide packaging materials?",answer:"Yes, we have barrels, boxes, and packing materials available for purchase. We also offer a packing service if you prefer to have our team pack your items professionally.",category:"services"},{id:"12",question:"What if my package is damaged?",answer:"In the rare event of package damage, please contact us immediately with photos and details. We will work with you to resolve the issue and process any insurance claims if applicable.",category:"insurance"}],E=[{value:"all",label:"All Categories",icon:ti},{value:"shipping",label:"Shipping",icon:un},{value:"tracking",label:"Tracking",icon:Tr},{value:"pricing",label:"Pricing",icon:h1},{value:"services",label:"Services",icon:Xn},{value:"insurance",label:"Insurance",icon:Ic}],N=A=>{s(I=>I.includes(A)?I.filter(D=>D!==A):[...I,A])},w=v.filter(A=>{const I=A.question.toLowerCase().includes(a.toLowerCase())||A.answer.toLowerCase().includes(a.toLowerCase()),D=m==="all"||A.category===m;return I&&D});return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("section",{className:"bg-gradient-to-r from-blue-900 to-blue-700 text-white py-20",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("h1",{className:"text-5xl font-bold mb-6",children:["Frequently Asked ",c.jsx("span",{className:"text-blue-300",children:"Questions"})]}),c.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto",children:"Find answers to common questions about our shipping services, tracking, pricing, and more. Can't find what you're looking for? Contact us directly."})]})})}),c.jsx("section",{className:"py-12",children:c.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:"Search frequently asked questions...",value:a,onChange:A=>d(A.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg"}),c.jsx(ti,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(A=>{const I=A.icon;return c.jsxs("button",{onClick:()=>p(A.value),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${m===A.value?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c.jsx(I,{className:"h-4 w-4"}),c.jsx("span",{children:A.label})]},A.value)})})]})})}),c.jsx("section",{className:"pb-20",children:c.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:w.length>0?c.jsx("div",{className:"space-y-4",children:w.map(A=>{const I=o.includes(A.id);return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[c.jsxs("button",{onClick:()=>N(A.id),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 pr-4",children:A.question}),I?c.jsx(P2,{className:"h-5 w-5 text-gray-500 flex-shrink-0"}):c.jsx(R2,{className:"h-5 w-5 text-gray-500 flex-shrink-0"})]}),I&&c.jsx("div",{className:"px-6 pb-4",children:c.jsx("div",{className:"pt-2 border-t border-gray-100",children:c.jsx("p",{className:"text-gray-700 leading-relaxed",children:A.answer})})})]},A.id)})}):c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[c.jsx(ti,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Results Found"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find any FAQs matching your search. Try different keywords or browse all categories."}),c.jsx("button",{onClick:()=>{d(""),p("all")},className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors",children:"Clear Filters"})]})})}),c.jsx("section",{className:"bg-blue-50 py-16",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Quick Links"}),c.jsx("p",{className:"text-xl text-gray-600",children:"Access our most popular services and information"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs(Ke,{to:"/tracking",className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-lg transition-shadow group",children:[c.jsx("div",{className:"text-blue-600 mb-4 group-hover:text-blue-700",children:c.jsx(un,{className:"h-12 w-12"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Track Your Package"}),c.jsx("p",{className:"text-gray-600",children:"Enter your tracking number to see real-time updates on your shipment."})]}),c.jsxs(Ke,{to:"/services",className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-lg transition-shadow group",children:[c.jsx("div",{className:"text-green-600 mb-4 group-hover:text-green-700",children:c.jsx(Xn,{className:"h-12 w-12"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Our Services"}),c.jsx("p",{className:"text-gray-600",children:"Learn about our barrel shipping, box shipping, and other services."})]}),c.jsxs(Ke,{to:"/contact",className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-lg transition-shadow group",children:[c.jsx("div",{className:"text-purple-600 mb-4 group-hover:text-purple-700",children:c.jsx(Di,{className:"h-12 w-12"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Contact Us"}),c.jsx("p",{className:"text-gray-600",children:"Get in touch with our team for quotes, questions, or support."})]})]})]})}),c.jsx("section",{className:"bg-gray-100 py-16",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Still Need Help?"}),c.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Our friendly team is ready to assist you with any questions or concerns you may have."}),c.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[c.jsxs("a",{href:"tel:718-738-1490",className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-lg font-semibold text-lg transition-colors flex items-center justify-center space-x-2",children:[c.jsx(Di,{className:"h-5 w-5"}),c.jsx("span",{children:"Call Us: 718-738-1490"})]}),c.jsx(Ke,{to:"/contact",className:"border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white px-8 py-4 rounded-lg font-semibold text-lg transition-colors",children:"Send Message"})]}),c.jsx("div",{className:"mt-8 text-sm text-gray-500",children:c.jsx("p",{children:"Business Hours: Mon-Fri 10am-6pm | Sat 10am-2pm | Sun & Holidays Closed"})})]})})]})}function cv(){var R,F;const{signIn:o,user:s,isStaff:a,staffLoading:d}=fi(),m=Zs(),p=zr(),[v,E]=z.useState(""),[N,w]=z.useState(""),[A,I]=z.useState(!1),[D,B]=z.useState(!1);if(z.useEffect(()=>{var J,K;if(s&&!d){const V=((K=(J=p.state)==null?void 0:J.from)==null?void 0:K.pathname)||"/staff/dashboard";a?(console.log("Staff authenticated, redirecting to dashboard..."),m(V,{replace:!0})):console.log("User authenticated but not staff, staying on login page...")}},[s,a,d,p.state,m]),s&&d)return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-700 flex items-center justify-center",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 text-center",children:[c.jsx(sn,{size:"lg"}),c.jsx("p",{className:"mt-4 text-gray-600",children:"Verifying credentials..."})]})});if(s&&a&&!d){const J=((F=(R=p.state)==null?void 0:R.from)==null?void 0:F.pathname)||"/staff/dashboard";return c.jsx(Fa,{to:J,replace:!0})}const P=async J=>{if(J.preventDefault(),!v||!N){Pe.error("Please enter both email and password");return}B(!0);try{(await o(v,N)).success}catch(K){console.error("Login error:",K),Pe.error(K.message||"Failed to sign in")}finally{B(!1)}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-700 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:c.jsx(un,{className:"h-8 w-8 text-blue-600"})})}),c.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Staff Login"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Access the Chrisdan Enterprises staff dashboard"})]}),c.jsxs("form",{onSubmit:P,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{id:"email",type:"email",required:!0,value:v,onChange:J=>E(J.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your staff email",disabled:D}),c.jsx(Oi,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{id:"password",type:A?"text":"password",required:!0,value:N,onChange:J=>w(J.target.value),className:"w-full pl-12 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password",disabled:D}),c.jsx(Zo,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("button",{type:"button",onClick:()=>I(!A),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:D,children:A?c.jsx(_c,{className:"h-5 w-5"}):c.jsx(Va,{className:"h-5 w-5"})})]})]}),c.jsxs("button",{type:"submit",disabled:D,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white py-3 px-4 rounded-lg font-semibold transition-colors flex items-center justify-center space-x-2",children:[D?c.jsx(sn,{size:"sm",className:"text-white"}):c.jsx(Zo,{className:"h-5 w-5"}),c.jsx("span",{children:D?"Signing In...":"Sign In"})]})]}),c.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[c.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Staff Access"}),c.jsx("p",{className:"text-xs text-blue-800",children:"This portal is for authorized staff members only. Contact your administrator if you need access credentials."})]}),c.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600",children:[c.jsx("p",{children:"Need help? Contact IT support"}),c.jsx("p",{className:"font-medium",children:"718-738-1490"})]})]}),c.jsx("div",{className:"text-center",children:c.jsx("a",{href:"/",className:"text-blue-200 hover:text-white transition-colors text-sm",children:"← Back to main website"})})]})})}var De;(function(o){o[o.QR_CODE=0]="QR_CODE",o[o.AZTEC=1]="AZTEC",o[o.CODABAR=2]="CODABAR",o[o.CODE_39=3]="CODE_39",o[o.CODE_93=4]="CODE_93",o[o.CODE_128=5]="CODE_128",o[o.DATA_MATRIX=6]="DATA_MATRIX",o[o.MAXICODE=7]="MAXICODE",o[o.ITF=8]="ITF",o[o.EAN_13=9]="EAN_13",o[o.EAN_8=10]="EAN_8",o[o.PDF_417=11]="PDF_417",o[o.RSS_14=12]="RSS_14",o[o.RSS_EXPANDED=13]="RSS_EXPANDED",o[o.UPC_A=14]="UPC_A",o[o.UPC_E=15]="UPC_E",o[o.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(De||(De={}));var X0=new Map([[De.QR_CODE,"QR_CODE"],[De.AZTEC,"AZTEC"],[De.CODABAR,"CODABAR"],[De.CODE_39,"CODE_39"],[De.CODE_93,"CODE_93"],[De.CODE_128,"CODE_128"],[De.DATA_MATRIX,"DATA_MATRIX"],[De.MAXICODE,"MAXICODE"],[De.ITF,"ITF"],[De.EAN_13,"EAN_13"],[De.EAN_8,"EAN_8"],[De.PDF_417,"PDF_417"],[De.RSS_14,"RSS_14"],[De.RSS_EXPANDED,"RSS_EXPANDED"],[De.UPC_A,"UPC_A"],[De.UPC_E,"UPC_E"],[De.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),$0;(function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.URL=1]="URL"})($0||($0={}));function uv(o){return Object.values(De).includes(o)}var ps;(function(o){o[o.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",o[o.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(ps||(ps={}));var ei=function(){function o(){}return o.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",o.SCAN_DEFAULT_FPS=2,o.DEFAULT_DISABLE_FLIP=!1,o.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,o.DEFAULT_SUPPORTED_SCAN_TYPE=[ps.SCAN_TYPE_CAMERA,ps.SCAN_TYPE_FILE],o}(),g1=function(){function o(s,a){this.format=s,this.formatName=a}return o.prototype.toString=function(){return this.formatName},o.create=function(s){if(!X0.has(s))throw"".concat(s," not in html5QrcodeSupportedFormatsTextMap");return new o(s,X0.get(s))},o}(),K0=function(){function o(){}return o.createFromText=function(s){var a={text:s};return{decodedText:s,result:a}},o.createFromQrcodeResult=function(s){return{decodedText:s.text,result:s}},o}(),Fd;(function(o){o[o.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",o[o.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",o[o.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Fd||(Fd={}));var x1=function(){function o(){}return o.createFrom=function(s){return{errorMessage:s,type:Fd.UNKWOWN_ERROR}},o}(),y1=function(){function o(s){this.verbose=s}return o.prototype.log=function(s){this.verbose&&console.log(s)},o.prototype.warn=function(s){this.verbose&&console.warn(s)},o.prototype.logError=function(s,a){(this.verbose||a===!0)&&console.error(s)},o.prototype.logErrors=function(s){if(s.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(s)},o}();function hi(o){return typeof o>"u"||o===null}function dv(o,s,a){return o>a?a:o<s?s:o}var Ha=function(){function o(){}return o.codeParseError=function(s){return"QR code parse error, error = ".concat(s)},o.errorGettingUserMedia=function(s){return"Error getting userMedia, error = ".concat(s)},o.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},o.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},o.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},o.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},o.scannerPaused=function(){return"Scanner paused"},o}(),kt=function(){function o(){}return o.scanningStatus=function(){return"Scanning"},o.idleStatus=function(){return"Idle"},o.errorStatus=function(){return"Error"},o.permissionStatus=function(){return"Permission"},o.noCameraFoundErrorStatus=function(){return"No Cameras"},o.lastMatch=function(s){return"Last Match: ".concat(s)},o.codeScannerTitle=function(){return"Code Scanner"},o.cameraPermissionTitle=function(){return"Request Camera Permissions"},o.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},o.noCameraFound=function(){return"No camera found"},o.scanButtonStopScanningText=function(){return"Stop Scanning"},o.scanButtonStartScanningText=function(){return"Start Scanning"},o.torchOnButton=function(){return"Switch On Torch"},o.torchOffButton=function(){return"Switch Off Torch"},o.torchOnFailedMessage=function(){return"Failed to turn on torch"},o.torchOffFailedMessage=function(){return"Failed to turn off torch"},o.scanButtonScanningStarting=function(){return"Launching Camera..."},o.textIfCameraScanSelected=function(){return"Scan an Image File"},o.textIfFileScanSelected=function(){return"Scan using camera directly"},o.selectCamera=function(){return"Select Camera"},o.fileSelectionChooseImage=function(){return"Choose Image"},o.fileSelectionChooseAnother=function(){return"Choose Another"},o.fileSelectionNoImageSelected=function(){return"No image choosen"},o.anonymousCameraPrefix=function(){return"Anonymous Camera"},o.dragAndDropMessage=function(){return"Or drop an image to scan"},o.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},o.zoom=function(){return"zoom"},o.loadingImage=function(){return"Loading image..."},o.cameraScanAltText=function(){return"Camera based scan"},o.fileScanAltText=function(){return"Fule based scan"},o}(),Q0=function(){function o(){}return o.poweredBy=function(){return"Powered by "},o.reportIssues=function(){return"Report issues"},o}(),v1=function(){function o(){}return o.isMediaStreamConstraintsValid=function(s,a){if(typeof s!="object"){var d=typeof s;return a.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(d,"."),!0),!1}for(var m=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],p=new Set(m),v=Object.keys(s),E=0,N=v;E<N.length;E++){var w=N[E];if(p.has(w))return a.logError("".concat(w," is not supported videoConstaints."),!0),!1}return!0},o}(),Vo={exports:{}},hv=Vo.exports,Z0;function fv(){return Z0||(Z0=1,function(o,s){(function(a,d){d(s)})(hv,function(a){function d(T){return T==null}var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,e){T.__proto__=e}||function(T,e){for(var n in e)e.hasOwnProperty(n)&&(T[n]=e[n])};function p(T,e){m(T,e);function n(){this.constructor=T}T.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function v(T,e){var n=Object.setPrototypeOf;n?n(T,e):T.__proto__=e}function E(T,e){e===void 0&&(e=T.constructor);var n=Error.captureStackTrace;n&&n(T,e)}var N=function(T){p(e,T);function e(n){var r=this.constructor,l=T.call(this,n)||this;return Object.defineProperty(l,"name",{value:r.name,enumerable:!1}),v(l,r.prototype),E(l),l}return e}(Error);class w extends N{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}w.kind="Exception";class A extends w{}A.kind="ArgumentException";class I extends w{}I.kind="IllegalArgumentException";class D{constructor(e){if(this.binarizer=e,e===null)throw new I("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,n){return this.binarizer.getBlackRow(e,n)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,n,r,l){const u=this.binarizer.getLuminanceSource().crop(e,n,r,l);return new D(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new D(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new D(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class B extends w{static getChecksumInstance(){return new B}}B.kind="ChecksumException";class P{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class R{static arraycopy(e,n,r,l,u){for(;u--;)r[l++]=e[n++]}static currentTimeMillis(){return Date.now()}}class F extends w{}F.kind="IndexOutOfBoundsException";class J extends F{constructor(e=void 0,n=void 0){super(n),this.index=e,this.message=n}}J.kind="ArrayIndexOutOfBoundsException";class K{static fill(e,n){for(let r=0,l=e.length;r<l;r++)e[r]=n}static fillWithin(e,n,r,l){K.rangeCheck(e.length,n,r);for(let u=n;u<r;u++)e[u]=l}static rangeCheck(e,n,r){if(n>r)throw new I("fromIndex("+n+") > toIndex("+r+")");if(n<0)throw new J(n);if(r>e)throw new J(r)}static asList(...e){return e}static create(e,n,r){return Array.from({length:e}).map(u=>Array.from({length:n}).fill(r))}static createInt32Array(e,n,r){return Array.from({length:e}).map(u=>Int32Array.from({length:n}).fill(r))}static equals(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(let r=0,l=e.length;r<l;r++)if(e[r]!==n[r])return!1;return!0}static hashCode(e){if(e===null)return 0;let n=1;for(const r of e)n=31*n+r;return n}static fillUint8Array(e,n){for(let r=0;r!==e.length;r++)e[r]=n}static copyOf(e,n){return e.slice(0,n)}static copyOfUint8Array(e,n){if(e.length<=n){const r=new Uint8Array(n);return r.set(e),r}return e.slice(0,n)}static copyOfRange(e,n,r){const l=r-n,u=new Int32Array(l);return R.arraycopy(e,n,u,0,l),u}static binarySearch(e,n,r){r===void 0&&(r=K.numberComparator);let l=0,u=e.length-1;for(;l<=u;){const h=u+l>>1,g=r(n,e[h]);if(g>0)l=h+1;else if(g<0)u=h-1;else return h}return-l-1}static numberComparator(e,n){return e-n}}class V{static numberOfTrailingZeros(e){let n;if(e===0)return 32;let r=31;return n=e<<16,n!==0&&(r-=16,e=n),n=e<<8,n!==0&&(r-=8,e=n),n=e<<4,n!==0&&(r-=4,e=n),n=e<<2,n!==0&&(r-=2,e=n),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,n){return Math.trunc(e/n)}static parseInt(e,n=void 0){return parseInt(e,n)}}V.MIN_VALUE_32_BITS=-2147483648,V.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ie{constructor(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=ie.makeArray(e):this.bits=n)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const n=ie.makeArray(e);R.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const n=this.size;if(e>=n)return n;const r=this.bits;let l=Math.floor(e/32),u=r[l];u&=~((1<<(e&31))-1);const h=r.length;for(;u===0;){if(++l===h)return n;u=r[l]}const g=l*32+V.numberOfTrailingZeros(u);return g>n?n:g}getNextUnset(e){const n=this.size;if(e>=n)return n;const r=this.bits;let l=Math.floor(e/32),u=~r[l];u&=~((1<<(e&31))-1);const h=r.length;for(;u===0;){if(++l===h)return n;u=~r[l]}const g=l*32+V.numberOfTrailingZeros(u);return g>n?n:g}setBulk(e,n){this.bits[Math.floor(e/32)]=n}setRange(e,n){if(n<e||e<0||n>this.size)throw new I;if(n===e)return;n--;const r=Math.floor(e/32),l=Math.floor(n/32),u=this.bits;for(let h=r;h<=l;h++){const g=h>r?0:e&31,b=(2<<(h<l?31:n&31))-(1<<g);u[h]|=b}}clear(){const e=this.bits.length,n=this.bits;for(let r=0;r<e;r++)n[r]=0}isRange(e,n,r){if(n<e||e<0||n>this.size)throw new I;if(n===e)return!0;n--;const l=Math.floor(e/32),u=Math.floor(n/32),h=this.bits;for(let g=l;g<=u;g++){const y=g>l?0:e&31,_=(2<<(g<u?31:n&31))-(1<<y)&4294967295;if((h[g]&_)!==(r?_:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,n){if(n<0||n>32)throw new I("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(let r=n;r>0;r--)this.appendBit((e>>r-1&1)===1)}appendBitArray(e){const n=e.size;this.ensureCapacity(this.size+n);for(let r=0;r<n;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new I("Sizes don't match");const n=this.bits;for(let r=0,l=n.length;r<l;r++)n[r]^=e.bits[r]}toBytes(e,n,r,l){for(let u=0;u<l;u++){let h=0;for(let g=0;g<8;g++)this.get(e)&&(h|=1<<7-g),e++;n[r+u]=h}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),r=n+1,l=this.bits;for(let u=0;u<r;u++){let h=l[u];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,e[n-u]=h}if(this.size!==r*32){const u=r*32-this.size;let h=e[0]>>>u;for(let g=1;g<r;g++){const y=e[g];h|=y<<32-u,e[g-1]=h,h=y>>>u}e[r-1]=h}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof ie))return!1;const n=e;return this.size===n.size&&K.equals(this.bits,n.bits)}hashCode(){return 31*this.size+K.hashCode(this.bits)}toString(){let e="";for(let n=0,r=this.size;n<r;n++)(n&7)===0&&(e+=" "),e+=this.get(n)?"X":".";return e}clone(){return new ie(this.size,this.bits.slice())}}var ge;(function(T){T[T.OTHER=0]="OTHER",T[T.PURE_BARCODE=1]="PURE_BARCODE",T[T.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",T[T.TRY_HARDER=3]="TRY_HARDER",T[T.CHARACTER_SET=4]="CHARACTER_SET",T[T.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",T[T.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",T[T.ASSUME_GS1=7]="ASSUME_GS1",T[T.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",T[T.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",T[T.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ge||(ge={}));var de=ge;class H extends w{static getFormatInstance(){return new H}}H.kind="FormatException";var W;(function(T){T[T.Cp437=0]="Cp437",T[T.ISO8859_1=1]="ISO8859_1",T[T.ISO8859_2=2]="ISO8859_2",T[T.ISO8859_3=3]="ISO8859_3",T[T.ISO8859_4=4]="ISO8859_4",T[T.ISO8859_5=5]="ISO8859_5",T[T.ISO8859_6=6]="ISO8859_6",T[T.ISO8859_7=7]="ISO8859_7",T[T.ISO8859_8=8]="ISO8859_8",T[T.ISO8859_9=9]="ISO8859_9",T[T.ISO8859_10=10]="ISO8859_10",T[T.ISO8859_11=11]="ISO8859_11",T[T.ISO8859_13=12]="ISO8859_13",T[T.ISO8859_14=13]="ISO8859_14",T[T.ISO8859_15=14]="ISO8859_15",T[T.ISO8859_16=15]="ISO8859_16",T[T.SJIS=16]="SJIS",T[T.Cp1250=17]="Cp1250",T[T.Cp1251=18]="Cp1251",T[T.Cp1252=19]="Cp1252",T[T.Cp1256=20]="Cp1256",T[T.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",T[T.UTF8=22]="UTF8",T[T.ASCII=23]="ASCII",T[T.Big5=24]="Big5",T[T.GB18030=25]="GB18030",T[T.EUC_KR=26]="EUC_KR"})(W||(W={}));class ${constructor(e,n,r,...l){this.valueIdentifier=e,this.name=r,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=l,$.VALUE_IDENTIFIER_TO_ECI.set(e,this),$.NAME_TO_ECI.set(r,this);const u=this.values;for(let h=0,g=u.length;h!==g;h++){const y=u[h];$.VALUES_TO_ECI.set(y,this)}for(const h of l)$.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new H("incorect value");const n=$.VALUES_TO_ECI.get(e);if(n===void 0)throw new H("incorect value");return n}static getCharacterSetECIByName(e){const n=$.NAME_TO_ECI.get(e);if(n===void 0)throw new H("incorect value");return n}equals(e){if(!(e instanceof $))return!1;const n=e;return this.getName()===n.getName()}}$.VALUE_IDENTIFIER_TO_ECI=new Map,$.VALUES_TO_ECI=new Map,$.NAME_TO_ECI=new Map,$.Cp437=new $(W.Cp437,Int32Array.from([0,2]),"Cp437"),$.ISO8859_1=new $(W.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),$.ISO8859_2=new $(W.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),$.ISO8859_3=new $(W.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),$.ISO8859_4=new $(W.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),$.ISO8859_5=new $(W.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),$.ISO8859_6=new $(W.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),$.ISO8859_7=new $(W.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),$.ISO8859_8=new $(W.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),$.ISO8859_9=new $(W.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),$.ISO8859_10=new $(W.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),$.ISO8859_11=new $(W.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),$.ISO8859_13=new $(W.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),$.ISO8859_14=new $(W.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),$.ISO8859_15=new $(W.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),$.ISO8859_16=new $(W.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),$.SJIS=new $(W.SJIS,20,"SJIS","Shift_JIS"),$.Cp1250=new $(W.Cp1250,21,"Cp1250","windows-1250"),$.Cp1251=new $(W.Cp1251,22,"Cp1251","windows-1251"),$.Cp1252=new $(W.Cp1252,23,"Cp1252","windows-1252"),$.Cp1256=new $(W.Cp1256,24,"Cp1256","windows-1256"),$.UnicodeBigUnmarked=new $(W.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),$.UTF8=new $(W.UTF8,26,"UTF8","UTF-8"),$.ASCII=new $(W.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),$.Big5=new $(W.Big5,28,"Big5"),$.GB18030=new $(W.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),$.EUC_KR=new $(W.EUC_KR,30,"EUC_KR","EUC-KR");class Se extends w{}Se.kind="UnsupportedOperationException";class ke{static decode(e,n){const r=this.encodingName(n);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!ke.isBrowser()&&e==="ISO-8859-1"}static encode(e,n){const r=this.encodingName(n);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof $?e:$.getCharacterSetECIByName(e)}static decodeFallback(e,n){const r=this.encodingCharacterSet(n);if(ke.isDecodeFallbackSupported(r)){let l="";for(let u=0,h=e.length;u<h;u++){let g=e[u].toString(16);g.length<2&&(g="0"+g),l+="%"+g}return decodeURIComponent(l)}if(r.equals($.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Se(`Encoding ${this.encodingName(n)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals($.UTF8)||e.equals($.ISO8859_1)||e.equals($.ASCII)}static encodeFallback(e){const r=btoa(unescape(encodeURIComponent(e))).split(""),l=[];for(let u=0;u<r.length;u++)l.push(r[u].charCodeAt(0));return new Uint8Array(l)}}class he{static castAsNonUtf8Char(e,n=null){const r=n?n.getName():this.ISO88591;return ke.decode(new Uint8Array([e]),r)}static guessEncoding(e,n){if(n!=null&&n.get(de.CHARACTER_SET)!==void 0)return n.get(de.CHARACTER_SET).toString();const r=e.length;let l=!0,u=!0,h=!0,g=0,y=0,b=0,_=0,k=0,O=0,L=0,G=0,Y=0,Q=0,se=0;const ye=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let ve=0;ve<r&&(l||u||h);ve++){const pe=e[ve]&255;h&&(g>0?(pe&128)===0?h=!1:g--:(pe&128)!==0&&((pe&64)===0?h=!1:(g++,(pe&32)===0?y++:(g++,(pe&16)===0?b++:(g++,(pe&8)===0?_++:h=!1))))),l&&(pe>127&&pe<160?l=!1:pe>159&&(pe<192||pe===215||pe===247)&&se++),u&&(k>0?pe<64||pe===127||pe>252?u=!1:k--:pe===128||pe===160||pe>239?u=!1:pe>160&&pe<224?(O++,G=0,L++,L>Y&&(Y=L)):pe>127?(k++,L=0,G++,G>Q&&(Q=G)):(L=0,G=0))}return h&&g>0&&(h=!1),u&&k>0&&(u=!1),h&&(ye||y+b+_>0)?he.UTF8:u&&(he.ASSUME_SHIFT_JIS||Y>=3||Q>=3)?he.SHIFT_JIS:l&&u?Y===2&&O===2||se*10>=r?he.SHIFT_JIS:he.ISO88591:l?he.ISO88591:u?he.SHIFT_JIS:h?he.UTF8:he.PLATFORM_DEFAULT_ENCODING}static format(e,...n){let r=-1;function l(h,g,y,b,_,k){if(h==="%%")return"%";if(n[++r]===void 0)return;h=b?parseInt(b.substr(1)):void 0;let O=_?parseInt(_.substr(1)):void 0,L;switch(k){case"s":L=n[r];break;case"c":L=n[r][0];break;case"f":L=parseFloat(n[r]).toFixed(h);break;case"p":L=parseFloat(n[r]).toPrecision(h);break;case"e":L=parseFloat(n[r]).toExponential(h);break;case"x":L=parseInt(n[r]).toString(O||16);break;case"d":L=parseFloat(parseInt(n[r],O||10).toPrecision(h)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(O);let G=parseInt(y),Y=y&&y[0]+""=="0"?"0":" ";for(;L.length<G;)L=g!==void 0?L+Y:Y+L;return L}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(u,l)}static getBytes(e,n){return ke.encode(e,n)}static getCharCode(e,n=0){return e.charCodeAt(n)}static getCharAt(e){return String.fromCharCode(e)}}he.SHIFT_JIS=$.SJIS.getName(),he.GB2312="GB2312",he.ISO88591=$.ISO8859_1.getName(),he.EUC_JP="EUC_JP",he.UTF8=$.UTF8.getName(),he.PLATFORM_DEFAULT_ENCODING=he.UTF8,he.ASSUME_SHIFT_JIS=!1;class ce{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=he.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,n,r){for(let l=n;n<n+r;l++)this.append(e[l]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)}substring(e,n){return this.value.substring(e,n)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+n.length)}}class _e{constructor(e,n,r,l){if(this.width=e,this.height=n,this.rowSize=r,this.bits=l,n==null&&(n=e),this.height=n,e<1||n<1)throw new I("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const n=e.length,r=e[0].length,l=new _e(r,n);for(let u=0;u<n;u++){const h=e[u];for(let g=0;g<r;g++)h[g]&&l.set(g,u)}return l}static parseFromString(e,n,r){if(e===null)throw new I("stringRepresentation cannot be null");const l=new Array(e.length);let u=0,h=0,g=-1,y=0,b=0;for(;b<e.length;)if(e.charAt(b)===`
`||e.charAt(b)==="\r"){if(u>h){if(g===-1)g=u-h;else if(u-h!==g)throw new I("row lengths do not match");h=u,y++}b++}else if(e.substring(b,b+n.length)===n)b+=n.length,l[u]=!0,u++;else if(e.substring(b,b+r.length)===r)b+=r.length,l[u]=!1,u++;else throw new I("illegal character encountered: "+e.substring(b));if(u>h){if(g===-1)g=u-h;else if(u-h!==g)throw new I("row lengths do not match");y++}const _=new _e(g,y);for(let k=0;k<u;k++)l[k]&&_.set(Math.floor(k%g),Math.floor(k/g));return _}get(e,n){const r=n*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0}set(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295}unset(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)}flip(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new I("input matrix dimensions do not match");const n=new ie(Math.floor(this.width/32)+1),r=this.rowSize,l=this.bits;for(let u=0,h=this.height;u<h;u++){const g=u*r,y=e.getRow(u,n).getBitArray();for(let b=0;b<r;b++)l[g+b]^=y[b]}}clear(){const e=this.bits,n=e.length;for(let r=0;r<n;r++)e[r]=0}setRegion(e,n,r,l){if(n<0||e<0)throw new I("Left and top must be nonnegative");if(l<1||r<1)throw new I("Height and width must be at least 1");const u=e+r,h=n+l;if(h>this.height||u>this.width)throw new I("The region must fit inside the matrix");const g=this.rowSize,y=this.bits;for(let b=n;b<h;b++){const _=b*g;for(let k=e;k<u;k++)y[_+Math.floor(k/32)]|=1<<(k&31)&4294967295}}getRow(e,n){n==null||n.getSize()<this.width?n=new ie(this.width):n.clear();const r=this.rowSize,l=this.bits,u=e*r;for(let h=0;h<r;h++)n.setBulk(h*32,l[u+h]);return n}setRow(e,n){R.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),n=this.getHeight();let r=new ie(e),l=new ie(e);for(let u=0,h=Math.floor((n+1)/2);u<h;u++)r=this.getRow(u,r),l=this.getRow(n-1-u,l),r.reverse(),l.reverse(),this.setRow(u,l),this.setRow(n-1-u,r)}getEnclosingRectangle(){const e=this.width,n=this.height,r=this.rowSize,l=this.bits;let u=e,h=n,g=-1,y=-1;for(let b=0;b<n;b++)for(let _=0;_<r;_++){const k=l[b*r+_];if(k!==0){if(b<h&&(h=b),b>y&&(y=b),_*32<u){let O=0;for(;(k<<31-O&4294967295)===0;)O++;_*32+O<u&&(u=_*32+O)}if(_*32+31>g){let O=31;for(;!(k>>>O);)O--;_*32+O>g&&(g=_*32+O)}}}return g<u||y<h?null:Int32Array.from([u,h,g-u+1,y-h+1])}getTopLeftOnBit(){const e=this.rowSize,n=this.bits;let r=0;for(;r<n.length&&n[r]===0;)r++;if(r===n.length)return null;const l=r/e;let u=r%e*32;const h=n[r];let g=0;for(;(h<<31-g&4294967295)===0;)g++;return u+=g,Int32Array.from([u,l])}getBottomRightOnBit(){const e=this.rowSize,n=this.bits;let r=n.length-1;for(;r>=0&&n[r]===0;)r--;if(r<0)return null;const l=Math.floor(r/e);let u=Math.floor(r%e)*32;const h=n[r];let g=31;for(;!(h>>>g);)g--;return u+=g,Int32Array.from([u,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof _e))return!1;const n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&K.equals(this.bits,n.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+K.hashCode(this.bits),e}toString(e="X ",n="  ",r=`
`){return this.buildToString(e,n,r)}buildToString(e,n,r){let l=new ce;for(let u=0,h=this.height;u<h;u++){for(let g=0,y=this.width;g<y;g++)l.append(this.get(g,u)?e:n);l.append(r)}return l.toString()}clone(){return new _e(this.width,this.height,this.rowSize,this.bits.slice())}}class ee extends w{static getNotFoundInstance(){return new ee}}ee.kind="NotFoundException";class Ze extends P{constructor(e){super(e),this.luminances=Ze.EMPTY,this.buckets=new Int32Array(Ze.LUMINANCE_BUCKETS)}getBlackRow(e,n){const r=this.getLuminanceSource(),l=r.getWidth();n==null||n.getSize()<l?n=new ie(l):n.clear(),this.initArrays(l);const u=r.getRow(e,this.luminances),h=this.buckets;for(let y=0;y<l;y++)h[(u[y]&255)>>Ze.LUMINANCE_SHIFT]++;const g=Ze.estimateBlackPoint(h);if(l<3)for(let y=0;y<l;y++)(u[y]&255)<g&&n.set(y);else{let y=u[0]&255,b=u[1]&255;for(let _=1;_<l-1;_++){const k=u[_+1]&255;(b*4-y-k)/2<g&&n.set(_),y=b,b=k}}return n}getBlackMatrix(){const e=this.getLuminanceSource(),n=e.getWidth(),r=e.getHeight(),l=new _e(n,r);this.initArrays(n);const u=this.buckets;for(let y=1;y<5;y++){const b=Math.floor(r*y/5),_=e.getRow(b,this.luminances),k=Math.floor(n*4/5);for(let O=Math.floor(n/5);O<k;O++){const L=_[O]&255;u[L>>Ze.LUMINANCE_SHIFT]++}}const h=Ze.estimateBlackPoint(u),g=e.getMatrix();for(let y=0;y<r;y++){const b=y*n;for(let _=0;_<n;_++)(g[b+_]&255)<h&&l.set(_,y)}return l}createBinarizer(e){return new Ze(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const n=this.buckets;for(let r=0;r<Ze.LUMINANCE_BUCKETS;r++)n[r]=0}static estimateBlackPoint(e){const n=e.length;let r=0,l=0,u=0;for(let _=0;_<n;_++)e[_]>u&&(l=_,u=e[_]),e[_]>r&&(r=e[_]);let h=0,g=0;for(let _=0;_<n;_++){const k=_-l,O=e[_]*k*k;O>g&&(h=_,g=O)}if(l>h){const _=l;l=h,h=_}if(h-l<=n/16)throw new ee;let y=h-1,b=-1;for(let _=h-1;_>l;_--){const k=_-l,O=k*k*(h-_)*(r-e[_]);O>b&&(y=_,b=O)}return y<<Ze.LUMINANCE_SHIFT}}Ze.LUMINANCE_BITS=5,Ze.LUMINANCE_SHIFT=8-Ze.LUMINANCE_BITS,Ze.LUMINANCE_BUCKETS=1<<Ze.LUMINANCE_BITS,Ze.EMPTY=Uint8ClampedArray.from([0]);class Me extends Ze{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),n=e.getWidth(),r=e.getHeight();if(n>=Me.MINIMUM_DIMENSION&&r>=Me.MINIMUM_DIMENSION){const l=e.getMatrix();let u=n>>Me.BLOCK_SIZE_POWER;(n&Me.BLOCK_SIZE_MASK)!==0&&u++;let h=r>>Me.BLOCK_SIZE_POWER;(r&Me.BLOCK_SIZE_MASK)!==0&&h++;const g=Me.calculateBlackPoints(l,u,h,n,r),y=new _e(n,r);Me.calculateThresholdForBlock(l,u,h,n,r,g,y),this.matrix=y}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new Me(e)}static calculateThresholdForBlock(e,n,r,l,u,h,g){const y=u-Me.BLOCK_SIZE,b=l-Me.BLOCK_SIZE;for(let _=0;_<r;_++){let k=_<<Me.BLOCK_SIZE_POWER;k>y&&(k=y);const O=Me.cap(_,2,r-3);for(let L=0;L<n;L++){let G=L<<Me.BLOCK_SIZE_POWER;G>b&&(G=b);const Y=Me.cap(L,2,n-3);let Q=0;for(let ye=-2;ye<=2;ye++){const ve=h[O+ye];Q+=ve[Y-2]+ve[Y-1]+ve[Y]+ve[Y+1]+ve[Y+2]}const se=Q/25;Me.thresholdBlock(e,G,k,se,l,g)}}}static cap(e,n,r){return e<n?n:e>r?r:e}static thresholdBlock(e,n,r,l,u,h){for(let g=0,y=r*u+n;g<Me.BLOCK_SIZE;g++,y+=u)for(let b=0;b<Me.BLOCK_SIZE;b++)(e[y+b]&255)<=l&&h.set(n+b,r+g)}static calculateBlackPoints(e,n,r,l,u){const h=u-Me.BLOCK_SIZE,g=l-Me.BLOCK_SIZE,y=new Array(r);for(let b=0;b<r;b++){y[b]=new Int32Array(n);let _=b<<Me.BLOCK_SIZE_POWER;_>h&&(_=h);for(let k=0;k<n;k++){let O=k<<Me.BLOCK_SIZE_POWER;O>g&&(O=g);let L=0,G=255,Y=0;for(let se=0,ye=_*l+O;se<Me.BLOCK_SIZE;se++,ye+=l){for(let ve=0;ve<Me.BLOCK_SIZE;ve++){const pe=e[ye+ve]&255;L+=pe,pe<G&&(G=pe),pe>Y&&(Y=pe)}if(Y-G>Me.MIN_DYNAMIC_RANGE)for(se++,ye+=l;se<Me.BLOCK_SIZE;se++,ye+=l)for(let ve=0;ve<Me.BLOCK_SIZE;ve++)L+=e[ye+ve]&255}let Q=L>>Me.BLOCK_SIZE_POWER*2;if(Y-G<=Me.MIN_DYNAMIC_RANGE&&(Q=G/2,b>0&&k>0)){const se=(y[b-1][k]+2*y[b][k-1]+y[b-1][k-1])/4;G<se&&(Q=se)}y[b][k]=Q}}return y}}Me.BLOCK_SIZE_POWER=3,Me.BLOCK_SIZE=1<<Me.BLOCK_SIZE_POWER,Me.BLOCK_SIZE_MASK=Me.BLOCK_SIZE-1,Me.MINIMUM_DIMENSION=Me.BLOCK_SIZE*5,Me.MIN_DYNAMIC_RANGE=24;class Ne{constructor(e,n){this.width=e,this.height=n}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,n,r,l){throw new Se("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Se("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Se("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let n=new ce;for(let r=0;r<this.height;r++){const l=this.getRow(r,e);for(let u=0;u<this.width;u++){const h=l[u]&255;let g;h<64?g="#":h<128?g="+":h<192?g=".":g=" ",n.append(g)}n.append(`
`)}return n.toString()}}class Ie extends Ne{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,n){const r=this.delegate.getRow(e,n),l=this.getWidth();for(let u=0;u<l;u++)r[u]=255-(r[u]&255);return r}getMatrix(){const e=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(n);for(let l=0;l<n;l++)r[l]=255-(e[l]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,n,r,l){return new Ie(this.delegate.crop(e,n,r,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ie(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ie(this.delegate.rotateCounterClockwise45())}}class Ae extends Ne{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=Ae.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const n=e.getContext("2d").getImageData(0,0,e.width,e.height);return Ae.toGrayscaleBuffer(n.data,e.width,e.height)}static toGrayscaleBuffer(e,n,r){const l=new Uint8ClampedArray(n*r);for(let u=0,h=0,g=e.length;u<g;u+=4,h++){let y;if(e[u+3]===0)y=255;else{const _=e[u],k=e[u+1],O=e[u+2];y=306*_+601*k+117*O+512>>10}l[h]=y}return l}getRow(e,n){if(e<0||e>=this.getHeight())throw new I("Requested row is outside the image: "+e);const r=this.getWidth(),l=e*r;return n===null?n=this.buffer.slice(l,l+r):(n.length<r&&(n=new Uint8ClampedArray(r)),n.set(this.buffer.slice(l,l+r))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,n,r,l){return super.crop(e,n,r,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const n=this.getTempCanvasElement(),r=n.getContext("2d"),l=e*Ae.DEGREE_TO_RADIANS,u=this.canvas.width,h=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(l))*u+Math.abs(Math.sin(l))*h),y=Math.ceil(Math.abs(Math.sin(l))*u+Math.abs(Math.cos(l))*h);return n.width=g,n.height=y,r.translate(g/2,y/2),r.rotate(l),r.drawImage(this.canvas,u/-2,h/-2),this.buffer=Ae.makeBufferFromCanvasImageData(n),this}invert(){return new Ie(this)}}Ae.DEGREE_TO_RADIANS=Math.PI/180;class Z{constructor(e,n,r){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var le=(globalThis||dc||self||window||void 0)&&(globalThis||dc||self||window||void 0).__awaiter||function(T,e,n,r){function l(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function g(_){try{b(r.next(_))}catch(k){h(k)}}function y(_){try{b(r.throw(_))}catch(k){h(k)}}function b(_){_.done?u(_.value):l(_.value).then(g,y)}b((r=r.apply(T,e||[])).next())})};class Qe{constructor(e,n=500,r){this.reader=e,this.timeBetweenScansMillis=n,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return le(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const r of e){const l=r.kind==="video"?"videoinput":r.kind;if(l!=="videoinput")continue;const u=r.deviceId||r.id,h=r.label||`Video device ${n.length+1}`,g=r.groupId,y={deviceId:u,label:h,kind:l,groupId:g};n.push(y)}return n})}getVideoInputDevices(){return le(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(n=>new Z(n.deviceId,n.label))})}findDeviceById(e){return le(this,void 0,void 0,function*(){const n=yield this.listVideoInputDevices();return n?n.find(r=>r.deviceId===e):null})}decodeFromInputVideoDevice(e,n){return le(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,n)})}decodeOnceFromVideoDevice(e,n){return le(this,void 0,void 0,function*(){this.reset();let r;e?r={deviceId:{exact:e}}:r={facingMode:"environment"};const l={video:r};return yield this.decodeOnceFromConstraints(l,n)})}decodeOnceFromConstraints(e,n){return le(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,n)})}decodeOnceFromStream(e,n){return le(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,n);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(e,n,r){return le(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,n,r)})}decodeFromVideoDevice(e,n,r){return le(this,void 0,void 0,function*(){let l;e?l={deviceId:{exact:e}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeFromConstraints(u,n,r)})}decodeFromConstraints(e,n,r){return le(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(l,n,r)})}decodeFromStream(e,n,r){return le(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(e,n);return yield this.decodeContinuously(l,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,n){return le(this,void 0,void 0,function*(){const r=this.prepareVideoElement(n);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(e){return new Promise((n,r)=>this.playVideoOnLoad(e,()=>n()))}playVideoOnLoad(e,n){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return le(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,n){const r=document.getElementById(e);if(!r)throw new A(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new A(`element with id '${e}' must be an ${n} element`);return r}decodeFromImage(e,n){if(!e&&!n)throw new A("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)}decodeFromVideo(e,n){if(!e&&!n)throw new A("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,n,r){if(e===void 0&&n===void 0)throw new A("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new A("An image element must be provided.");this.reset();const n=this.prepareImageElement(e);this.imageElement=n;let r;return this.isImageLoaded(n)?r=this.decodeOnce(n,!1,!0):r=this._decodeOnLoadImage(n),r}decodeFromVideoElement(e){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)}decodeFromVideoElementContinuously(e,n){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,n)}_decodeFromVideoElementSetup(e){if(!e)throw new A("A video element must be provided.");this.reset();const n=this.prepareVideoElement(e);return this.videoElement=n,n}decodeFromImageUrl(e){if(!e)throw new A("An URL must be provided.");this.reset();const n=this.prepareImageElement();this.imageElement=n;const r=this._decodeOnLoadImage(n);return n.src=e,r}decodeFromVideoUrl(e){if(!e)throw new A("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),r=this.decodeFromVideoElement(n);return n.src=e,r}decodeFromVideoUrlContinuously(e,n){if(!e)throw new A("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(r,n);return r.src=e,l}_decodeOnLoadImage(e){return new Promise((n,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(n,r),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return le(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,n){return le(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,n)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n}prepareVideoElement(e){let n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}decodeOnce(e,n=!0,r=!0){this._stopAsyncDecode=!1;const l=(u,h)=>{if(this._stopAsyncDecode){h(new ee("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const g=this.decode(e);u(g)}catch(g){const y=n&&g instanceof ee,_=(g instanceof B||g instanceof H)&&r;if(y||_)return setTimeout(l,this._timeBetweenDecodingAttempts,u,h);h(g)}};return new Promise((u,h)=>l(u,h))}decodeContinuously(e,n){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(e);n(l,null),setTimeout(r,this.timeBetweenScansMillis)}catch(l){n(null,l);const u=l instanceof B||l instanceof H,h=l instanceof ee;(u||h)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const n=this.createBinaryBitmap(e);return this.decodeBitmap(n)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,n,r){n||(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}drawImageOnCanvas(e,n,r=this.captureCanvasContext){n||(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const n=this.getCaptureCanvas(e),r=new Ae(n),l=new Me(r);return new D(l)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const n=document.createElement("canvas");let r,l;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,l=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,l=e.naturalHeight||e.height)),n.style.width=r+"px",n.style.height=l+"px",n.width=r,n.height=l,n}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class Fe{constructor(e,n,r=n==null?0:8*n.length,l,u,h=R.currentTimeMillis()){this.text=e,this.rawBytes=n,this.numBits=r,this.resultPoints=l,this.format=u,this.timestamp=h,this.text=e,this.rawBytes=n,r==null?this.numBits=n==null?0:8*n.length:this.numBits=r,this.resultPoints=l,this.format=u,this.resultMetadata=null,h==null?this.timestamp=R.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){const r=new Array(n.length+e.length);R.arraycopy(n,0,r,0,n.length),R.arraycopy(e,0,r,n.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var lt;(function(T){T[T.AZTEC=0]="AZTEC",T[T.CODABAR=1]="CODABAR",T[T.CODE_39=2]="CODE_39",T[T.CODE_93=3]="CODE_93",T[T.CODE_128=4]="CODE_128",T[T.DATA_MATRIX=5]="DATA_MATRIX",T[T.EAN_8=6]="EAN_8",T[T.EAN_13=7]="EAN_13",T[T.ITF=8]="ITF",T[T.MAXICODE=9]="MAXICODE",T[T.PDF_417=10]="PDF_417",T[T.QR_CODE=11]="QR_CODE",T[T.RSS_14=12]="RSS_14",T[T.RSS_EXPANDED=13]="RSS_EXPANDED",T[T.UPC_A=14]="UPC_A",T[T.UPC_E=15]="UPC_E",T[T.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(lt||(lt={}));var we=lt,vt;(function(T){T[T.OTHER=0]="OTHER",T[T.ORIENTATION=1]="ORIENTATION",T[T.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",T[T.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",T[T.ISSUE_NUMBER=4]="ISSUE_NUMBER",T[T.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",T[T.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",T[T.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",T[T.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",T[T.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",T[T.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(vt||(vt={}));var Xe=vt;class wt{constructor(e,n,r,l,u=-1,h=-1){this.rawBytes=e,this.text=n,this.byteSegments=r,this.ecLevel=l,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=h,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Xt{exp(e){return this.expTable[e]}log(e){if(e===0)throw new I;return this.logTable[e]}static addOrSubtract(e,n){return e^n}}class $t{constructor(e,n){if(n.length===0)throw new I;this.field=e;const r=n.length;if(r>1&&n[0]===0){let l=1;for(;l<r&&n[l]===0;)l++;l===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-l),R.arraycopy(n,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const n=this.coefficients;let r;if(e===1){r=0;for(let h=0,g=n.length;h!==g;h++){const y=n[h];r=Xt.addOrSubtract(r,y)}return r}r=n[0];const l=n.length,u=this.field;for(let h=1;h<l;h++)r=Xt.addOrSubtract(u.multiply(e,r),n[h]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new I("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,r=e.coefficients;if(n.length>r.length){const h=n;n=r,r=h}let l=new Int32Array(r.length);const u=r.length-n.length;R.arraycopy(r,0,l,0,u);for(let h=u;h<r.length;h++)l[h]=Xt.addOrSubtract(n[h-u],r[h]);return new $t(this.field,l)}multiply(e){if(!this.field.equals(e.field))throw new I("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const n=this.coefficients,r=n.length,l=e.coefficients,u=l.length,h=new Int32Array(r+u-1),g=this.field;for(let y=0;y<r;y++){const b=n[y];for(let _=0;_<u;_++)h[y+_]=Xt.addOrSubtract(h[y+_],g.multiply(b,l[_]))}return new $t(g,h)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const n=this.coefficients.length,r=this.field,l=new Int32Array(n),u=this.coefficients;for(let h=0;h<n;h++)l[h]=r.multiply(u[h],e);return new $t(r,l)}multiplyByMonomial(e,n){if(e<0)throw new I;if(n===0)return this.field.getZero();const r=this.coefficients,l=r.length,u=new Int32Array(l+e),h=this.field;for(let g=0;g<l;g++)u[g]=h.multiply(r[g],n);return new $t(h,u)}divide(e){if(!this.field.equals(e.field))throw new I("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new I("Divide by 0");const n=this.field;let r=n.getZero(),l=this;const u=e.getCoefficient(e.getDegree()),h=n.inverse(u);for(;l.getDegree()>=e.getDegree()&&!l.isZero();){const g=l.getDegree()-e.getDegree(),y=n.multiply(l.getCoefficient(l.getDegree()),h),b=e.multiplyByMonomial(g,y),_=n.buildMonomial(g,y);r=r.addOrSubtract(_),l=l.addOrSubtract(b)}return[r,l]}toString(){let e="";for(let n=this.getDegree();n>=0;n--){let r=this.getCoefficient(n);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),n===0||r!==1){const l=this.field.log(r);l===0?e+="1":l===1?e+="a":(e+="a^",e+=l)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e}}class tr extends w{}tr.kind="ArithmeticException";class ct extends Xt{constructor(e,n,r){super(),this.primitive=e,this.size=n,this.generatorBase=r;const l=new Int32Array(n);let u=1;for(let g=0;g<n;g++)l[g]=u,u*=2,u>=n&&(u^=e,u&=n-1);this.expTable=l;const h=new Int32Array(n);for(let g=0;g<n-1;g++)h[l[g]]=g;this.logTable=h,this.zero=new $t(this,Int32Array.from([0])),this.one=new $t(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new I;if(n===0)return this.zero;const r=new Int32Array(e+1);return r[0]=n,new $t(this,r)}inverse(e){if(e===0)throw new tr;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+V.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}ct.AZTEC_DATA_12=new ct(4201,4096,1),ct.AZTEC_DATA_10=new ct(1033,1024,1),ct.AZTEC_DATA_6=new ct(67,64,1),ct.AZTEC_PARAM=new ct(19,16,1),ct.QR_CODE_FIELD_256=new ct(285,256,0),ct.DATA_MATRIX_FIELD_256=new ct(301,256,1),ct.AZTEC_DATA_8=ct.DATA_MATRIX_FIELD_256,ct.MAXICODE_FIELD_64=ct.AZTEC_DATA_6;class fr extends w{}fr.kind="ReedSolomonException";class Bn extends w{}Bn.kind="IllegalStateException";class Hr{constructor(e){this.field=e}decode(e,n){const r=this.field,l=new $t(r,e),u=new Int32Array(n);let h=!0;for(let L=0;L<n;L++){const G=l.evaluateAt(r.exp(L+r.getGeneratorBase()));u[u.length-1-L]=G,G!==0&&(h=!1)}if(h)return;const g=new $t(r,u),y=this.runEuclideanAlgorithm(r.buildMonomial(n,1),g,n),b=y[0],_=y[1],k=this.findErrorLocations(b),O=this.findErrorMagnitudes(_,k);for(let L=0;L<k.length;L++){const G=e.length-1-r.log(k[L]);if(G<0)throw new fr("Bad error location");e[G]=ct.addOrSubtract(e[G],O[L])}}runEuclideanAlgorithm(e,n,r){if(e.getDegree()<n.getDegree()){const L=e;e=n,n=L}const l=this.field;let u=e,h=n,g=l.getZero(),y=l.getOne();for(;h.getDegree()>=(r/2|0);){let L=u,G=g;if(u=h,g=y,u.isZero())throw new fr("r_{i-1} was zero");h=L;let Y=l.getZero();const Q=u.getCoefficient(u.getDegree()),se=l.inverse(Q);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){const ye=h.getDegree()-u.getDegree(),ve=l.multiply(h.getCoefficient(h.getDegree()),se);Y=Y.addOrSubtract(l.buildMonomial(ye,ve)),h=h.addOrSubtract(u.multiplyByMonomial(ye,ve))}if(y=Y.multiply(g).addOrSubtract(G),h.getDegree()>=u.getDegree())throw new Bn("Division algorithm failed to reduce polynomial?")}const b=y.getCoefficient(0);if(b===0)throw new fr("sigmaTilde(0) was zero");const _=l.inverse(b),k=y.multiplyScalar(_),O=h.multiplyScalar(_);return[k,O]}findErrorLocations(e){const n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(n);let l=0;const u=this.field;for(let h=1;h<u.getSize()&&l<n;h++)e.evaluateAt(h)===0&&(r[l]=u.inverse(h),l++);if(l!==n)throw new fr("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,n){const r=n.length,l=new Int32Array(r),u=this.field;for(let h=0;h<r;h++){const g=u.inverse(n[h]);let y=1;for(let b=0;b<r;b++)if(h!==b){const _=u.multiply(n[b],g),k=(_&1)===0?_|1:_&-2;y=u.multiply(y,k)}l[h]=u.multiply(e.evaluateAt(g),u.inverse(y)),u.getGeneratorBase()!==0&&(l[h]=u.multiply(l[h],g))}return l}}var jt;(function(T){T[T.UPPER=0]="UPPER",T[T.LOWER=1]="LOWER",T[T.MIXED=2]="MIXED",T[T.DIGIT=3]="DIGIT",T[T.PUNCT=4]="PUNCT",T[T.BINARY=5]="BINARY"})(jt||(jt={}));class bt{decode(e){this.ddata=e;let n=e.getBits(),r=this.extractBits(n),l=this.correctBits(r),u=bt.convertBoolArrayToByteArray(l),h=bt.getEncodedData(l),g=new wt(u,h,null,null);return g.setNumBits(l.length),g}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let n=e.length,r=jt.UPPER,l=jt.UPPER,u="",h=0;for(;h<n;)if(l===jt.BINARY){if(n-h<5)break;let g=bt.readCode(e,h,5);if(h+=5,g===0){if(n-h<11)break;g=bt.readCode(e,h,11)+31,h+=11}for(let y=0;y<g;y++){if(n-h<8){h=n;break}const b=bt.readCode(e,h,8);u+=he.castAsNonUtf8Char(b),h+=8}l=r}else{let g=l===jt.DIGIT?4:5;if(n-h<g)break;let y=bt.readCode(e,h,g);h+=g;let b=bt.getCharacter(l,y);b.startsWith("CTRL_")?(r=l,l=bt.getTable(b.charAt(5)),b.charAt(6)==="L"&&(r=l)):(u+=b,l=r)}return u}static getTable(e){switch(e){case"L":return jt.LOWER;case"P":return jt.PUNCT;case"M":return jt.MIXED;case"D":return jt.DIGIT;case"B":return jt.BINARY;case"U":default:return jt.UPPER}}static getCharacter(e,n){switch(e){case jt.UPPER:return bt.UPPER_TABLE[n];case jt.LOWER:return bt.LOWER_TABLE[n];case jt.MIXED:return bt.MIXED_TABLE[n];case jt.PUNCT:return bt.PUNCT_TABLE[n];case jt.DIGIT:return bt.DIGIT_TABLE[n];default:throw new Bn("Bad table")}}correctBits(e){let n,r;this.ddata.getNbLayers()<=2?(r=6,n=ct.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=ct.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=ct.AZTEC_DATA_10):(r=12,n=ct.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),u=e.length/r;if(u<l)throw new H;let h=e.length%r,g=new Int32Array(u);for(let O=0;O<u;O++,h+=r)g[O]=bt.readCode(e,h,r);try{new Hr(n).decode(g,u-l)}catch(O){throw new H(O)}let y=(1<<r)-1,b=0;for(let O=0;O<l;O++){let L=g[O];if(L===0||L===y)throw new H;(L===1||L===y-1)&&b++}let _=new Array(l*r-b),k=0;for(let O=0;O<l;O++){let L=g[O];if(L===1||L===y-1)_.fill(L>1,k,k+r-1),k+=r-1;else for(let G=r-1;G>=0;--G)_[k++]=(L&1<<G)!==0}return _}extractBits(e){let n=this.ddata.isCompact(),r=this.ddata.getNbLayers(),l=(n?11:14)+r*4,u=new Int32Array(l),h=new Array(this.totalBitsInLayer(r,n));if(n)for(let g=0;g<u.length;g++)u[g]=g;else{let g=l+1+2*V.truncDivision(V.truncDivision(l,2)-1,15),y=l/2,b=V.truncDivision(g,2);for(let _=0;_<y;_++){let k=_+V.truncDivision(_,15);u[y-_-1]=b-k-1,u[y+_]=b+k+1}}for(let g=0,y=0;g<r;g++){let b=(r-g)*4+(n?9:12),_=g*2,k=l-1-_;for(let O=0;O<b;O++){let L=O*2;for(let G=0;G<2;G++)h[y+L+G]=e.get(u[_+G],u[_+O]),h[y+2*b+L+G]=e.get(u[_+O],u[k-G]),h[y+4*b+L+G]=e.get(u[k-G],u[k-O]),h[y+6*b+L+G]=e.get(u[k-O],u[_+G])}y+=b*8}return h}static readCode(e,n,r){let l=0;for(let u=n;u<n+r;u++)l<<=1,e[u]&&(l|=1);return l}static readByte(e,n){let r=e.length-n;return r>=8?bt.readCode(e,n,8):bt.readCode(e,n,r)<<8-r}static convertBoolArrayToByteArray(e){let n=new Uint8Array((e.length+7)/8);for(let r=0;r<n.length;r++)n[r]=bt.readByte(e,8*r);return n}totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}bt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],bt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],bt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],bt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],bt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class rt{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,n,r,l){const u=e-r,h=n-l;return Math.sqrt(u*u+h*h)}static sum(e){let n=0;for(let r=0,l=e.length;r!==l;r++){const u=e[r];n+=u}return n}}class $n{static floatToIntBits(e){return e}}$n.MAX_VALUE=Number.MAX_SAFE_INTEGER;class je{constructor(e,n){this.x=e,this.y=n}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof je){const n=e;return this.x===n.x&&this.y===n.y}return!1}hashCode(){return 31*$n.floatToIntBits(this.x)+$n.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const n=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),l=this.distance(e[0],e[2]);let u,h,g;if(r>=n&&r>=l?(h=e[0],u=e[1],g=e[2]):l>=r&&l>=n?(h=e[1],u=e[0],g=e[2]):(h=e[2],u=e[0],g=e[1]),this.crossProductZ(u,h,g)<0){const y=u;u=g,g=y}e[0]=u,e[1]=h,e[2]=g}static distance(e,n){return rt.distance(e.x,e.y,n.x,n.y)}static crossProductZ(e,n,r){const l=n.x,u=n.y;return(r.x-l)*(e.y-u)-(r.y-u)*(e.x-l)}}class ni{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class vs extends ni{constructor(e,n,r,l,u){super(e,n),this.compact=r,this.nbDatablocks=l,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ee{constructor(e,n,r,l){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=Ee.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),l==null&&(l=e.getHeight()/2|0);const u=n/2|0;if(this.leftInit=r-u,this.rightInit=r+u,this.upInit=l-u,this.downInit=l+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ee}detect(){let e=this.leftInit,n=this.rightInit,r=this.upInit,l=this.downInit,u=!1,h=!0,g=!1,y=!1,b=!1,_=!1,k=!1;const O=this.width,L=this.height;for(;h;){h=!1;let G=!0;for(;(G||!y)&&n<O;)G=this.containsBlackPoint(r,l,n,!1),G?(n++,h=!0,y=!0):y||n++;if(n>=O){u=!0;break}let Y=!0;for(;(Y||!b)&&l<L;)Y=this.containsBlackPoint(e,n,l,!0),Y?(l++,h=!0,b=!0):b||l++;if(l>=L){u=!0;break}let Q=!0;for(;(Q||!_)&&e>=0;)Q=this.containsBlackPoint(r,l,e,!1),Q?(e--,h=!0,_=!0):_||e--;if(e<0){u=!0;break}let se=!0;for(;(se||!k)&&r>=0;)se=this.containsBlackPoint(e,n,r,!0),se?(r--,h=!0,k=!0):k||r--;if(r<0){u=!0;break}h&&(g=!0)}if(!u&&g){const G=n-e;let Y=null;for(let ve=1;Y===null&&ve<G;ve++)Y=this.getBlackPointOnSegment(e,l-ve,e+ve,l);if(Y==null)throw new ee;let Q=null;for(let ve=1;Q===null&&ve<G;ve++)Q=this.getBlackPointOnSegment(e,r+ve,e+ve,r);if(Q==null)throw new ee;let se=null;for(let ve=1;se===null&&ve<G;ve++)se=this.getBlackPointOnSegment(n,r+ve,n-ve,r);if(se==null)throw new ee;let ye=null;for(let ve=1;ye===null&&ve<G;ve++)ye=this.getBlackPointOnSegment(n,l-ve,n-ve,l);if(ye==null)throw new ee;return this.centerEdges(ye,Y,se,Q)}else throw new ee}getBlackPointOnSegment(e,n,r,l){const u=rt.round(rt.distance(e,n,r,l)),h=(r-e)/u,g=(l-n)/u,y=this.image;for(let b=0;b<u;b++){const _=rt.round(e+b*h),k=rt.round(n+b*g);if(y.get(_,k))return new je(_,k)}return null}centerEdges(e,n,r,l){const u=e.getX(),h=e.getY(),g=n.getX(),y=n.getY(),b=r.getX(),_=r.getY(),k=l.getX(),O=l.getY(),L=Ee.CORR;return u<this.width/2?[new je(k-L,O+L),new je(g+L,y+L),new je(b-L,_-L),new je(u+L,h-L)]:[new je(k+L,O+L),new je(g+L,y-L),new je(b-L,_+L),new je(u-L,h-L)]}containsBlackPoint(e,n,r,l){const u=this.image;if(l){for(let h=e;h<=n;h++)if(u.get(h,r))return!0}else for(let h=e;h<=n;h++)if(u.get(r,h))return!0;return!1}}Ee.INIT_SIZE=10,Ee.CORR=1;class Ve{static checkAndNudgePoints(e,n){const r=e.getWidth(),l=e.getHeight();let u=!0;for(let h=0;h<n.length&&u;h+=2){const g=Math.floor(n[h]),y=Math.floor(n[h+1]);if(g<-1||g>r||y<-1||y>l)throw new ee;u=!1,g===-1?(n[h]=0,u=!0):g===r&&(n[h]=r-1,u=!0),y===-1?(n[h+1]=0,u=!0):y===l&&(n[h+1]=l-1,u=!0)}u=!0;for(let h=n.length-2;h>=0&&u;h-=2){const g=Math.floor(n[h]),y=Math.floor(n[h+1]);if(g<-1||g>r||y<-1||y>l)throw new ee;u=!1,g===-1?(n[h]=0,u=!0):g===r&&(n[h]=r-1,u=!0),y===-1?(n[h+1]=0,u=!0):y===l&&(n[h+1]=l-1,u=!0)}}}class gt{constructor(e,n,r,l,u,h,g,y,b){this.a11=e,this.a21=n,this.a31=r,this.a12=l,this.a22=u,this.a32=h,this.a13=g,this.a23=y,this.a33=b}static quadrilateralToQuadrilateral(e,n,r,l,u,h,g,y,b,_,k,O,L,G,Y,Q){const se=gt.quadrilateralToSquare(e,n,r,l,u,h,g,y);return gt.squareToQuadrilateral(b,_,k,O,L,G,Y,Q).times(se)}transformPoints(e){const n=e.length,r=this.a11,l=this.a12,u=this.a13,h=this.a21,g=this.a22,y=this.a23,b=this.a31,_=this.a32,k=this.a33;for(let O=0;O<n;O+=2){const L=e[O],G=e[O+1],Y=u*L+y*G+k;e[O]=(r*L+h*G+b)/Y,e[O+1]=(l*L+g*G+_)/Y}}transformPointsWithValues(e,n){const r=this.a11,l=this.a12,u=this.a13,h=this.a21,g=this.a22,y=this.a23,b=this.a31,_=this.a32,k=this.a33,O=e.length;for(let L=0;L<O;L++){const G=e[L],Y=n[L],Q=u*G+y*Y+k;e[L]=(r*G+h*Y+b)/Q,n[L]=(l*G+g*Y+_)/Q}}static squareToQuadrilateral(e,n,r,l,u,h,g,y){const b=e-r+u-g,_=n-l+h-y;if(b===0&&_===0)return new gt(r-e,u-r,e,l-n,h-l,n,0,0,1);{const k=r-u,O=g-u,L=l-h,G=y-h,Y=k*G-O*L,Q=(b*G-O*_)/Y,se=(k*_-b*L)/Y;return new gt(r-e+Q*r,g-e+se*g,e,l-n+Q*l,y-n+se*y,n,Q,se,1)}}static quadrilateralToSquare(e,n,r,l,u,h,g,y){return gt.squareToQuadrilateral(e,n,r,l,u,h,g,y).buildAdjoint()}buildAdjoint(){return new gt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new gt(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Wt extends Ve{sampleGrid(e,n,r,l,u,h,g,y,b,_,k,O,L,G,Y,Q,se,ye,ve){const pe=gt.quadrilateralToQuadrilateral(l,u,h,g,y,b,_,k,O,L,G,Y,Q,se,ye,ve);return this.sampleGridWithTransform(e,n,r,pe)}sampleGridWithTransform(e,n,r,l){if(n<=0||r<=0)throw new ee;const u=new _e(n,r),h=new Float32Array(2*n);for(let g=0;g<r;g++){const y=h.length,b=g+.5;for(let _=0;_<y;_+=2)h[_]=_/2+.5,h[_+1]=b;l.transformPoints(h),Ve.checkAndNudgePoints(e,h);try{for(let _=0;_<y;_+=2)e.get(Math.floor(h[_]),Math.floor(h[_+1]))&&u.set(_/2,g)}catch{throw new ee}}return u}}class Dt{static setGridSampler(e){Dt.gridSampler=e}static getInstance(){return Dt.gridSampler}}Dt.gridSampler=new Wt;class Kt{constructor(e,n){this.x=e,this.y=n}toResultPoint(){return new je(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Kn{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let n=this.getMatrixCenter(),r=this.getBullsEyeCorners(n);if(e){let h=r[0];r[0]=r[2],r[2]=h}this.extractParameters(r);let l=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),u=this.getMatrixCornerPoints(r);return new vs(l,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new ee;let n=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(r,n);let l=0;for(let h=0;h<4;h++){let g=r[(this.shift+h)%4];this.compact?(l<<=7,l+=g>>1&127):(l<<=10,l+=(g>>2&992)+(g>>1&31))}let u=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(e,n){let r=0;e.forEach((l,u,h)=>{let g=(l>>n-2<<1)+(l&1);r=(r<<3)+g}),r=((r&1)<<11)+(r>>1);for(let l=0;l<4;l++)if(V.bitCount(r^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new ee}getCorrectedParameterData(e,n){let r,l;n?(r=7,l=2):(r=10,l=4);let u=r-l,h=new Int32Array(r);for(let y=r-1;y>=0;--y)h[y]=e&15,e>>=4;try{new Hr(ct.AZTEC_PARAM).decode(h,u)}catch{throw new ee}let g=0;for(let y=0;y<l;y++)g=(g<<4)+h[y];return g}getBullsEyeCorners(e){let n=e,r=e,l=e,u=e,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let k=this.getFirstDifferent(n,h,1,-1),O=this.getFirstDifferent(r,h,1,1),L=this.getFirstDifferent(l,h,-1,1),G=this.getFirstDifferent(u,h,-1,-1);if(this.nbCenterLayers>2){let Y=this.distancePoint(G,k)*this.nbCenterLayers/(this.distancePoint(u,n)*(this.nbCenterLayers+2));if(Y<.75||Y>1.25||!this.isWhiteOrBlackRectangle(k,O,L,G))break}n=k,r=O,l=L,u=G,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ee;this.compact=this.nbCenterLayers===5;let g=new je(n.getX()+.5,n.getY()-.5),y=new je(r.getX()+.5,r.getY()+.5),b=new je(l.getX()-.5,l.getY()+.5),_=new je(u.getX()-.5,u.getY()-.5);return this.expandSquare([g,y,b,_],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,n,r,l;try{let g=new Ee(this.image).detect();e=g[0],n=g[1],r=g[2],l=g[3]}catch{let y=this.image.getWidth()/2,b=this.image.getHeight()/2;e=this.getFirstDifferent(new Kt(y+7,b-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Kt(y+7,b+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Kt(y-7,b+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Kt(y-7,b-7),!1,-1,-1).toResultPoint()}let u=rt.round((e.getX()+l.getX()+n.getX()+r.getX())/4),h=rt.round((e.getY()+l.getY()+n.getY()+r.getY())/4);try{let g=new Ee(this.image,15,u,h).detect();e=g[0],n=g[1],r=g[2],l=g[3]}catch{e=this.getFirstDifferent(new Kt(u+7,h-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Kt(u+7,h+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Kt(u-7,h+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Kt(u-7,h-7),!1,-1,-1).toResultPoint()}return u=rt.round((e.getX()+l.getX()+n.getX()+r.getX())/4),h=rt.round((e.getY()+l.getY()+n.getY()+r.getY())/4),new Kt(u,h)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,n,r,l,u){let h=Dt.getInstance(),g=this.getDimension(),y=g/2-this.nbCenterLayers,b=g/2+this.nbCenterLayers;return h.sampleGrid(e,g,g,y,y,b,y,b,b,y,b,n.getX(),n.getY(),r.getX(),r.getY(),l.getX(),l.getY(),u.getX(),u.getY())}sampleLine(e,n,r){let l=0,u=this.distanceResultPoint(e,n),h=u/r,g=e.getX(),y=e.getY(),b=h*(n.getX()-e.getX())/u,_=h*(n.getY()-e.getY())/u;for(let k=0;k<r;k++)this.image.get(rt.round(g+k*b),rt.round(y+k*_))&&(l|=1<<r-k-1);return l}isWhiteOrBlackRectangle(e,n,r,l){let u=3;e=new Kt(e.getX()-u,e.getY()+u),n=new Kt(n.getX()-u,n.getY()-u),r=new Kt(r.getX()+u,r.getY()-u),l=new Kt(l.getX()+u,l.getY()+u);let h=this.getColor(l,e);if(h===0)return!1;let g=this.getColor(e,n);return g!==h||(g=this.getColor(n,r),g!==h)?!1:(g=this.getColor(r,l),g===h)}getColor(e,n){let r=this.distancePoint(e,n),l=(n.getX()-e.getX())/r,u=(n.getY()-e.getY())/r,h=0,g=e.getX(),y=e.getY(),b=this.image.get(e.getX(),e.getY()),_=Math.ceil(r);for(let O=0;O<_;O++)g+=l,y+=u,this.image.get(rt.round(g),rt.round(y))!==b&&h++;let k=h/r;return k>.1&&k<.9?0:k<=.1===b?1:-1}getFirstDifferent(e,n,r,l){let u=e.getX()+r,h=e.getY()+l;for(;this.isValid(u,h)&&this.image.get(u,h)===n;)u+=r,h+=l;for(u-=r,h-=l;this.isValid(u,h)&&this.image.get(u,h)===n;)u+=r;for(u-=r;this.isValid(u,h)&&this.image.get(u,h)===n;)h+=l;return h-=l,new Kt(u,h)}expandSquare(e,n,r){let l=r/(2*n),u=e[0].getX()-e[2].getX(),h=e[0].getY()-e[2].getY(),g=(e[0].getX()+e[2].getX())/2,y=(e[0].getY()+e[2].getY())/2,b=new je(g+l*u,y+l*h),_=new je(g-l*u,y-l*h);u=e[1].getX()-e[3].getX(),h=e[1].getY()-e[3].getY(),g=(e[1].getX()+e[3].getX())/2,y=(e[1].getY()+e[3].getY())/2;let k=new je(g+l*u,y+l*h),O=new je(g-l*u,y-l*h);return[b,k,_,O]}isValid(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()}isValidPoint(e){let n=rt.round(e.getX()),r=rt.round(e.getY());return this.isValid(n,r)}distancePoint(e,n){return rt.distance(e.getX(),e.getY(),n.getX(),n.getY())}distanceResultPoint(e,n){return rt.distance(e.getX(),e.getY(),n.getX(),n.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(V.truncDivision(this.nbLayers-4,8)+1)+15}}class nr{decode(e,n=null){let r=null,l=new Kn(e.getBlackMatrix()),u=null,h=null;try{let _=l.detectMirror(!1);u=_.getPoints(),this.reportFoundResultPoints(n,u),h=new bt().decode(_)}catch(_){r=_}if(h==null)try{let _=l.detectMirror(!0);u=_.getPoints(),this.reportFoundResultPoints(n,u),h=new bt().decode(_)}catch(_){throw r??_}let g=new Fe(h.getText(),h.getRawBytes(),h.getNumBits(),u,we.AZTEC,R.currentTimeMillis()),y=h.getByteSegments();y!=null&&g.putMetadata(Xe.BYTE_SEGMENTS,y);let b=h.getECLevel();return b!=null&&g.putMetadata(Xe.ERROR_CORRECTION_LEVEL,b),g}reportFoundResultPoints(e,n){if(e!=null){let r=e.get(de.NEED_RESULT_POINT_CALLBACK);r!=null&&n.forEach((l,u,h)=>{r.foundPossibleResultPoint(l)})}}reset(){}}class ws extends Qe{constructor(e=500){super(new nr,e)}}class Mt{decode(e,n){try{return this.doDecode(e,n)}catch{if(n&&n.get(de.TRY_HARDER)===!0&&e.isRotateSupported()){const u=e.rotateCounterClockwise(),h=this.doDecode(u,n),g=h.getResultMetadata();let y=270;g!==null&&g.get(Xe.ORIENTATION)===!0&&(y=y+g.get(Xe.ORIENTATION)%360),h.putMetadata(Xe.ORIENTATION,y);const b=h.getResultPoints();if(b!==null){const _=u.getHeight();for(let k=0;k<b.length;k++)b[k]=new je(_-b[k].getY()-1,b[k].getX())}return h}else throw new ee}}reset(){}doDecode(e,n){const r=e.getWidth(),l=e.getHeight();let u=new ie(r);const h=n&&n.get(de.TRY_HARDER)===!0,g=Math.max(1,l>>(h?8:5));let y;h?y=l:y=15;const b=Math.trunc(l/2);for(let _=0;_<y;_++){const k=Math.trunc((_+1)/2),O=(_&1)===0,L=b+g*(O?k:-k);if(L<0||L>=l)break;try{u=e.getBlackRow(L,u)}catch{continue}for(let G=0;G<2;G++){if(G===1&&(u.reverse(),n&&n.get(de.NEED_RESULT_POINT_CALLBACK)===!0)){const Y=new Map;n.forEach((Q,se)=>Y.set(se,Q)),Y.delete(de.NEED_RESULT_POINT_CALLBACK),n=Y}try{const Y=this.decodeRow(L,u,n);if(G===1){Y.putMetadata(Xe.ORIENTATION,180);const Q=Y.getResultPoints();Q!==null&&(Q[0]=new je(r-Q[0].getX()-1,Q[0].getY()),Q[1]=new je(r-Q[1].getX()-1,Q[1].getY()))}return Y}catch{}}}throw new ee}static recordPattern(e,n,r){const l=r.length;for(let b=0;b<l;b++)r[b]=0;const u=e.getSize();if(n>=u)throw new ee;let h=!e.get(n),g=0,y=n;for(;y<u;){if(e.get(y)!==h)r[g]++;else{if(++g===l)break;r[g]=1,h=!h}y++}if(!(g===l||g===l-1&&y===u))throw new ee}static recordPatternInReverse(e,n,r){let l=r.length,u=e.get(n);for(;n>0&&l>=0;)e.get(--n)!==u&&(l--,u=!u);if(l>=0)throw new ee;Mt.recordPattern(e,n+1,r)}static patternMatchVariance(e,n,r){const l=e.length;let u=0,h=0;for(let b=0;b<l;b++)u+=e[b],h+=n[b];if(u<h)return Number.POSITIVE_INFINITY;const g=u/h;r*=g;let y=0;for(let b=0;b<l;b++){const _=e[b],k=n[b]*g,O=_>k?_-k:k-_;if(O>r)return Number.POSITIVE_INFINITY;y+=O}return y/u}}class Ce extends Mt{static findStartPattern(e){const n=e.getSize(),r=e.getNextSet(0);let l=0,u=Int32Array.from([0,0,0,0,0,0]),h=r,g=!1;const y=6;for(let b=r;b<n;b++)if(e.get(b)!==g)u[l]++;else{if(l===y-1){let _=Ce.MAX_AVG_VARIANCE,k=-1;for(let O=Ce.CODE_START_A;O<=Ce.CODE_START_C;O++){const L=Mt.patternMatchVariance(u,Ce.CODE_PATTERNS[O],Ce.MAX_INDIVIDUAL_VARIANCE);L<_&&(_=L,k=O)}if(k>=0&&e.isRange(Math.max(0,h-(b-h)/2),h,!1))return Int32Array.from([h,b,k]);h+=u[0]+u[1],u=u.slice(2,u.length-1),u[l-1]=0,u[l]=0,l--}else l++;u[l]=1,g=!g}throw new ee}static decodeCode(e,n,r){Mt.recordPattern(e,r,n);let l=Ce.MAX_AVG_VARIANCE,u=-1;for(let h=0;h<Ce.CODE_PATTERNS.length;h++){const g=Ce.CODE_PATTERNS[h],y=this.patternMatchVariance(n,g,Ce.MAX_INDIVIDUAL_VARIANCE);y<l&&(l=y,u=h)}if(u>=0)return u;throw new ee}decodeRow(e,n,r){const l=r&&r.get(de.ASSUME_GS1)===!0,u=Ce.findStartPattern(n),h=u[2];let g=0;const y=new Uint8Array(20);y[g++]=h;let b;switch(h){case Ce.CODE_START_A:b=Ce.CODE_CODE_A;break;case Ce.CODE_START_B:b=Ce.CODE_CODE_B;break;case Ce.CODE_START_C:b=Ce.CODE_CODE_C;break;default:throw new H}let _=!1,k=!1,O="",L=u[0],G=u[1];const Y=Int32Array.from([0,0,0,0,0,0]);let Q=0,se=0,ye=h,ve=0,pe=!0,ut=!1,tt=!1;for(;!_;){const qr=k;switch(k=!1,Q=se,se=Ce.decodeCode(n,Y,G),y[g++]=se,se!==Ce.CODE_STOP&&(pe=!0),se!==Ce.CODE_STOP&&(ve++,ye+=ve*se),L=G,G+=Y.reduce((Gi,vo)=>Gi+vo,0),se){case Ce.CODE_START_A:case Ce.CODE_START_B:case Ce.CODE_START_C:throw new H}switch(b){case Ce.CODE_CODE_A:if(se<64)tt===ut?O+=String.fromCharCode(32+se):O+=String.fromCharCode(32+se+128),tt=!1;else if(se<96)tt===ut?O+=String.fromCharCode(se-64):O+=String.fromCharCode(se+64),tt=!1;else switch(se!==Ce.CODE_STOP&&(pe=!1),se){case Ce.CODE_FNC_1:l&&(O.length===0?O+="]C1":O+="");break;case Ce.CODE_FNC_2:case Ce.CODE_FNC_3:break;case Ce.CODE_FNC_4_A:!ut&&tt?(ut=!0,tt=!1):ut&&tt?(ut=!1,tt=!1):tt=!0;break;case Ce.CODE_SHIFT:k=!0,b=Ce.CODE_CODE_B;break;case Ce.CODE_CODE_B:b=Ce.CODE_CODE_B;break;case Ce.CODE_CODE_C:b=Ce.CODE_CODE_C;break;case Ce.CODE_STOP:_=!0;break}break;case Ce.CODE_CODE_B:if(se<96)tt===ut?O+=String.fromCharCode(32+se):O+=String.fromCharCode(32+se+128),tt=!1;else switch(se!==Ce.CODE_STOP&&(pe=!1),se){case Ce.CODE_FNC_1:l&&(O.length===0?O+="]C1":O+="");break;case Ce.CODE_FNC_2:case Ce.CODE_FNC_3:break;case Ce.CODE_FNC_4_B:!ut&&tt?(ut=!0,tt=!1):ut&&tt?(ut=!1,tt=!1):tt=!0;break;case Ce.CODE_SHIFT:k=!0,b=Ce.CODE_CODE_A;break;case Ce.CODE_CODE_A:b=Ce.CODE_CODE_A;break;case Ce.CODE_CODE_C:b=Ce.CODE_CODE_C;break;case Ce.CODE_STOP:_=!0;break}break;case Ce.CODE_CODE_C:if(se<100)se<10&&(O+="0"),O+=se;else switch(se!==Ce.CODE_STOP&&(pe=!1),se){case Ce.CODE_FNC_1:l&&(O.length===0?O+="]C1":O+="");break;case Ce.CODE_CODE_A:b=Ce.CODE_CODE_A;break;case Ce.CODE_CODE_B:b=Ce.CODE_CODE_B;break;case Ce.CODE_STOP:_=!0;break}break}qr&&(b=b===Ce.CODE_CODE_A?Ce.CODE_CODE_B:Ce.CODE_CODE_A)}const Hn=G-L;if(G=n.getNextUnset(G),!n.isRange(G,Math.min(n.getSize(),G+(G-L)/2),!1))throw new ee;if(ye-=ve*Q,ye%103!==Q)throw new B;const br=O.length;if(br===0)throw new ee;br>0&&pe&&(b===Ce.CODE_CODE_C?O=O.substring(0,br-2):O=O.substring(0,br-1));const fn=(u[1]+u[0])/2,St=L+Hn/2,Jt=y.length,Rn=new Uint8Array(Jt);for(let qr=0;qr<Jt;qr++)Rn[qr]=y[qr];const vi=[new je(fn,e),new je(St,e)];return new Fe(O,Rn,0,vi,we.CODE_128,new Date().getTime())}}Ce.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ce.MAX_AVG_VARIANCE=.25,Ce.MAX_INDIVIDUAL_VARIANCE=.7,Ce.CODE_SHIFT=98,Ce.CODE_CODE_C=99,Ce.CODE_CODE_B=100,Ce.CODE_CODE_A=101,Ce.CODE_FNC_1=102,Ce.CODE_FNC_2=97,Ce.CODE_FNC_3=96,Ce.CODE_FNC_4_A=101,Ce.CODE_FNC_4_B=100,Ce.CODE_START_A=103,Ce.CODE_START_B=104,Ce.CODE_START_C=105,Ce.CODE_STOP=106;class Vt extends Mt{constructor(e=!1,n=!1){super(),this.usingCheckDigit=e,this.extendedMode=n,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,n,r){let l=this.counters;l.fill(0),this.decodeRowResult="";let u=Vt.findAsteriskPattern(n,l),h=n.getNextSet(u[1]),g=n.getSize(),y,b;do{Vt.recordPattern(n,h,l);let Y=Vt.toNarrowWidePattern(l);if(Y<0)throw new ee;y=Vt.patternToChar(Y),this.decodeRowResult+=y,b=h;for(let Q of l)h+=Q;h=n.getNextSet(h)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let _=0;for(let Y of l)_+=Y;let k=h-b-_;if(h!==g&&k*2<_)throw new ee;if(this.usingCheckDigit){let Y=this.decodeRowResult.length-1,Q=0;for(let se=0;se<Y;se++)Q+=Vt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(se));if(this.decodeRowResult.charAt(Y)!==Vt.ALPHABET_STRING.charAt(Q%43))throw new B;this.decodeRowResult=this.decodeRowResult.substring(0,Y)}if(this.decodeRowResult.length===0)throw new ee;let O;this.extendedMode?O=Vt.decodeExtended(this.decodeRowResult):O=this.decodeRowResult;let L=(u[1]+u[0])/2,G=b+_/2;return new Fe(O,null,0,[new je(L,e),new je(G,e)],we.CODE_39,new Date().getTime())}static findAsteriskPattern(e,n){let r=e.getSize(),l=e.getNextSet(0),u=0,h=l,g=!1,y=n.length;for(let b=l;b<r;b++)if(e.get(b)!==g)n[u]++;else{if(u===y-1){if(this.toNarrowWidePattern(n)===Vt.ASTERISK_ENCODING&&e.isRange(Math.max(0,h-Math.floor((b-h)/2)),h,!1))return[h,b];h+=n[0]+n[1],n.copyWithin(0,2,2+u-1),n[u-1]=0,n[u]=0,u--}else u++;n[u]=1,g=!g}throw new ee}static toNarrowWidePattern(e){let n=e.length,r=0,l;do{let u=2147483647;for(let y of e)y<u&&y>r&&(u=y);r=u,l=0;let h=0,g=0;for(let y=0;y<n;y++){let b=e[y];b>r&&(g|=1<<n-1-y,l++,h+=b)}if(l===3){for(let y=0;y<n&&l>0;y++){let b=e[y];if(b>r&&(l--,b*2>=h))return-1}return g}}while(l>3);return-1}static patternToChar(e){for(let n=0;n<Vt.CHARACTER_ENCODINGS.length;n++)if(Vt.CHARACTER_ENCODINGS[n]===e)return Vt.ALPHABET_STRING.charAt(n);if(e===Vt.ASTERISK_ENCODING)return"*";throw new ee}static decodeExtended(e){let n=e.length,r="";for(let l=0;l<n;l++){let u=e.charAt(l);if(u==="+"||u==="$"||u==="%"||u==="/"){let h=e.charAt(l+1),g="\0";switch(u){case"+":if(h>="A"&&h<="Z")g=String.fromCharCode(h.charCodeAt(0)+32);else throw new H;break;case"$":if(h>="A"&&h<="Z")g=String.fromCharCode(h.charCodeAt(0)-64);else throw new H;break;case"%":if(h>="A"&&h<="E")g=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")g=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")g=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")g=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")g="\0";else if(h==="V")g="@";else if(h==="W")g="`";else if(h==="X"||h==="Y"||h==="Z")g="";else throw new H;break;case"/":if(h>="A"&&h<="O")g=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")g=":";else throw new H;break}r+=g,l++}else r+=u}return r}}Vt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Vt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Vt.ASTERISK_ENCODING=148;class xt extends Mt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,n,r){let l=this.decodeStart(n),u=this.decodeEnd(n),h=new ce;xt.decodeMiddle(n,l[1],u[0],h);let g=h.toString(),y=null;r!=null&&(y=r.get(de.ALLOWED_LENGTHS)),y==null&&(y=xt.DEFAULT_ALLOWED_LENGTHS);let b=g.length,_=!1,k=0;for(let G of y){if(b===G){_=!0;break}G>k&&(k=G)}if(!_&&b>k&&(_=!0),!_)throw new H;const O=[new je(l[1],e),new je(u[0],e)];return new Fe(g,null,0,O,we.ITF,new Date().getTime())}static decodeMiddle(e,n,r,l){let u=new Int32Array(10),h=new Int32Array(5),g=new Int32Array(5);for(u.fill(0),h.fill(0),g.fill(0);n<r;){Mt.recordPattern(e,n,u);for(let b=0;b<5;b++){let _=2*b;h[b]=u[_],g[b]=u[_+1]}let y=xt.decodeDigit(h);l.append(y.toString()),y=this.decodeDigit(g),l.append(y.toString()),u.forEach(function(b){n+=b})}}decodeStart(e){let n=xt.skipWhiteSpace(e),r=xt.findGuardPattern(e,n,xt.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,n){let r=this.narrowLineWidth*10;r=r<n?r:n;for(let l=n-1;r>0&&l>=0&&!e.get(l);l--)r--;if(r!==0)throw new ee}static skipWhiteSpace(e){const n=e.getSize(),r=e.getNextSet(0);if(r===n)throw new ee;return r}decodeEnd(e){e.reverse();try{let n=xt.skipWhiteSpace(e),r;try{r=xt.findGuardPattern(e,n,xt.END_PATTERN_REVERSED[0])}catch(u){u instanceof ee&&(r=xt.findGuardPattern(e,n,xt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);let l=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-l,r}finally{e.reverse()}}static findGuardPattern(e,n,r){let l=r.length,u=new Int32Array(l),h=e.getSize(),g=!1,y=0,b=n;u.fill(0);for(let _=n;_<h;_++)if(e.get(_)!==g)u[y]++;else{if(y===l-1){if(Mt.patternMatchVariance(u,r,xt.MAX_INDIVIDUAL_VARIANCE)<xt.MAX_AVG_VARIANCE)return[b,_];b+=u[0]+u[1],R.arraycopy(u,2,u,0,y-1),u[y-1]=0,u[y]=0,y--}else y++;u[y]=1,g=!g}throw new ee}static decodeDigit(e){let n=xt.MAX_AVG_VARIANCE,r=-1,l=xt.PATTERNS.length;for(let u=0;u<l;u++){let h=xt.PATTERNS[u],g=Mt.patternMatchVariance(e,h,xt.MAX_INDIVIDUAL_VARIANCE);g<n?(n=g,r=u):g===n&&(r=-1)}if(r>=0)return r%10;throw new ee}}xt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],xt.MAX_AVG_VARIANCE=.38,xt.MAX_INDIVIDUAL_VARIANCE=.5,xt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],xt.START_PATTERN=Int32Array.from([1,1,1,1]),xt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class At extends Mt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let n=!1,r,l=0,u=Int32Array.from([0,0,0]);for(;!n;){u=Int32Array.from([0,0,0]),r=At.findGuardPattern(e,l,!1,this.START_END_PATTERN,u);let h=r[0];l=r[1];let g=h-(l-h);g>=0&&(n=e.isRange(g,h,!1))}return r}static checkChecksum(e){return At.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let r=parseInt(e.charAt(n-1),10);return At.getStandardUPCEANChecksum(e.substring(0,n-1))===r}static getStandardUPCEANChecksum(e){let n=e.length,r=0;for(let l=n-1;l>=0;l-=2){let u=e.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new H;r+=u}r*=3;for(let l=n-2;l>=0;l-=2){let u=e.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new H;r+=u}return(1e3-r)%10}static decodeEnd(e,n){return At.findGuardPattern(e,n,!1,At.START_END_PATTERN,new Int32Array(At.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,n,r,l){return this.findGuardPattern(e,n,r,l,new Int32Array(l.length))}static findGuardPattern(e,n,r,l,u){let h=e.getSize();n=r?e.getNextUnset(n):e.getNextSet(n);let g=0,y=n,b=l.length,_=r;for(let k=n;k<h;k++)if(e.get(k)!==_)u[g]++;else{if(g===b-1){if(Mt.patternMatchVariance(u,l,At.MAX_INDIVIDUAL_VARIANCE)<At.MAX_AVG_VARIANCE)return Int32Array.from([y,k]);y+=u[0]+u[1];let O=u.slice(2,u.length-1);for(let L=0;L<g-1;L++)u[L]=O[L];u[g-1]=0,u[g]=0,g--}else g++;u[g]=1,_=!_}throw new ee}static decodeDigit(e,n,r,l){this.recordPattern(e,r,n);let u=this.MAX_AVG_VARIANCE,h=-1,g=l.length;for(let y=0;y<g;y++){let b=l[y],_=Mt.patternMatchVariance(n,b,At.MAX_INDIVIDUAL_VARIANCE);_<u&&(u=_,h=y)}if(h>=0)return h;throw new ee}}At.MAX_AVG_VARIANCE=.48,At.MAX_INDIVIDUAL_VARIANCE=.7,At.START_END_PATTERN=Int32Array.from([1,1,1]),At.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),At.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),At.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class pr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,r){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(n,r,l),h=l.toString(),g=pr.parseExtensionString(h),y=[new je((r[0]+r[1])/2,e),new je(u,e)],b=new Fe(h,null,0,y,we.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&b.putAllMetadata(g),b}decodeMiddle(e,n,r){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=e.getSize(),h=n[1],g=0;for(let b=0;b<5&&h<u;b++){let _=At.decodeDigit(e,l,h,At.L_AND_G_PATTERNS);r+=String.fromCharCode(48+_%10);for(let k of l)h+=k;_>=10&&(g|=1<<4-b),b!==4&&(h=e.getNextSet(h),h=e.getNextUnset(h))}if(r.length!==5)throw new ee;let y=this.determineCheckDigit(g);if(pr.extensionChecksum(r.toString())!==y)throw new ee;return h}static extensionChecksum(e){let n=e.length,r=0;for(let l=n-2;l>=0;l-=2)r+=e.charAt(l).charCodeAt(0)-48;r*=3;for(let l=n-1;l>=0;l-=2)r+=e.charAt(l).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(e){for(let n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new ee}static parseExtensionString(e){if(e.length!==5)return null;let n=pr.parseExtension5String(e);return n==null?null:new Map([[Xe.SUGGESTED_PRICE,n]])}static parseExtension5String(e){let n;switch(e.charAt(0)){case"0":n="£";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}let r=parseInt(e.substring(1)),l=(r/100).toString(),u=r%100,h=u<10?"0"+u:u.toString();return n+l+"."+h}}class pi{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,r){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(n,r,l),h=l.toString(),g=pi.parseExtensionString(h),y=[new je((r[0]+r[1])/2,e),new je(u,e)],b=new Fe(h,null,0,y,we.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&b.putAllMetadata(g),b}decodeMiddle(e,n,r){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=e.getSize(),h=n[1],g=0;for(let y=0;y<2&&h<u;y++){let b=At.decodeDigit(e,l,h,At.L_AND_G_PATTERNS);r+=String.fromCharCode(48+b%10);for(let _ of l)h+=_;b>=10&&(g|=1<<1-y),y!==1&&(h=e.getNextSet(h),h=e.getNextUnset(h))}if(r.length!==2)throw new ee;if(parseInt(r.toString())%4!==g)throw new ee;return h}static parseExtensionString(e){return e.length!==2?null:new Map([[Xe.ISSUE_NUMBER,parseInt(e)]])}}class na{static decodeRow(e,n,r){let l=At.findGuardPattern(n,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new pr().decodeRow(e,n,l)}catch{return new pi().decodeRow(e,n,l)}}}na.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class dt extends At{constructor(){super(),this.decodeRowStringBuffer="",dt.L_AND_G_PATTERNS=dt.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let n=dt.L_PATTERNS[e-10],r=new Int32Array(n.length);for(let l=0;l<n.length;l++)r[l]=n[n.length-l-1];dt.L_AND_G_PATTERNS[e]=r}}decodeRow(e,n,r){let l=dt.findStartGuardPattern(n),u=r==null?null:r.get(de.NEED_RESULT_POINT_CALLBACK);if(u!=null){const pe=new je((l[0]+l[1])/2,e);u.foundPossibleResultPoint(pe)}let h=this.decodeMiddle(n,l,this.decodeRowStringBuffer),g=h.rowOffset,y=h.resultString;if(u!=null){const pe=new je(g,e);u.foundPossibleResultPoint(pe)}let b=this.decodeEnd(n,g);if(u!=null){const pe=new je((b[0]+b[1])/2,e);u.foundPossibleResultPoint(pe)}let _=b[1],k=_+(_-b[0]);if(k>=n.getSize()||!n.isRange(_,k,!1))throw new ee;let O=y.toString();if(O.length<8)throw new H;if(!dt.checkChecksum(O))throw new B;let L=(l[1]+l[0])/2,G=(b[1]+b[0])/2,Y=this.getBarcodeFormat(),Q=[new je(L,e),new je(G,e)],se=new Fe(O,null,0,Q,Y,new Date().getTime()),ye=0;try{let pe=na.decodeRow(e,n,b[1]);se.putMetadata(Xe.UPC_EAN_EXTENSION,pe.getText()),se.putAllMetadata(pe.getResultMetadata()),se.addResultPoints(pe.getResultPoints()),ye=pe.getText().length}catch{}let ve=r==null?null:r.get(de.ALLOWED_EAN_EXTENSIONS);if(ve!=null){let pe=!1;for(let ut in ve)if(ye.toString()===ut){pe=!0;break}if(!pe)throw new ee}return se}decodeEnd(e,n){return dt.findGuardPattern(e,n,!1,dt.START_END_PATTERN,new Int32Array(dt.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return dt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let r=parseInt(e.charAt(n-1),10);return dt.getStandardUPCEANChecksum(e.substring(0,n-1))===r}static getStandardUPCEANChecksum(e){let n=e.length,r=0;for(let l=n-1;l>=0;l-=2){let u=e.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new H;r+=u}r*=3;for(let l=n-2;l>=0;l-=2){let u=e.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new H;r+=u}return(1e3-r)%10}}class rr extends dt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,r){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=e.getSize(),h=n[1],g=0;for(let b=0;b<6&&h<u;b++){let _=dt.decodeDigit(e,l,h,dt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+_%10);for(let k of l)h+=k;_>=10&&(g|=1<<5-b)}r=rr.determineFirstDigit(r,g),h=dt.findGuardPattern(e,h,!0,dt.MIDDLE_PATTERN,new Int32Array(dt.MIDDLE_PATTERN.length).fill(0))[1];for(let b=0;b<6&&h<u;b++){let _=dt.decodeDigit(e,l,h,dt.L_PATTERNS);r+=String.fromCharCode(48+_);for(let k of l)h+=k}return{rowOffset:h,resultString:r}}getBarcodeFormat(){return we.EAN_13}static determineFirstDigit(e,n){for(let r=0;r<10;r++)if(n===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode(48+r)+e,e;throw new ee}}rr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Za extends dt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,r){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=e.getSize(),h=n[1];for(let y=0;y<4&&h<u;y++){let b=dt.decodeDigit(e,l,h,dt.L_PATTERNS);r+=String.fromCharCode(48+b);for(let _ of l)h+=_}h=dt.findGuardPattern(e,h,!0,dt.MIDDLE_PATTERN,new Int32Array(dt.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<4&&h<u;y++){let b=dt.decodeDigit(e,l,h,dt.L_PATTERNS);r+=String.fromCharCode(48+b);for(let _ of l)h+=_}return{rowOffset:h,resultString:r}}getBarcodeFormat(){return we.EAN_8}}class Ja extends dt{constructor(){super(...arguments),this.ean13Reader=new rr}getBarcodeFormat(){return we.UPC_A}decode(e,n){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,n,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,n,r))}decodeMiddle(e,n,r){return this.ean13Reader.decodeMiddle(e,n,r)}maybeReturnResult(e){let n=e.getText();if(n.charAt(0)==="0"){let r=new Fe(n.substring(1),null,null,e.getResultPoints(),we.UPC_A);return e.getResultMetadata()!=null&&r.putAllMetadata(e.getResultMetadata()),r}else throw new ee}reset(){this.ean13Reader.reset()}}class ir extends dt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,n,r){const l=this.decodeMiddleCounters.map(b=>b);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const u=e.getSize();let h=n[1],g=0;for(let b=0;b<6&&h<u;b++){const _=ir.decodeDigit(e,l,h,ir.L_AND_G_PATTERNS);r+=String.fromCharCode(48+_%10);for(let k of l)h+=k;_>=10&&(g|=1<<5-b)}let y=ir.determineNumSysAndCheckDigit(r,g);return{rowOffset:h,resultString:y}}decodeEnd(e,n){return ir.findGuardPatternWithoutCounters(e,n,!0,ir.MIDDLE_END_PATTERN)}checkChecksum(e){return dt.checkChecksum(ir.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,n){for(let r=0;r<=1;r++)for(let l=0;l<10;l++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][l]){let u=String.fromCharCode(48+r),h=String.fromCharCode(48+l);return u+e+h}throw ee.getNotFoundInstance()}getBarcodeFormat(){return we.UPC_E}static convertUPCEtoUPCA(e){const n=e.slice(1,7).split("").map(u=>u.charCodeAt(0)),r=new ce;r.append(e.charAt(0));let l=n[5];switch(l){case 0:case 1:case 2:r.appendChars(n,0,2),r.append(l),r.append("0000"),r.appendChars(n,2,3);break;case 3:r.appendChars(n,0,3),r.append("00000"),r.appendChars(n,3,2);break;case 4:r.appendChars(n,0,4),r.append("00000"),r.append(n[4]);break;default:r.appendChars(n,0,5),r.append("0000"),r.append(l);break}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}ir.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ir.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ra extends Mt{constructor(e){super();let n=e==null?null:e.get(de.POSSIBLE_FORMATS),r=[];d(n)?(r.push(new rr),r.push(new Ja),r.push(new Za),r.push(new ir)):(n.indexOf(we.EAN_13)>-1&&r.push(new rr),n.indexOf(we.UPC_A)>-1&&r.push(new Ja),n.indexOf(we.EAN_8)>-1&&r.push(new Za),n.indexOf(we.UPC_E)>-1&&r.push(new ir)),this.readers=r}decodeRow(e,n,r){for(let l of this.readers)try{const u=l.decodeRow(e,n,r),h=u.getBarcodeFormat()===we.EAN_13&&u.getText().charAt(0)==="0",g=r==null?null:r.get(de.POSSIBLE_FORMATS),y=g==null||g.includes(we.UPC_A);if(h&&y){const b=u.getRawBytes(),_=new Fe(u.getText().substring(1),b,b?b.length:null,u.getResultPoints(),we.UPC_A);return _.putAllMetadata(u.getResultMetadata()),_}return u}catch{}throw new ee}reset(){for(let e of this.readers)e.reset()}}class yn extends Mt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,n){for(let r=0;r<n.length;r++)if(Mt.patternMatchVariance(e,n[r],yn.MAX_INDIVIDUAL_VARIANCE)<yn.MAX_AVG_VARIANCE)return r;throw new ee}static count(e){return rt.sum(new Int32Array(e))}static increment(e,n){let r=0,l=n[0];for(let u=1;u<e.length;u++)n[u]>l&&(l=n[u],r=u);e[r]++}static decrement(e,n){let r=0,l=n[0];for(let u=1;u<e.length;u++)n[u]<l&&(l=n[u],r=u);e[r]--}static isFinderPattern(e){let n=e[0]+e[1],r=n+e[2]+e[3],l=n/r;if(l>=yn.MIN_FINDER_PATTERN_RATIO&&l<=yn.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let g of e)g>h&&(h=g),g<u&&(u=g);return h<10*u}return!1}}yn.MAX_AVG_VARIANCE=.2,yn.MAX_INDIVIDUAL_VARIANCE=.45,yn.MIN_FINDER_PATTERN_RATIO=9.5/12,yn.MAX_FINDER_PATTERN_RATIO=12.5/14;class ri{constructor(e,n){this.value=e,this.checksumPortion=n}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof ri))return!1;const n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class bs{constructor(e,n,r,l,u){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new je(r,u)),this.resultPoints.push(new je(l,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof bs))return!1;const n=e;return this.value===n.value}hashCode(){return this.value}}class Fn{constructor(){}static getRSSvalue(e,n,r){let l=0;for(let y of e)l+=y;let u=0,h=0,g=e.length;for(let y=0;y<g-1;y++){let b;for(b=1,h|=1<<y;b<e[y];b++,h&=~(1<<y)){let _=Fn.combins(l-b-1,g-y-2);if(r&&h===0&&l-b-(g-y-1)>=g-y-1&&(_-=Fn.combins(l-b-(g-y),g-y-2)),g-y-1>1){let k=0;for(let O=l-b-(g-y-2);O>n;O--)k+=Fn.combins(l-b-O-1,g-y-3);_-=k*(g-1-y)}else l-b>n&&_--;u+=_}l-=b}return u}static combins(e,n){let r,l;e-n>n?(l=n,r=e-n):(l=e-n,r=n);let u=1,h=1;for(let g=e;g>r;g--)u*=g,h<=l&&(u/=h,h++);for(;h<=l;)u/=h,h++;return u}}class eo{static buildBitArray(e){let n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);let r=12*n,l=new ie(r),u=0,g=e[0].getRightChar().getValue();for(let y=11;y>=0;--y)(g&1<<y)!=0&&l.set(u),u++;for(let y=1;y<e.length;++y){let b=e[y],_=b.getLeftChar().getValue();for(let k=11;k>=0;--k)(_&1<<k)!=0&&l.set(u),u++;if(b.getRightChar()!=null){let k=b.getRightChar().getValue();for(let O=11;O>=0;--O)(k&1<<O)!=0&&l.set(u),u++}}return l}}class mr{constructor(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class to{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class gn extends to{constructor(e,n){super(e),this.value=n}getValue(){return this.value}isFNC1(){return this.value===gn.FNC1}}gn.FNC1="$";class kr extends to{constructor(e,n,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=n}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class On extends to{constructor(e,n,r){if(super(e),n<0||n>10||r<0||r>10)throw new H;this.firstDigit=n,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===On.FNC1}isSecondDigitFNC1(){return this.secondDigit===On.FNC1}isAnyFNC1(){return this.firstDigit===On.FNC1||this.secondDigit===On.FNC1}}On.FNC1=10;class Te{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new ee;let n=e.substring(0,2);for(let u of Te.TWO_DIGIT_DATA_LENGTH)if(u[0]===n)return u[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(2,u[2],e):Te.processFixedAI(2,u[1],e);if(e.length<3)throw new ee;let r=e.substring(0,3);for(let u of Te.THREE_DIGIT_DATA_LENGTH)if(u[0]===r)return u[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(3,u[2],e):Te.processFixedAI(3,u[1],e);for(let u of Te.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===r)return u[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(4,u[2],e):Te.processFixedAI(4,u[1],e);if(e.length<4)throw new ee;let l=e.substring(0,4);for(let u of Te.FOUR_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(4,u[2],e):Te.processFixedAI(4,u[1],e);throw new ee}static processFixedAI(e,n,r){if(r.length<e)throw new ee;let l=r.substring(0,e);if(r.length<e+n)throw new ee;let u=r.substring(e,e+n),h=r.substring(e+n),g="("+l+")"+u,y=Te.parseFieldsInGeneralPurpose(h);return y==null?g:g+y}static processVariableAI(e,n,r){let l=r.substring(0,e),u;r.length<e+n?u=r.length:u=e+n;let h=r.substring(e,u),g=r.substring(u),y="("+l+")"+h,b=Te.parseFieldsInGeneralPurpose(g);return b==null?y:y+b}}Te.VARIABLE_LENGTH=[],Te.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Te.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Te.VARIABLE_LENGTH,20],["22",Te.VARIABLE_LENGTH,29],["30",Te.VARIABLE_LENGTH,8],["37",Te.VARIABLE_LENGTH,8],["90",Te.VARIABLE_LENGTH,30],["91",Te.VARIABLE_LENGTH,30],["92",Te.VARIABLE_LENGTH,30],["93",Te.VARIABLE_LENGTH,30],["94",Te.VARIABLE_LENGTH,30],["95",Te.VARIABLE_LENGTH,30],["96",Te.VARIABLE_LENGTH,30],["97",Te.VARIABLE_LENGTH,3],["98",Te.VARIABLE_LENGTH,30],["99",Te.VARIABLE_LENGTH,30]],Te.THREE_DIGIT_DATA_LENGTH=[["240",Te.VARIABLE_LENGTH,30],["241",Te.VARIABLE_LENGTH,30],["242",Te.VARIABLE_LENGTH,6],["250",Te.VARIABLE_LENGTH,30],["251",Te.VARIABLE_LENGTH,30],["253",Te.VARIABLE_LENGTH,17],["254",Te.VARIABLE_LENGTH,20],["400",Te.VARIABLE_LENGTH,30],["401",Te.VARIABLE_LENGTH,30],["402",17],["403",Te.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Te.VARIABLE_LENGTH,20],["421",Te.VARIABLE_LENGTH,15],["422",3],["423",Te.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Te.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Te.VARIABLE_LENGTH,15],["391",Te.VARIABLE_LENGTH,18],["392",Te.VARIABLE_LENGTH,15],["393",Te.VARIABLE_LENGTH,18],["703",Te.VARIABLE_LENGTH,30]],Te.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Te.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Te.VARIABLE_LENGTH,20],["8003",Te.VARIABLE_LENGTH,30],["8004",Te.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Te.VARIABLE_LENGTH,30],["8008",Te.VARIABLE_LENGTH,12],["8018",18],["8020",Te.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Te.VARIABLE_LENGTH,70],["8200",Te.VARIABLE_LENGTH,70]];class Ri{constructor(e){this.buffer=new ce,this.information=e}decodeAllCodes(e,n){let r=n,l=null;do{let u=this.decodeGeneralPurposeField(r,l),h=Te.parseFieldsInGeneralPurpose(u.getNewString());if(h!=null&&e.append(h),u.isRemaining()?l=""+u.getRemainingValue():l=null,r===u.getNewPosition())break;r=u.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(e,4);return u===0?new On(this.information.getSize(),On.FNC1,On.FNC1):new On(this.information.getSize(),u-1,On.FNC1)}let n=this.extractNumericValueFromBitArray(e,7),r=(n-8)/11,l=(n-8)%11;return new On(e+7,r,l)}extractNumericValueFromBitArray(e,n){return Ri.extractNumericValueFromBitArray(this.information,e,n)}static extractNumericValueFromBitArray(e,n,r){let l=0;for(let u=0;u<r;++u)e.get(n+u)&&(l|=1<<r-u-1);return l}decodeGeneralPurposeField(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new kr(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new kr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,n;do{let r=this.current.getPosition();if(this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished()),!(r!==this.current.getPosition())&&!e)break}while(!e);return n.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let n;return e.isSecondDigitFNC1()?n=new kr(this.current.getPosition(),this.buffer.toString()):n=new kr(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new mr(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let n=new kr(this.current.getPosition(),this.buffer.toString());return new mr(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new mr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new kr(this.current.getPosition(),this.buffer.toString());return new mr(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new mr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new kr(this.current.getPosition(),this.buffer.toString());return new mr(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new mr(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(e,8);return l>=232&&l<253}decodeIsoIec646(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new gn(e+5,gn.FNC1);if(n>=5&&n<15)return new gn(e+5,"0"+(n-5));let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new gn(e+7,""+(r+1));if(r>=90&&r<116)return new gn(e+7,""+(r+7));let l=this.extractNumericValueFromBitArray(e,8),u;switch(l){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new H}return new gn(e+8,u)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new gn(e+5,gn.FNC1);if(n>=5&&n<15)return new gn(e+5,"0"+(n-5));let r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new gn(e+6,""+(r+33));let l;switch(r){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new Bn("Decoding invalid alphanumeric value: "+r)}return new gn(e+6,l)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0}}class no{constructor(e){this.information=e,this.generalDecoder=new Ri(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Un extends no{constructor(e){super(e)}encodeCompressedGtin(e,n){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,n,r)}encodeCompressedGtinWithoutAI(e,n,r){for(let l=0;l<4;++l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*l,10);u/100===0&&e.append("0"),u/10===0&&e.append("0"),e.append(u)}Un.appendCheckDigit(e,r)}static appendCheckDigit(e,n){let r=0;for(let l=0;l<13;l++){let u=e.charAt(l+n).charCodeAt(0)-48;r+=(l&1)===0?3*u:u}r=10-r%10,r===10&&(r=0),e.append(r)}}Un.GTIN_SIZE=40;class sr extends Un{constructor(e){super(e)}parseInformation(){let e=new ce;e.append("(01)");let n=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(sr.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,sr.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,sr.HEADER_SIZE+44)}}sr.HEADER_SIZE=4;class Cs extends no{constructor(e){super(e)}parseInformation(){let e=new ce;return this.getGeneralDecoder().decodeAllCodes(e,Cs.HEADER_SIZE)}}Cs.HEADER_SIZE=5;class Es extends Un{constructor(e){super(e)}encodeCompressedWeight(e,n,r){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(n,r);this.addWeightCode(e,l);let u=this.checkWeight(l),h=1e5;for(let g=0;g<5;++g)u/h===0&&e.append("0"),h/=10;e.append(u)}}class jr extends Es{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=jr.HEADER_SIZE+Es.GTIN_SIZE+jr.WEIGHT_SIZE)throw new ee;let e=new ce;return this.encodeCompressedGtin(e,jr.HEADER_SIZE),this.encodeCompressedWeight(e,jr.HEADER_SIZE+Es.GTIN_SIZE,jr.WEIGHT_SIZE),e.toString()}}jr.HEADER_SIZE=5,jr.WEIGHT_SIZE=15;class sl extends jr{constructor(e){super(e)}addWeightCode(e,n){e.append("(3103)")}checkWeight(e){return e}}class al extends jr{constructor(e){super(e)}addWeightCode(e,n){n<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class gr extends Un{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<gr.HEADER_SIZE+Un.GTIN_SIZE)throw new ee;let e=new ce;this.encodeCompressedGtin(e,gr.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(gr.HEADER_SIZE+Un.GTIN_SIZE,gr.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(gr.HEADER_SIZE+Un.GTIN_SIZE+gr.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}gr.HEADER_SIZE=8,gr.LAST_DIGIT_SIZE=2;class Sn extends Un{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Sn.HEADER_SIZE+Un.GTIN_SIZE)throw new ee;let e=new ce;this.encodeCompressedGtin(e,Sn.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Sn.HEADER_SIZE+Un.GTIN_SIZE,Sn.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Sn.HEADER_SIZE+Un.GTIN_SIZE+Sn.LAST_DIGIT_SIZE,Sn.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let l=this.getGeneralDecoder().decodeGeneralPurposeField(Sn.HEADER_SIZE+Un.GTIN_SIZE+Sn.LAST_DIGIT_SIZE+Sn.FIRST_THREE_DIGITS_SIZE,null);return e.append(l.getNewString()),e.toString()}}Sn.HEADER_SIZE=8,Sn.LAST_DIGIT_SIZE=2,Sn.FIRST_THREE_DIGITS_SIZE=10;class Bt extends Es{constructor(e,n,r){super(e),this.dateCode=r,this.firstAIdigits=n}parseInformation(){if(this.getInformation().getSize()!=Bt.HEADER_SIZE+Bt.GTIN_SIZE+Bt.WEIGHT_SIZE+Bt.DATE_SIZE)throw new ee;let e=new ce;return this.encodeCompressedGtin(e,Bt.HEADER_SIZE),this.encodeCompressedWeight(e,Bt.HEADER_SIZE+Bt.GTIN_SIZE,Bt.WEIGHT_SIZE),this.encodeCompressedDate(e,Bt.HEADER_SIZE+Bt.GTIN_SIZE+Bt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,n){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(n,Bt.DATE_SIZE);if(r==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let l=r%32;r/=32;let u=r%12+1;r/=12;let h=r;h/10==0&&e.append("0"),e.append(h),u/10==0&&e.append("0"),e.append(u),l/10==0&&e.append("0"),e.append(l)}addWeightCode(e,n){e.append("("),e.append(this.firstAIdigits),e.append(n/1e5),e.append(")")}checkWeight(e){return e%1e5}}Bt.HEADER_SIZE=8,Bt.WEIGHT_SIZE=20,Bt.DATE_SIZE=16;function ol(T){try{if(T.get(1))return new sr(T);if(!T.get(2))return new Cs(T);switch(Ri.extractNumericValueFromBitArray(T,1,4)){case 4:return new sl(T);case 5:return new al(T)}switch(Ri.extractNumericValueFromBitArray(T,1,5)){case 12:return new gr(T);case 13:return new Sn(T)}switch(Ri.extractNumericValueFromBitArray(T,1,7)){case 56:return new Bt(T,"310","11");case 57:return new Bt(T,"320","11");case 58:return new Bt(T,"310","13");case 59:return new Bt(T,"320","13");case 60:return new Bt(T,"310","15");case 61:return new Bt(T,"320","15");case 62:return new Bt(T,"310","17");case 63:return new Bt(T,"320","17")}}catch(e){throw console.log(e),new Bn("unknown decoder: "+T)}}class _t{constructor(e,n,r,l){this.leftchar=e,this.rightchar=n,this.finderpattern=r,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,n){return e instanceof _t?_t.equalsOrNull(e.leftchar,n.leftchar)&&_t.equalsOrNull(e.rightchar,n.rightchar)&&_t.equalsOrNull(e.finderpattern,n.finderpattern):!1}static equalsOrNull(e,n){return e===null?n===null:_t.equals(e,n)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ro{constructor(e,n,r){this.pairs=e,this.rowNumber=n,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,n){return e instanceof ro?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1}checkEqualitity(e,n){if(!e||!n)return;let r;return e.forEach((l,u)=>{n.forEach(h=>{l.getLeftChar().getValue()===h.getLeftChar().getValue()&&l.getRightChar().getValue()===h.getRightChar().getValue()&&l.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(r=!0)})}),r}}class ue extends yn{constructor(e){super(...arguments),this.pairs=new Array(ue.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,n,r){this.pairs.length=0,this.startFromEven=!1;try{return ue.constructResult(this.decodeRow2pairs(e,n))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,ue.constructResult(this.decodeRow2pairs(e,n))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,n){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,e))}catch(u){if(u instanceof ee){if(!this.pairs.length)throw new ee;r=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(e,!1),l){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new ee}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let n=null;try{n=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return e&&(this.rows=this.rows.reverse()),n}checkRows(e,n){for(let r=n;r<this.rows.length;r++){let l=this.rows[r];this.pairs.length=0;for(let h of e)this.pairs.push(h.getPairs());if(this.pairs.push(l.getPairs()),!ue.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(e);u.push(l);try{return this.checkRows(u,r+1)}catch(h){this.verbose&&console.log(h)}}throw new ee}static isValidSequence(e){for(let n of ue.FINDER_PATTERN_SEQUENCES){if(e.length>n.length)continue;let r=!0;for(let l=0;l<e.length;l++)if(e[l].getFinderPattern().getValue()!=n[l]){r=!1;break}if(r)return!0}return!1}storeRow(e,n){let r=0,l=!1,u=!1;for(;r<this.rows.length;){let h=this.rows[r];if(h.getRowNumber()>e){u=h.isEquivalent(this.pairs);break}l=h.isEquivalent(this.pairs),r++}u||l||ue.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new ro(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,n){for(let r of n)if(r.getPairs().length!==e.length){for(let l of r.getPairs())for(let u of e)if(_t.equals(l,u))break}}static isPartialRow(e,n){for(let r of n){let l=!0;for(let u of e){let h=!1;for(let g of r.getPairs())if(u.equals(g)){h=!0;break}if(!h){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(e){let n=eo.buildBitArray(e),l=ol(n).parseInformation(),u=e[0].getFinderPattern().getResultPoints(),h=e[e.length-1].getFinderPattern().getResultPoints(),g=[u[0],u[1],h[0],h[1]];return new Fe(l,null,null,g,we.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),n=e.getLeftChar(),r=e.getRightChar();if(r==null)return!1;let l=r.getChecksumPortion(),u=2;for(let g=1;g<this.pairs.size();++g){let y=this.pairs.get(g);l+=y.getLeftChar().getChecksumPortion(),u++;let b=y.getRightChar();b!=null&&(l+=b.getChecksumPortion(),u++)}return l%=211,211*(u-4)+l==n.getValue()}static getNextSecondBar(e,n){let r;return e.get(n)?(r=e.getNextUnset(n),r=e.getNextSet(r)):(r=e.getNextSet(n),r=e.getNextUnset(r)),r}retrieveNextPair(e,n,r){let l=n.length%2==0;this.startFromEven&&(l=!l);let u,h=!0,g=-1;do this.findNextPair(e,n,g),u=this.parseFoundFinderPattern(e,r,l),u==null?g=ue.getNextSecondBar(e,this.startEnd[0]):h=!1;while(h);let y=this.decodeDataCharacter(e,u,l,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new ee;let b;try{b=this.decodeDataCharacter(e,u,l,!1)}catch(_){b=null,this.verbose&&console.log(_)}return new _t(y,b,u,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,n,r){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=e.getSize(),h;r>=0?h=r:this.isEmptyPair(n)?h=0:h=n[n.length-1].getFinderPattern().getStartEnd()[1];let g=n.length%2!=0;this.startFromEven&&(g=!g);let y=!1;for(;h<u&&(y=!e.get(h),!!y);)h++;let b=0,_=h;for(let k=h;k<u;k++)if(e.get(k)!=y)l[b]++;else{if(b==3){if(g&&ue.reverseCounters(l),ue.isFinderPattern(l)){this.startEnd[0]=_,this.startEnd[1]=k;return}g&&ue.reverseCounters(l),_+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,b--}else b++;l[b]=1,y=!y}throw new ee}static reverseCounters(e){let n=e.length;for(let r=0;r<n/2;++r){let l=e[r];e[r]=e[n-r-1],e[n-r-1]=l}}parseFoundFinderPattern(e,n,r){let l,u,h;if(r){let b=this.startEnd[0]-1;for(;b>=0&&!e.get(b);)b--;b++,l=this.startEnd[0]-b,u=b,h=this.startEnd[1]}else u=this.startEnd[0],h=e.getNextUnset(this.startEnd[1]+1),l=h-this.startEnd[1];let g=this.getDecodeFinderCounters();R.arraycopy(g,0,g,1,g.length-1),g[0]=l;let y;try{y=this.parseFinderValue(g,ue.FINDER_PATTERNS)}catch{return null}return new bs(y,[u,h],u,h,n)}decodeDataCharacter(e,n,r,l){let u=this.getDataCharacterCounters();for(let St=0;St<u.length;St++)u[St]=0;if(l)ue.recordPatternInReverse(e,n.getStartEnd()[0],u);else{ue.recordPattern(e,n.getStartEnd()[1],u);for(let St=0,Jt=u.length-1;St<Jt;St++,Jt--){let Rn=u[St];u[St]=u[Jt],u[Jt]=Rn}}let h=17,g=rt.sum(new Int32Array(u))/h,y=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(g-y)/y>.3)throw new ee;let b=this.getOddCounts(),_=this.getEvenCounts(),k=this.getOddRoundingErrors(),O=this.getEvenRoundingErrors();for(let St=0;St<u.length;St++){let Jt=1*u[St]/g,Rn=Jt+.5;if(Rn<1){if(Jt<.3)throw new ee;Rn=1}else if(Rn>8){if(Jt>8.7)throw new ee;Rn=8}let vi=St/2;(St&1)==0?(b[vi]=Rn,k[vi]=Jt-Rn):(_[vi]=Rn,O[vi]=Jt-Rn)}this.adjustOddEvenCounts(h);let L=4*n.getValue()+(r?0:2)+(l?0:1)-1,G=0,Y=0;for(let St=b.length-1;St>=0;St--){if(ue.isNotA1left(n,r,l)){let Jt=ue.WEIGHTS[L][2*St];Y+=b[St]*Jt}G+=b[St]}let Q=0;for(let St=_.length-1;St>=0;St--)if(ue.isNotA1left(n,r,l)){let Jt=ue.WEIGHTS[L][2*St+1];Q+=_[St]*Jt}let se=Y+Q;if((G&1)!=0||G>13||G<4)throw new ee;let ye=(13-G)/2,ve=ue.SYMBOL_WIDEST[ye],pe=9-ve,ut=Fn.getRSSvalue(b,ve,!0),tt=Fn.getRSSvalue(_,pe,!1),Hn=ue.EVEN_TOTAL_SUBSET[ye],br=ue.GSUM[ye],fn=ut*Hn+tt+br;return new ri(fn,se)}static isNotA1left(e,n,r){return!(e.getValue()==0&&n&&r)}adjustOddEvenCounts(e){let n=rt.sum(new Int32Array(this.getOddCounts())),r=rt.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1;n>13?u=!0:n<4&&(l=!0);let h=!1,g=!1;r>13?g=!0:r<4&&(h=!0);let y=n+r-e,b=(n&1)==1,_=(r&1)==0;if(y==1)if(b){if(_)throw new ee;u=!0}else{if(!_)throw new ee;g=!0}else if(y==-1)if(b){if(_)throw new ee;l=!0}else{if(!_)throw new ee;h=!0}else if(y==0){if(b){if(!_)throw new ee;n<r?(l=!0,g=!0):(u=!0,h=!0)}else if(_)throw new ee}else throw new ee;if(l){if(u)throw new ee;ue.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&ue.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(g)throw new ee;ue.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&ue.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ue.SYMBOL_WIDEST=[7,5,4,3,1],ue.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ue.GSUM=[0,348,1388,2948,3988],ue.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ue.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ue.FINDER_PAT_A=0,ue.FINDER_PAT_B=1,ue.FINDER_PAT_C=2,ue.FINDER_PAT_D=3,ue.FINDER_PAT_E=4,ue.FINDER_PAT_F=5,ue.FINDER_PATTERN_SEQUENCES=[[ue.FINDER_PAT_A,ue.FINDER_PAT_A],[ue.FINDER_PAT_A,ue.FINDER_PAT_B,ue.FINDER_PAT_B],[ue.FINDER_PAT_A,ue.FINDER_PAT_C,ue.FINDER_PAT_B,ue.FINDER_PAT_D],[ue.FINDER_PAT_A,ue.FINDER_PAT_E,ue.FINDER_PAT_B,ue.FINDER_PAT_D,ue.FINDER_PAT_C],[ue.FINDER_PAT_A,ue.FINDER_PAT_E,ue.FINDER_PAT_B,ue.FINDER_PAT_D,ue.FINDER_PAT_D,ue.FINDER_PAT_F],[ue.FINDER_PAT_A,ue.FINDER_PAT_E,ue.FINDER_PAT_B,ue.FINDER_PAT_D,ue.FINDER_PAT_E,ue.FINDER_PAT_F,ue.FINDER_PAT_F],[ue.FINDER_PAT_A,ue.FINDER_PAT_A,ue.FINDER_PAT_B,ue.FINDER_PAT_B,ue.FINDER_PAT_C,ue.FINDER_PAT_C,ue.FINDER_PAT_D,ue.FINDER_PAT_D],[ue.FINDER_PAT_A,ue.FINDER_PAT_A,ue.FINDER_PAT_B,ue.FINDER_PAT_B,ue.FINDER_PAT_C,ue.FINDER_PAT_C,ue.FINDER_PAT_D,ue.FINDER_PAT_E,ue.FINDER_PAT_E],[ue.FINDER_PAT_A,ue.FINDER_PAT_A,ue.FINDER_PAT_B,ue.FINDER_PAT_B,ue.FINDER_PAT_C,ue.FINDER_PAT_C,ue.FINDER_PAT_D,ue.FINDER_PAT_E,ue.FINDER_PAT_F,ue.FINDER_PAT_F],[ue.FINDER_PAT_A,ue.FINDER_PAT_A,ue.FINDER_PAT_B,ue.FINDER_PAT_B,ue.FINDER_PAT_C,ue.FINDER_PAT_D,ue.FINDER_PAT_D,ue.FINDER_PAT_E,ue.FINDER_PAT_E,ue.FINDER_PAT_F,ue.FINDER_PAT_F]],ue.MAX_PAIRS=11;class ll extends ri{constructor(e,n,r){super(e,n),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Rt extends yn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,n,r){const l=this.decodePair(n,!1,e,r);Rt.addOrTally(this.possibleLeftPairs,l),n.reverse();let u=this.decodePair(n,!0,e,r);Rt.addOrTally(this.possibleRightPairs,u),n.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let g of this.possibleRightPairs)if(g.getCount()>1&&Rt.checkChecksum(h,g))return Rt.constructResult(h,g)}throw new ee}static addOrTally(e,n){if(n==null)return;let r=!1;for(let l of e)if(l.getValue()===n.getValue()){l.incrementCount(),r=!0;break}r||e.push(n)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,n){let r=4537077*e.getValue()+n.getValue(),l=new String(r).toString(),u=new ce;for(let b=13-l.length;b>0;b--)u.append("0");u.append(l);let h=0;for(let b=0;b<13;b++){let _=u.charAt(b).charCodeAt(0)-48;h+=(b&1)===0?3*_:_}h=10-h%10,h===10&&(h=0),u.append(h.toString());let g=e.getFinderPattern().getResultPoints(),y=n.getFinderPattern().getResultPoints();return new Fe(u.toString(),null,0,[g[0],g[1],y[0],y[1]],we.RSS_14,new Date().getTime())}static checkChecksum(e,n){let r=(e.getChecksumPortion()+16*n.getChecksumPortion())%79,l=9*e.getFinderPattern().getValue()+n.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,r===l}decodePair(e,n,r,l){try{let u=this.findFinderPattern(e,n),h=this.parseFoundFinderPattern(e,r,n,u),g=l==null?null:l.get(de.NEED_RESULT_POINT_CALLBACK);if(g!=null){let _=(u[0]+u[1])/2;n&&(_=e.getSize()-1-_),g.foundPossibleResultPoint(new je(_,r))}let y=this.decodeDataCharacter(e,h,!0),b=this.decodeDataCharacter(e,h,!1);return new ll(1597*y.getValue()+b.getValue(),y.getChecksumPortion()+4*b.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(e,n,r){let l=this.getDataCharacterCounters();for(let Q=0;Q<l.length;Q++)l[Q]=0;if(r)Mt.recordPatternInReverse(e,n.getStartEnd()[0],l);else{Mt.recordPattern(e,n.getStartEnd()[1]+1,l);for(let Q=0,se=l.length-1;Q<se;Q++,se--){let ye=l[Q];l[Q]=l[se],l[se]=ye}}let u=r?16:15,h=rt.sum(new Int32Array(l))/u,g=this.getOddCounts(),y=this.getEvenCounts(),b=this.getOddRoundingErrors(),_=this.getEvenRoundingErrors();for(let Q=0;Q<l.length;Q++){let se=l[Q]/h,ye=Math.floor(se+.5);ye<1?ye=1:ye>8&&(ye=8);let ve=Math.floor(Q/2);(Q&1)===0?(g[ve]=ye,b[ve]=se-ye):(y[ve]=ye,_[ve]=se-ye)}this.adjustOddEvenCounts(r,u);let k=0,O=0;for(let Q=g.length-1;Q>=0;Q--)O*=9,O+=g[Q],k+=g[Q];let L=0,G=0;for(let Q=y.length-1;Q>=0;Q--)L*=9,L+=y[Q],G+=y[Q];let Y=O+3*L;if(r){if((k&1)!==0||k>12||k<4)throw new ee;let Q=(12-k)/2,se=Rt.OUTSIDE_ODD_WIDEST[Q],ye=9-se,ve=Fn.getRSSvalue(g,se,!1),pe=Fn.getRSSvalue(y,ye,!0),ut=Rt.OUTSIDE_EVEN_TOTAL_SUBSET[Q],tt=Rt.OUTSIDE_GSUM[Q];return new ri(ve*ut+pe+tt,Y)}else{if((G&1)!==0||G>10||G<4)throw new ee;let Q=(10-G)/2,se=Rt.INSIDE_ODD_WIDEST[Q],ye=9-se,ve=Fn.getRSSvalue(g,se,!0),pe=Fn.getRSSvalue(y,ye,!1),ut=Rt.INSIDE_ODD_TOTAL_SUBSET[Q],tt=Rt.INSIDE_GSUM[Q];return new ri(pe*ut+ve+tt,Y)}}findFinderPattern(e,n){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let l=e.getSize(),u=!1,h=0;for(;h<l&&(u=!e.get(h),n!==u);)h++;let g=0,y=h;for(let b=h;b<l;b++)if(e.get(b)!==u)r[g]++;else{if(g===3){if(yn.isFinderPattern(r))return[y,b];y+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,g--}else g++;r[g]=1,u=!u}throw new ee}parseFoundFinderPattern(e,n,r,l){let u=e.get(l[0]),h=l[0]-1;for(;h>=0&&u!==e.get(h);)h--;h++;const g=l[0]-h,y=this.getDecodeFinderCounters(),b=new Int32Array(y.length);R.arraycopy(y,0,b,1,y.length-1),b[0]=g;const _=this.parseFinderValue(b,Rt.FINDER_PATTERNS);let k=h,O=l[1];return r&&(k=e.getSize()-1-k,O=e.getSize()-1-O),new bs(_,[h,l[1]],k,O,n)}adjustOddEvenCounts(e,n){let r=rt.sum(new Int32Array(this.getOddCounts())),l=rt.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1,g=!1,y=!1;e?(r>12?h=!0:r<4&&(u=!0),l>12?y=!0:l<4&&(g=!0)):(r>11?h=!0:r<5&&(u=!0),l>10?y=!0:l<4&&(g=!0));let b=r+l-n,_=(r&1)===(e?1:0),k=(l&1)===1;if(b===1)if(_){if(k)throw new ee;h=!0}else{if(!k)throw new ee;y=!0}else if(b===-1)if(_){if(k)throw new ee;u=!0}else{if(!k)throw new ee;g=!0}else if(b===0){if(_){if(!k)throw new ee;r<l?(u=!0,y=!0):(h=!0,g=!0)}else if(k)throw new ee}else throw new ee;if(u){if(h)throw new ee;yn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&yn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(y)throw new ee;yn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&yn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Rt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Rt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Rt.OUTSIDE_GSUM=[0,161,961,2015,2715],Rt.INSIDE_GSUM=[0,336,1036,1516],Rt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Rt.INSIDE_ODD_WIDEST=[2,4,6,8],Rt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Pi extends Mt{constructor(e,n){super(),this.readers=[],this.verbose=n===!0;const r=e?e.get(de.POSSIBLE_FORMATS):null,l=e&&e.get(de.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(we.EAN_13)||r.includes(we.UPC_A)||r.includes(we.EAN_8)||r.includes(we.UPC_E))&&this.readers.push(new ra(e)),r.includes(we.CODE_39)&&this.readers.push(new Vt(l)),r.includes(we.CODE_128)&&this.readers.push(new Ce),r.includes(we.ITF)&&this.readers.push(new xt),r.includes(we.RSS_14)&&this.readers.push(new Rt),r.includes(we.RSS_EXPANDED)&&this.readers.push(new ue(this.verbose))):(this.readers.push(new ra(e)),this.readers.push(new Vt),this.readers.push(new ra(e)),this.readers.push(new Ce),this.readers.push(new xt),this.readers.push(new Rt),this.readers.push(new ue(this.verbose)))}decodeRow(e,n,r){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(e,n,r)}catch{}throw new ee}reset(){this.readers.forEach(e=>e.reset())}}class cl extends Qe{constructor(e=500,n){super(new Pi(n),e,n)}}class yt{constructor(e,n,r){this.ecCodewords=e,this.ecBlocks=[n],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class it{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ft{constructor(e,n,r,l,u,h){this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=r,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=u,this.ecBlocks=h;let g=0;const y=h.getECCodewords(),b=h.getECBlocks();for(let _ of b)g+=_.getCount()*(_.getDataCodewords()+y);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,n){if((e&1)!==0||(n&1)!==0)throw new H;for(let r of ft.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===n)return r;throw new H}toString(){return""+this.versionNumber}static buildVersions(){return[new ft(1,10,10,8,8,new yt(5,new it(1,3))),new ft(2,12,12,10,10,new yt(7,new it(1,5))),new ft(3,14,14,12,12,new yt(10,new it(1,8))),new ft(4,16,16,14,14,new yt(12,new it(1,12))),new ft(5,18,18,16,16,new yt(14,new it(1,18))),new ft(6,20,20,18,18,new yt(18,new it(1,22))),new ft(7,22,22,20,20,new yt(20,new it(1,30))),new ft(8,24,24,22,22,new yt(24,new it(1,36))),new ft(9,26,26,24,24,new yt(28,new it(1,44))),new ft(10,32,32,14,14,new yt(36,new it(1,62))),new ft(11,36,36,16,16,new yt(42,new it(1,86))),new ft(12,40,40,18,18,new yt(48,new it(1,114))),new ft(13,44,44,20,20,new yt(56,new it(1,144))),new ft(14,48,48,22,22,new yt(68,new it(1,174))),new ft(15,52,52,24,24,new yt(42,new it(2,102))),new ft(16,64,64,14,14,new yt(56,new it(2,140))),new ft(17,72,72,16,16,new yt(36,new it(4,92))),new ft(18,80,80,18,18,new yt(48,new it(4,114))),new ft(19,88,88,20,20,new yt(56,new it(4,144))),new ft(20,96,96,22,22,new yt(68,new it(4,174))),new ft(21,104,104,24,24,new yt(56,new it(6,136))),new ft(22,120,120,18,18,new yt(68,new it(6,175))),new ft(23,132,132,20,20,new yt(62,new it(8,163))),new ft(24,144,144,22,22,new yt(62,new it(8,156),new it(2,155))),new ft(25,8,18,6,16,new yt(7,new it(1,5))),new ft(26,8,32,6,14,new yt(11,new it(1,10))),new ft(27,12,26,10,24,new yt(14,new it(1,16))),new ft(28,12,36,10,16,new yt(18,new it(1,22))),new ft(29,16,36,14,16,new yt(24,new it(1,32))),new ft(30,16,48,14,22,new yt(28,new it(1,49)))]}}ft.VERSIONS=ft.buildVersions();class Qn{constructor(e){const n=e.getHeight();if(n<8||n>144||(n&1)!==0)throw new H;this.version=Qn.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new _e(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const n=e.getHeight(),r=e.getWidth();return ft.getVersionForDimensions(n,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let n=0,r=4,l=0;const u=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let g=!1,y=!1,b=!1,_=!1;do if(r===u&&l===0&&!g)e[n++]=this.readCorner1(u,h)&255,r-=2,l+=2,g=!0;else if(r===u-2&&l===0&&(h&3)!==0&&!y)e[n++]=this.readCorner2(u,h)&255,r-=2,l+=2,y=!0;else if(r===u+4&&l===2&&(h&7)===0&&!b)e[n++]=this.readCorner3(u,h)&255,r-=2,l+=2,b=!0;else if(r===u-2&&l===0&&(h&7)===4&&!_)e[n++]=this.readCorner4(u,h)&255,r-=2,l+=2,_=!0;else{do r<u&&l>=0&&!this.readMappingMatrix.get(l,r)&&(e[n++]=this.readUtah(r,l,u,h)&255),r-=2,l+=2;while(r>=0&&l<h);r+=1,l+=3;do r>=0&&l<h&&!this.readMappingMatrix.get(l,r)&&(e[n++]=this.readUtah(r,l,u,h)&255),r+=2,l-=2;while(r<u&&l>=0);r+=3,l+=1}while(r<u||l<h);if(n!==this.version.getTotalCodewords())throw new H;return e}readModule(e,n,r,l){return e<0&&(e+=r,n+=4-(r+4&7)),n<0&&(n+=l,e+=4-(l+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)}readUtah(e,n,r,l){let u=0;return this.readModule(e-2,n-2,r,l)&&(u|=1),u<<=1,this.readModule(e-2,n-1,r,l)&&(u|=1),u<<=1,this.readModule(e-1,n-2,r,l)&&(u|=1),u<<=1,this.readModule(e-1,n-1,r,l)&&(u|=1),u<<=1,this.readModule(e-1,n,r,l)&&(u|=1),u<<=1,this.readModule(e,n-2,r,l)&&(u|=1),u<<=1,this.readModule(e,n-1,r,l)&&(u|=1),u<<=1,this.readModule(e,n,r,l)&&(u|=1),u}readCorner1(e,n){let r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,1,e,n)&&(r|=1),r<<=1,this.readModule(e-1,2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r}readCorner2(e,n){let r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-4,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r}readCorner3(e,n){let r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-3,e,n)&&(r|=1),r<<=1,this.readModule(1,n-2,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r}readCorner4(e,n){let r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r}extractDataRegion(e){const n=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new I("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),h=n/l|0,g=r/u|0,y=h*l,b=g*u,_=new _e(b,y);for(let k=0;k<h;++k){const O=k*l;for(let L=0;L<g;++L){const G=L*u;for(let Y=0;Y<l;++Y){const Q=k*(l+2)+1+Y,se=O+Y;for(let ye=0;ye<u;++ye){const ve=L*(u+2)+1+ye;if(e.get(ve,Q)){const pe=G+ye;_.set(pe,se)}}}}}return _}}class io{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n){const r=n.getECBlocks();let l=0;const u=r.getECBlocks();for(let Y of u)l+=Y.getCount();const h=new Array(l);let g=0;for(let Y of u)for(let Q=0;Q<Y.getCount();Q++){const se=Y.getDataCodewords(),ye=r.getECCodewords()+se;h[g++]=new io(se,new Uint8Array(ye))}const b=h[0].codewords.length-r.getECCodewords(),_=b-1;let k=0;for(let Y=0;Y<_;Y++)for(let Q=0;Q<g;Q++)h[Q].codewords[Y]=e[k++];const O=n.getVersionNumber()===24,L=O?8:g;for(let Y=0;Y<L;Y++)h[Y].codewords[b-1]=e[k++];const G=h[0].codewords.length;for(let Y=b;Y<G;Y++)for(let Q=0;Q<g;Q++){const se=O?(Q+8)%g:Q,ye=O&&se>7?Y-1:Y;h[se].codewords[ye]=e[k++]}if(k!==e.length)throw new I;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class so{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new I(""+e);let n=0,r=this.bitOffset,l=this.byteOffset;const u=this.bytes;if(r>0){const h=8-r,g=e<h?e:h,y=h-g,b=255>>8-g<<y;n=(u[l]&b)>>y,e-=g,r+=g,r===8&&(r=0,l++)}if(e>0){for(;e>=8;)n=n<<8|u[l]&255,l++,e-=8;if(e>0){const h=8-e,g=255>>h<<h;n=n<<e|(u[l]&g)>>h,r+=e}}return this.bitOffset=r,this.byteOffset=l,n}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var dn;(function(T){T[T.PAD_ENCODE=0]="PAD_ENCODE",T[T.ASCII_ENCODE=1]="ASCII_ENCODE",T[T.C40_ENCODE=2]="C40_ENCODE",T[T.TEXT_ENCODE=3]="TEXT_ENCODE",T[T.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",T[T.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",T[T.BASE256_ENCODE=6]="BASE256_ENCODE"})(dn||(dn={}));class xr{static decode(e){const n=new so(e),r=new ce,l=new ce,u=new Array;let h=dn.ASCII_ENCODE;do if(h===dn.ASCII_ENCODE)h=this.decodeAsciiSegment(n,r,l);else{switch(h){case dn.C40_ENCODE:this.decodeC40Segment(n,r);break;case dn.TEXT_ENCODE:this.decodeTextSegment(n,r);break;case dn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,r);break;case dn.EDIFACT_ENCODE:this.decodeEdifactSegment(n,r);break;case dn.BASE256_ENCODE:this.decodeBase256Segment(n,r,u);break;default:throw new H}h=dn.ASCII_ENCODE}while(h!==dn.PAD_ENCODE&&n.available()>0);return l.length()>0&&r.append(l.toString()),new wt(e,r.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(e,n,r){let l=!1;do{let u=e.readBits(8);if(u===0)throw new H;if(u<=128)return l&&(u+=128),n.append(String.fromCharCode(u-1)),dn.ASCII_ENCODE;if(u===129)return dn.PAD_ENCODE;if(u<=229){const h=u-130;h<10&&n.append("0"),n.append(""+h)}else switch(u){case 230:return dn.C40_ENCODE;case 231:return dn.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:n.append("[)>05"),r.insert(0,"");break;case 237:n.append("[)>06"),r.insert(0,"");break;case 238:return dn.ANSIX12_ENCODE;case 239:return dn.TEXT_ENCODE;case 240:return dn.EDIFACT_ENCODE;case 241:break;default:if(u!==254||e.available()!==0)throw new H;break}}while(e.available()>0);return dn.ASCII_ENCODE}static decodeC40Segment(e,n){let r=!1;const l=[];let u=0;do{if(e.available()===8)return;const h=e.readBits(8);if(h===254)return;this.parseTwoBytes(h,e.readBits(8),l);for(let g=0;g<3;g++){const y=l[g];switch(u){case 0:if(y<3)u=y+1;else if(y<this.C40_BASIC_SET_CHARS.length){const b=this.C40_BASIC_SET_CHARS[y];r?(n.append(String.fromCharCode(b.charCodeAt(0)+128)),r=!1):n.append(b)}else throw new H;break;case 1:r?(n.append(String.fromCharCode(y+128)),r=!1):n.append(String.fromCharCode(y)),u=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length){const b=this.C40_SHIFT2_SET_CHARS[y];r?(n.append(String.fromCharCode(b.charCodeAt(0)+128)),r=!1):n.append(b)}else switch(y){case 27:n.append("");break;case 30:r=!0;break;default:throw new H}u=0;break;case 3:r?(n.append(String.fromCharCode(y+224)),r=!1):n.append(String.fromCharCode(y+96)),u=0;break;default:throw new H}}}while(e.available()>0)}static decodeTextSegment(e,n){let r=!1,l=[],u=0;do{if(e.available()===8)return;const h=e.readBits(8);if(h===254)return;this.parseTwoBytes(h,e.readBits(8),l);for(let g=0;g<3;g++){const y=l[g];switch(u){case 0:if(y<3)u=y+1;else if(y<this.TEXT_BASIC_SET_CHARS.length){const b=this.TEXT_BASIC_SET_CHARS[y];r?(n.append(String.fromCharCode(b.charCodeAt(0)+128)),r=!1):n.append(b)}else throw new H;break;case 1:r?(n.append(String.fromCharCode(y+128)),r=!1):n.append(String.fromCharCode(y)),u=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length){const b=this.TEXT_SHIFT2_SET_CHARS[y];r?(n.append(String.fromCharCode(b.charCodeAt(0)+128)),r=!1):n.append(b)}else switch(y){case 27:n.append("");break;case 30:r=!0;break;default:throw new H}u=0;break;case 3:if(y<this.TEXT_SHIFT3_SET_CHARS.length){const b=this.TEXT_SHIFT3_SET_CHARS[y];r?(n.append(String.fromCharCode(b.charCodeAt(0)+128)),r=!1):n.append(b),u=0}else throw new H;break;default:throw new H}}}while(e.available()>0)}static decodeAnsiX12Segment(e,n){const r=[];do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),r);for(let u=0;u<3;u++){const h=r[u];switch(h){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(h<14)n.append(String.fromCharCode(h+44));else if(h<40)n.append(String.fromCharCode(h+51));else throw new H;break}}}while(e.available()>0)}static parseTwoBytes(e,n,r){let l=(e<<8)+n-1,u=Math.floor(l/1600);r[0]=u,l-=u*1600,u=Math.floor(l/40),r[1]=u,r[2]=l-u*40}static decodeEdifactSegment(e,n){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let l=e.readBits(6);if(l===31){const u=8-e.getBitOffset();u!==8&&e.readBits(u);return}(l&32)===0&&(l|=64),n.append(String.fromCharCode(l))}}while(e.available()>0)}static decodeBase256Segment(e,n,r){let l=1+e.getByteOffset();const u=this.unrandomize255State(e.readBits(8),l++);let h;if(u===0?h=e.available()/8|0:u<250?h=u:h=250*(u-249)+this.unrandomize255State(e.readBits(8),l++),h<0)throw new H;const g=new Uint8Array(h);for(let y=0;y<h;y++){if(e.available()<8)throw new H;g[y]=this.unrandomize255State(e.readBits(8),l++)}r.push(g);try{n.append(ke.decode(g,he.ISO88591))}catch(y){throw new Bn("Platform does not support required encoding: "+y.message)}}static unrandomize255State(e,n){const r=149*n%255+1,l=e-r;return l>=0?l:l+256}}xr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],xr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],xr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],xr.TEXT_SHIFT2_SET_CHARS=xr.C40_SHIFT2_SET_CHARS,xr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ia{constructor(){this.rsDecoder=new Hr(ct.DATA_MATRIX_FIELD_256)}decode(e){const n=new Qn(e),r=n.getVersion(),l=n.readCodewords(),u=io.getDataBlocks(l,r);let h=0;for(let b of u)h+=b.getNumDataCodewords();const g=new Uint8Array(h),y=u.length;for(let b=0;b<y;b++){const _=u[b],k=_.getCodewords(),O=_.getNumDataCodewords();this.correctErrors(k,O);for(let L=0;L<O;L++)g[L*y+b]=k[L]}return xr.decode(g)}correctErrors(e,n){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new B}for(let l=0;l<n;l++)e[l]=r[l]}}class Pt{constructor(e){this.image=e,this.rectangleDetector=new Ee(this.image)}detect(){const e=this.rectangleDetector.detect();let n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new ee;n=this.shiftToModuleCenter(n);const r=n[0],l=n[1],u=n[2],h=n[3];let g=this.transitionsBetween(r,h)+1,y=this.transitionsBetween(u,h)+1;(g&1)===1&&(g+=1),(y&1)===1&&(y+=1),4*g<7*y&&4*y<7*g&&(g=y=Math.max(g,y));let b=Pt.sampleGrid(this.image,r,l,u,h,g,y);return new ni(b,[r,l,u,h])}static shiftPoint(e,n,r){let l=(n.getX()-e.getX())/(r+1),u=(n.getY()-e.getY())/(r+1);return new je(e.getX()+l,e.getY()+u)}static moveAway(e,n,r){let l=e.getX(),u=e.getY();return l<n?l-=1:l+=1,u<r?u-=1:u+=1,new je(l,u)}detectSolid1(e){let n=e[0],r=e[1],l=e[3],u=e[2],h=this.transitionsBetween(n,r),g=this.transitionsBetween(r,l),y=this.transitionsBetween(l,u),b=this.transitionsBetween(u,n),_=h,k=[u,n,r,l];return _>g&&(_=g,k[0]=n,k[1]=r,k[2]=l,k[3]=u),_>y&&(_=y,k[0]=r,k[1]=l,k[2]=u,k[3]=n),_>b&&(k[0]=l,k[1]=u,k[2]=n,k[3]=r),k}detectSolid2(e){let n=e[0],r=e[1],l=e[2],u=e[3],h=this.transitionsBetween(n,u),g=Pt.shiftPoint(r,l,(h+1)*4),y=Pt.shiftPoint(l,r,(h+1)*4),b=this.transitionsBetween(g,n),_=this.transitionsBetween(y,u);return b<_?(e[0]=n,e[1]=r,e[2]=l,e[3]=u):(e[0]=r,e[1]=l,e[2]=u,e[3]=n),e}correctTopRight(e){let n=e[0],r=e[1],l=e[2],u=e[3],h=this.transitionsBetween(n,u),g=this.transitionsBetween(r,u),y=Pt.shiftPoint(n,r,(g+1)*4),b=Pt.shiftPoint(l,r,(h+1)*4);h=this.transitionsBetween(y,u),g=this.transitionsBetween(b,u);let _=new je(u.getX()+(l.getX()-r.getX())/(h+1),u.getY()+(l.getY()-r.getY())/(h+1)),k=new je(u.getX()+(n.getX()-r.getX())/(g+1),u.getY()+(n.getY()-r.getY())/(g+1));if(!this.isValid(_))return this.isValid(k)?k:null;if(!this.isValid(k))return _;let O=this.transitionsBetween(y,_)+this.transitionsBetween(b,_),L=this.transitionsBetween(y,k)+this.transitionsBetween(b,k);return O>L?_:k}shiftToModuleCenter(e){let n=e[0],r=e[1],l=e[2],u=e[3],h=this.transitionsBetween(n,u)+1,g=this.transitionsBetween(l,u)+1,y=Pt.shiftPoint(n,r,g*4),b=Pt.shiftPoint(l,r,h*4);h=this.transitionsBetween(y,u)+1,g=this.transitionsBetween(b,u)+1,(h&1)===1&&(h+=1),(g&1)===1&&(g+=1);let _=(n.getX()+r.getX()+l.getX()+u.getX())/4,k=(n.getY()+r.getY()+l.getY()+u.getY())/4;n=Pt.moveAway(n,_,k),r=Pt.moveAway(r,_,k),l=Pt.moveAway(l,_,k),u=Pt.moveAway(u,_,k);let O,L;return y=Pt.shiftPoint(n,r,g*4),y=Pt.shiftPoint(y,u,h*4),O=Pt.shiftPoint(r,n,g*4),O=Pt.shiftPoint(O,l,h*4),b=Pt.shiftPoint(l,u,g*4),b=Pt.shiftPoint(b,r,h*4),L=Pt.shiftPoint(u,l,g*4),L=Pt.shiftPoint(L,n,h*4),[y,O,b,L]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,n,r,l,u,h,g){return Dt.getInstance().sampleGrid(e,h,g,.5,.5,h-.5,.5,h-.5,g-.5,.5,g-.5,n.getX(),n.getY(),u.getX(),u.getY(),l.getX(),l.getY(),r.getX(),r.getY())}transitionsBetween(e,n){let r=Math.trunc(e.getX()),l=Math.trunc(e.getY()),u=Math.trunc(n.getX()),h=Math.trunc(n.getY()),g=Math.abs(h-l)>Math.abs(u-r);if(g){let Y=r;r=l,l=Y,Y=u,u=h,h=Y}let y=Math.abs(u-r),b=Math.abs(h-l),_=-y/2,k=l<h?1:-1,O=r<u?1:-1,L=0,G=this.image.get(g?l:r,g?r:l);for(let Y=r,Q=l;Y!==u;Y+=O){let se=this.image.get(g?Q:Y,g?Y:Q);if(se!==G&&(L++,G=se),_+=b,_>0){if(Q===h)break;Q+=k,_-=y}}return L}}class yr{constructor(){this.decoder=new ia}decode(e,n=null){let r,l;if(n!=null&&n.has(de.PURE_BARCODE)){const b=yr.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(b),l=yr.NO_POINTS}else{const b=new Pt(e.getBlackMatrix()).detect();r=this.decoder.decode(b.getBits()),l=b.getPoints()}const u=r.getRawBytes(),h=new Fe(r.getText(),u,8*u.length,l,we.DATA_MATRIX,R.currentTimeMillis()),g=r.getByteSegments();g!=null&&h.putMetadata(Xe.BYTE_SEGMENTS,g);const y=r.getECLevel();return y!=null&&h.putMetadata(Xe.ERROR_CORRECTION_LEVEL,y),h}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n==null||r==null)throw new ee;const l=this.moduleSize(n,e);let u=n[1];const h=r[1];let g=n[0];const b=(r[0]-g+1)/l,_=(h-u+1)/l;if(b<=0||_<=0)throw new ee;const k=l/2;u+=k,g+=k;const O=new _e(b,_);for(let L=0;L<_;L++){const G=u+L*l;for(let Y=0;Y<b;Y++)e.get(g+Y*l,G)&&O.set(Y,L)}return O}static moduleSize(e,n){const r=n.getWidth();let l=e[0];const u=e[1];for(;l<r&&n.get(l,u);)l++;if(l===r)throw new ee;const h=l-e[0];if(h===0)throw new ee;return h}}yr.NO_POINTS=[];class Uc extends Qe{constructor(e=500){super(new yr,e)}}var Li;(function(T){T[T.L=0]="L",T[T.M=1]="M",T[T.Q=2]="Q",T[T.H=3]="H"})(Li||(Li={}));class It{constructor(e,n,r){this.value=e,this.stringValue=n,this.bits=r,It.FOR_BITS.set(r,this),It.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return It.L;case"M":return It.M;case"Q":return It.Q;case"H":return It.H;default:throw new A(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof It))return!1;const n=e;return this.value===n.value}static forBits(e){if(e<0||e>=It.FOR_BITS.size)throw new I;return It.FOR_BITS.get(e)}}It.FOR_BITS=new Map,It.FOR_VALUE=new Map,It.L=new It(Li.L,"L",1),It.M=new It(Li.M,"M",0),It.Q=new It(Li.Q,"Q",3),It.H=new It(Li.H,"H",2);class vn{constructor(e){this.errorCorrectionLevel=It.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,n){return V.bitCount(e^n)}static decodeFormatInformation(e,n){const r=vn.doDecodeFormatInformation(e,n);return r!==null?r:vn.doDecodeFormatInformation(e^vn.FORMAT_INFO_MASK_QR,n^vn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,n){let r=Number.MAX_SAFE_INTEGER,l=0;for(const u of vn.FORMAT_INFO_DECODE_LOOKUP){const h=u[0];if(h===e||h===n)return new vn(u[1]);let g=vn.numBitsDiffering(e,h);g<r&&(l=u[1],r=g),e!==n&&(g=vn.numBitsDiffering(n,h),g<r&&(l=u[1],r=g))}return r<=3?new vn(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof vn))return!1;const n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask}}vn.FORMAT_INFO_MASK_QR=21522,vn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class te{constructor(e,...n){this.ecCodewordsPerBlock=e,this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const n=this.ecBlocks;for(const r of n)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class M{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ze{constructor(e,n,...r){this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=r;let l=0;const u=r[0].getECCodewordsPerBlock(),h=r[0].getECBlocks();for(const g of h)l+=g.getCount()*(g.getDataCodewords()+u);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new H;try{return this.getVersionForNumber((e-17)/4)}catch{throw new H}}static getVersionForNumber(e){if(e<1||e>40)throw new I;return ze.VERSIONS[e-1]}static decodeVersionInformation(e){let n=Number.MAX_SAFE_INTEGER,r=0;for(let l=0;l<ze.VERSION_DECODE_INFO.length;l++){const u=ze.VERSION_DECODE_INFO[l];if(u===e)return ze.getVersionForNumber(l+7);const h=vn.numBitsDiffering(e,u);h<n&&(r=l+7,n=h)}return n<=3?ze.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),n=new _e(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let l=0;l<r;l++){const u=this.alignmentPatternCenters[l]-2;for(let h=0;h<r;h++)l===0&&(h===0||h===r-1)||l===r-1&&h===0||n.setRegion(this.alignmentPatternCenters[h]-2,u,5,5)}return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n}toString(){return""+this.versionNumber}}ze.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ze.VERSIONS=[new ze(1,new Int32Array(0),new te(7,new M(1,19)),new te(10,new M(1,16)),new te(13,new M(1,13)),new te(17,new M(1,9))),new ze(2,Int32Array.from([6,18]),new te(10,new M(1,34)),new te(16,new M(1,28)),new te(22,new M(1,22)),new te(28,new M(1,16))),new ze(3,Int32Array.from([6,22]),new te(15,new M(1,55)),new te(26,new M(1,44)),new te(18,new M(2,17)),new te(22,new M(2,13))),new ze(4,Int32Array.from([6,26]),new te(20,new M(1,80)),new te(18,new M(2,32)),new te(26,new M(2,24)),new te(16,new M(4,9))),new ze(5,Int32Array.from([6,30]),new te(26,new M(1,108)),new te(24,new M(2,43)),new te(18,new M(2,15),new M(2,16)),new te(22,new M(2,11),new M(2,12))),new ze(6,Int32Array.from([6,34]),new te(18,new M(2,68)),new te(16,new M(4,27)),new te(24,new M(4,19)),new te(28,new M(4,15))),new ze(7,Int32Array.from([6,22,38]),new te(20,new M(2,78)),new te(18,new M(4,31)),new te(18,new M(2,14),new M(4,15)),new te(26,new M(4,13),new M(1,14))),new ze(8,Int32Array.from([6,24,42]),new te(24,new M(2,97)),new te(22,new M(2,38),new M(2,39)),new te(22,new M(4,18),new M(2,19)),new te(26,new M(4,14),new M(2,15))),new ze(9,Int32Array.from([6,26,46]),new te(30,new M(2,116)),new te(22,new M(3,36),new M(2,37)),new te(20,new M(4,16),new M(4,17)),new te(24,new M(4,12),new M(4,13))),new ze(10,Int32Array.from([6,28,50]),new te(18,new M(2,68),new M(2,69)),new te(26,new M(4,43),new M(1,44)),new te(24,new M(6,19),new M(2,20)),new te(28,new M(6,15),new M(2,16))),new ze(11,Int32Array.from([6,30,54]),new te(20,new M(4,81)),new te(30,new M(1,50),new M(4,51)),new te(28,new M(4,22),new M(4,23)),new te(24,new M(3,12),new M(8,13))),new ze(12,Int32Array.from([6,32,58]),new te(24,new M(2,92),new M(2,93)),new te(22,new M(6,36),new M(2,37)),new te(26,new M(4,20),new M(6,21)),new te(28,new M(7,14),new M(4,15))),new ze(13,Int32Array.from([6,34,62]),new te(26,new M(4,107)),new te(22,new M(8,37),new M(1,38)),new te(24,new M(8,20),new M(4,21)),new te(22,new M(12,11),new M(4,12))),new ze(14,Int32Array.from([6,26,46,66]),new te(30,new M(3,115),new M(1,116)),new te(24,new M(4,40),new M(5,41)),new te(20,new M(11,16),new M(5,17)),new te(24,new M(11,12),new M(5,13))),new ze(15,Int32Array.from([6,26,48,70]),new te(22,new M(5,87),new M(1,88)),new te(24,new M(5,41),new M(5,42)),new te(30,new M(5,24),new M(7,25)),new te(24,new M(11,12),new M(7,13))),new ze(16,Int32Array.from([6,26,50,74]),new te(24,new M(5,98),new M(1,99)),new te(28,new M(7,45),new M(3,46)),new te(24,new M(15,19),new M(2,20)),new te(30,new M(3,15),new M(13,16))),new ze(17,Int32Array.from([6,30,54,78]),new te(28,new M(1,107),new M(5,108)),new te(28,new M(10,46),new M(1,47)),new te(28,new M(1,22),new M(15,23)),new te(28,new M(2,14),new M(17,15))),new ze(18,Int32Array.from([6,30,56,82]),new te(30,new M(5,120),new M(1,121)),new te(26,new M(9,43),new M(4,44)),new te(28,new M(17,22),new M(1,23)),new te(28,new M(2,14),new M(19,15))),new ze(19,Int32Array.from([6,30,58,86]),new te(28,new M(3,113),new M(4,114)),new te(26,new M(3,44),new M(11,45)),new te(26,new M(17,21),new M(4,22)),new te(26,new M(9,13),new M(16,14))),new ze(20,Int32Array.from([6,34,62,90]),new te(28,new M(3,107),new M(5,108)),new te(26,new M(3,41),new M(13,42)),new te(30,new M(15,24),new M(5,25)),new te(28,new M(15,15),new M(10,16))),new ze(21,Int32Array.from([6,28,50,72,94]),new te(28,new M(4,116),new M(4,117)),new te(26,new M(17,42)),new te(28,new M(17,22),new M(6,23)),new te(30,new M(19,16),new M(6,17))),new ze(22,Int32Array.from([6,26,50,74,98]),new te(28,new M(2,111),new M(7,112)),new te(28,new M(17,46)),new te(30,new M(7,24),new M(16,25)),new te(24,new M(34,13))),new ze(23,Int32Array.from([6,30,54,78,102]),new te(30,new M(4,121),new M(5,122)),new te(28,new M(4,47),new M(14,48)),new te(30,new M(11,24),new M(14,25)),new te(30,new M(16,15),new M(14,16))),new ze(24,Int32Array.from([6,28,54,80,106]),new te(30,new M(6,117),new M(4,118)),new te(28,new M(6,45),new M(14,46)),new te(30,new M(11,24),new M(16,25)),new te(30,new M(30,16),new M(2,17))),new ze(25,Int32Array.from([6,32,58,84,110]),new te(26,new M(8,106),new M(4,107)),new te(28,new M(8,47),new M(13,48)),new te(30,new M(7,24),new M(22,25)),new te(30,new M(22,15),new M(13,16))),new ze(26,Int32Array.from([6,30,58,86,114]),new te(28,new M(10,114),new M(2,115)),new te(28,new M(19,46),new M(4,47)),new te(28,new M(28,22),new M(6,23)),new te(30,new M(33,16),new M(4,17))),new ze(27,Int32Array.from([6,34,62,90,118]),new te(30,new M(8,122),new M(4,123)),new te(28,new M(22,45),new M(3,46)),new te(30,new M(8,23),new M(26,24)),new te(30,new M(12,15),new M(28,16))),new ze(28,Int32Array.from([6,26,50,74,98,122]),new te(30,new M(3,117),new M(10,118)),new te(28,new M(3,45),new M(23,46)),new te(30,new M(4,24),new M(31,25)),new te(30,new M(11,15),new M(31,16))),new ze(29,Int32Array.from([6,30,54,78,102,126]),new te(30,new M(7,116),new M(7,117)),new te(28,new M(21,45),new M(7,46)),new te(30,new M(1,23),new M(37,24)),new te(30,new M(19,15),new M(26,16))),new ze(30,Int32Array.from([6,26,52,78,104,130]),new te(30,new M(5,115),new M(10,116)),new te(28,new M(19,47),new M(10,48)),new te(30,new M(15,24),new M(25,25)),new te(30,new M(23,15),new M(25,16))),new ze(31,Int32Array.from([6,30,56,82,108,134]),new te(30,new M(13,115),new M(3,116)),new te(28,new M(2,46),new M(29,47)),new te(30,new M(42,24),new M(1,25)),new te(30,new M(23,15),new M(28,16))),new ze(32,Int32Array.from([6,34,60,86,112,138]),new te(30,new M(17,115)),new te(28,new M(10,46),new M(23,47)),new te(30,new M(10,24),new M(35,25)),new te(30,new M(19,15),new M(35,16))),new ze(33,Int32Array.from([6,30,58,86,114,142]),new te(30,new M(17,115),new M(1,116)),new te(28,new M(14,46),new M(21,47)),new te(30,new M(29,24),new M(19,25)),new te(30,new M(11,15),new M(46,16))),new ze(34,Int32Array.from([6,34,62,90,118,146]),new te(30,new M(13,115),new M(6,116)),new te(28,new M(14,46),new M(23,47)),new te(30,new M(44,24),new M(7,25)),new te(30,new M(59,16),new M(1,17))),new ze(35,Int32Array.from([6,30,54,78,102,126,150]),new te(30,new M(12,121),new M(7,122)),new te(28,new M(12,47),new M(26,48)),new te(30,new M(39,24),new M(14,25)),new te(30,new M(22,15),new M(41,16))),new ze(36,Int32Array.from([6,24,50,76,102,128,154]),new te(30,new M(6,121),new M(14,122)),new te(28,new M(6,47),new M(34,48)),new te(30,new M(46,24),new M(10,25)),new te(30,new M(2,15),new M(64,16))),new ze(37,Int32Array.from([6,28,54,80,106,132,158]),new te(30,new M(17,122),new M(4,123)),new te(28,new M(29,46),new M(14,47)),new te(30,new M(49,24),new M(10,25)),new te(30,new M(24,15),new M(46,16))),new ze(38,Int32Array.from([6,32,58,84,110,136,162]),new te(30,new M(4,122),new M(18,123)),new te(28,new M(13,46),new M(32,47)),new te(30,new M(48,24),new M(14,25)),new te(30,new M(42,15),new M(32,16))),new ze(39,Int32Array.from([6,26,54,82,110,138,166]),new te(30,new M(20,117),new M(4,118)),new te(28,new M(40,47),new M(7,48)),new te(30,new M(43,24),new M(22,25)),new te(30,new M(10,15),new M(67,16))),new ze(40,Int32Array.from([6,30,58,86,114,142,170]),new te(30,new M(19,118),new M(6,119)),new te(28,new M(18,47),new M(31,48)),new te(30,new M(34,24),new M(34,25)),new te(30,new M(20,15),new M(61,16)))];var an;(function(T){T[T.DATA_MASK_000=0]="DATA_MASK_000",T[T.DATA_MASK_001=1]="DATA_MASK_001",T[T.DATA_MASK_010=2]="DATA_MASK_010",T[T.DATA_MASK_011=3]="DATA_MASK_011",T[T.DATA_MASK_100=4]="DATA_MASK_100",T[T.DATA_MASK_101=5]="DATA_MASK_101",T[T.DATA_MASK_110=6]="DATA_MASK_110",T[T.DATA_MASK_111=7]="DATA_MASK_111"})(an||(an={}));class st{constructor(e,n){this.value=e,this.isMasked=n}unmaskBitMatrix(e,n){for(let r=0;r<n;r++)for(let l=0;l<n;l++)this.isMasked(r,l)&&e.flip(l,r)}}st.values=new Map([[an.DATA_MASK_000,new st(an.DATA_MASK_000,(T,e)=>(T+e&1)===0)],[an.DATA_MASK_001,new st(an.DATA_MASK_001,(T,e)=>(T&1)===0)],[an.DATA_MASK_010,new st(an.DATA_MASK_010,(T,e)=>e%3===0)],[an.DATA_MASK_011,new st(an.DATA_MASK_011,(T,e)=>(T+e)%3===0)],[an.DATA_MASK_100,new st(an.DATA_MASK_100,(T,e)=>(Math.floor(T/2)+Math.floor(e/3)&1)===0)],[an.DATA_MASK_101,new st(an.DATA_MASK_101,(T,e)=>T*e%6===0)],[an.DATA_MASK_110,new st(an.DATA_MASK_110,(T,e)=>T*e%6<3)],[an.DATA_MASK_111,new st(an.DATA_MASK_111,(T,e)=>(T+e+T*e%3&1)===0)]]);class ul{constructor(e){const n=e.getHeight();if(n<21||(n&3)!==1)throw new H;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let u=0;u<6;u++)e=this.copyBit(u,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let u=5;u>=0;u--)e=this.copyBit(8,u,e);const n=this.bitMatrix.getHeight();let r=0;const l=n-7;for(let u=n-1;u>=l;u--)r=this.copyBit(8,u,r);for(let u=n-8;u<n;u++)r=this.copyBit(u,8,r);if(this.parsedFormatInfo=vn.decodeFormatInformation(e,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new H}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return ze.getVersionForNumber(n);let r=0;const l=e-11;for(let h=5;h>=0;h--)for(let g=e-9;g>=l;g--)r=this.copyBit(g,h,r);let u=ze.decodeVersionInformation(r);if(u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;r=0;for(let h=5;h>=0;h--)for(let g=e-9;g>=l;g--)r=this.copyBit(h,g,r);if(u=ze.decodeVersionInformation(r),u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;throw new H}copyBit(e,n,r){return(this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),n=this.readVersion(),r=st.values.get(e.getDataMask()),l=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,l);const u=n.buildFunctionPattern();let h=!0;const g=new Uint8Array(n.getTotalCodewords());let y=0,b=0,_=0;for(let k=l-1;k>0;k-=2){k===6&&k--;for(let O=0;O<l;O++){const L=h?l-1-O:O;for(let G=0;G<2;G++)u.get(k-G,L)||(_++,b<<=1,this.bitMatrix.get(k-G,L)&&(b|=1),_===8&&(g[y++]=b,_=0,b=0))}h=!h}if(y!==n.getTotalCodewords())throw new H;return g}remask(){if(this.parsedFormatInfo===null)return;const e=st.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let n=0,r=e.getWidth();n<r;n++)for(let l=n+1,u=e.getHeight();l<u;l++)e.get(n,l)!==e.get(l,n)&&(e.flip(l,n),e.flip(n,l))}}class sa{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n,r){if(e.length!==n.getTotalCodewords())throw new I;const l=n.getECBlocksForLevel(r);let u=0;const h=l.getECBlocks();for(const G of h)u+=G.getCount();const g=new Array(u);let y=0;for(const G of h)for(let Y=0;Y<G.getCount();Y++){const Q=G.getDataCodewords(),se=l.getECCodewordsPerBlock()+Q;g[y++]=new sa(Q,new Uint8Array(se))}const b=g[0].codewords.length;let _=g.length-1;for(;_>=0&&g[_].codewords.length!==b;)_--;_++;const k=b-l.getECCodewordsPerBlock();let O=0;for(let G=0;G<k;G++)for(let Y=0;Y<y;Y++)g[Y].codewords[G]=e[O++];for(let G=_;G<y;G++)g[G].codewords[k]=e[O++];const L=g[0].codewords.length;for(let G=k;G<L;G++)for(let Y=0;Y<y;Y++){const Q=Y<_?G:G+1;g[Y].codewords[Q]=e[O++]}return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var zn;(function(T){T[T.TERMINATOR=0]="TERMINATOR",T[T.NUMERIC=1]="NUMERIC",T[T.ALPHANUMERIC=2]="ALPHANUMERIC",T[T.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",T[T.BYTE=4]="BYTE",T[T.ECI=5]="ECI",T[T.KANJI=6]="KANJI",T[T.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",T[T.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",T[T.HANZI=9]="HANZI"})(zn||(zn={}));class We{constructor(e,n,r,l){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=l,We.FOR_BITS.set(l,this),We.FOR_VALUE.set(e,this)}static forBits(e){const n=We.FOR_BITS.get(e);if(n===void 0)throw new I;return n}getCharacterCountBits(e){const n=e.getVersionNumber();let r;return n<=9?r=0:n<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof We))return!1;const n=e;return this.value===n.value}toString(){return this.stringValue}}We.FOR_BITS=new Map,We.FOR_VALUE=new Map,We.TERMINATOR=new We(zn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),We.NUMERIC=new We(zn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),We.ALPHANUMERIC=new We(zn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),We.STRUCTURED_APPEND=new We(zn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),We.BYTE=new We(zn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),We.ECI=new We(zn.ECI,"ECI",Int32Array.from([0,0,0]),7),We.KANJI=new We(zn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),We.FNC1_FIRST_POSITION=new We(zn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),We.FNC1_SECOND_POSITION=new We(zn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),We.HANZI=new We(zn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ft{static decode(e,n,r,l){const u=new so(e);let h=new ce;const g=new Array;let y=-1,b=-1;try{let _=null,k=!1,O;do{if(u.available()<4)O=We.TERMINATOR;else{const L=u.readBits(4);O=We.forBits(L)}switch(O){case We.TERMINATOR:break;case We.FNC1_FIRST_POSITION:case We.FNC1_SECOND_POSITION:k=!0;break;case We.STRUCTURED_APPEND:if(u.available()<16)throw new H;y=u.readBits(8),b=u.readBits(8);break;case We.ECI:const L=Ft.parseECIValue(u);if(_=$.getCharacterSetECIByValue(L),_===null)throw new H;break;case We.HANZI:const G=u.readBits(4),Y=u.readBits(O.getCharacterCountBits(n));G===Ft.GB2312_SUBSET&&Ft.decodeHanziSegment(u,h,Y);break;default:const Q=u.readBits(O.getCharacterCountBits(n));switch(O){case We.NUMERIC:Ft.decodeNumericSegment(u,h,Q);break;case We.ALPHANUMERIC:Ft.decodeAlphanumericSegment(u,h,Q,k);break;case We.BYTE:Ft.decodeByteSegment(u,h,Q,_,g,l);break;case We.KANJI:Ft.decodeKanjiSegment(u,h,Q);break;default:throw new H}break}}while(O!==We.TERMINATOR)}catch{throw new H}return new wt(e,h.toString(),g.length===0?null:g,r===null?null:r.toString(),y,b)}static decodeHanziSegment(e,n,r){if(r*13>e.available())throw new H;const l=new Uint8Array(2*r);let u=0;for(;r>0;){const h=e.readBits(13);let g=h/96<<8&4294967295|h%96;g<959?g+=41377:g+=42657,l[u]=g>>8&255,l[u+1]=g&255,u+=2,r--}try{n.append(ke.decode(l,he.GB2312))}catch(h){throw new H(h)}}static decodeKanjiSegment(e,n,r){if(r*13>e.available())throw new H;const l=new Uint8Array(2*r);let u=0;for(;r>0;){const h=e.readBits(13);let g=h/192<<8&4294967295|h%192;g<7936?g+=33088:g+=49472,l[u]=g>>8,l[u+1]=g,u+=2,r--}try{n.append(ke.decode(l,he.SHIFT_JIS))}catch(h){throw new H(h)}}static decodeByteSegment(e,n,r,l,u,h){if(8*r>e.available())throw new H;const g=new Uint8Array(r);for(let b=0;b<r;b++)g[b]=e.readBits(8);let y;l===null?y=he.guessEncoding(g,h):y=l.getName();try{n.append(ke.decode(g,y))}catch(b){throw new H(b)}u.push(g)}static toAlphaNumericChar(e){if(e>=Ft.ALPHANUMERIC_CHARS.length)throw new H;return Ft.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,n,r,l){const u=n.length();for(;r>1;){if(e.available()<11)throw new H;const h=e.readBits(11);n.append(Ft.toAlphaNumericChar(Math.floor(h/45))),n.append(Ft.toAlphaNumericChar(h%45)),r-=2}if(r===1){if(e.available()<6)throw new H;n.append(Ft.toAlphaNumericChar(e.readBits(6)))}if(l)for(let h=u;h<n.length();h++)n.charAt(h)==="%"&&(h<n.length()-1&&n.charAt(h+1)==="%"?n.deleteCharAt(h+1):n.setCharAt(h,""))}static decodeNumericSegment(e,n,r){for(;r>=3;){if(e.available()<10)throw new H;const l=e.readBits(10);if(l>=1e3)throw new H;n.append(Ft.toAlphaNumericChar(Math.floor(l/100))),n.append(Ft.toAlphaNumericChar(Math.floor(l/10)%10)),n.append(Ft.toAlphaNumericChar(l%10)),r-=3}if(r===2){if(e.available()<7)throw new H;const l=e.readBits(7);if(l>=100)throw new H;n.append(Ft.toAlphaNumericChar(Math.floor(l/10))),n.append(Ft.toAlphaNumericChar(l%10))}else if(r===1){if(e.available()<4)throw new H;const l=e.readBits(4);if(l>=10)throw new H;n.append(Ft.toAlphaNumericChar(l))}}static parseECIValue(e){const n=e.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){const r=e.readBits(8);return(n&63)<<8&4294967295|r}if((n&224)===192){const r=e.readBits(16);return(n&31)<<16&4294967295|r}throw new H}}Ft.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ft.GB2312_SUBSET=1;class ao{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const n=e[0];e[0]=e[2],e[2]=n}}class oo{constructor(){this.rsDecoder=new Hr(ct.QR_CODE_FIELD_256)}decodeBooleanArray(e,n){return this.decodeBitMatrix(_e.parseFromBooleanArray(e),n)}decodeBitMatrix(e,n){const r=new ul(e);let l=null;try{return this.decodeBitMatrixParser(r,n)}catch(u){l=u}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const u=this.decodeBitMatrixParser(r,n);return u.setOther(new ao(!0)),u}catch(u){throw l!==null?l:u}}decodeBitMatrixParser(e,n){const r=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),u=e.readCodewords(),h=sa.getDataBlocks(u,r,l);let g=0;for(const _ of h)g+=_.getNumDataCodewords();const y=new Uint8Array(g);let b=0;for(const _ of h){const k=_.getCodewords(),O=_.getNumDataCodewords();this.correctErrors(k,O);for(let L=0;L<O;L++)y[b++]=k[L]}return Ft.decode(y,r,l,n)}correctErrors(e,n){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new B}for(let l=0;l<n;l++)e[l]=r[l]}}class Bi extends je{constructor(e,n,r){super(e,n),this.estimatedModuleSize=r}aboutEquals(e,n,r){if(Math.abs(n-this.getY())<=e&&Math.abs(r-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,n,r){const l=(this.getX()+n)/2,u=(this.getY()+e)/2,h=(this.estimatedModuleSize+r)/2;return new Bi(l,u,h)}}class vr{constructor(e,n,r,l,u,h,g){this.image=e,this.startX=n,this.startY=r,this.width=l,this.height=u,this.moduleSize=h,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,n=this.height,r=this.width,l=e+r,u=this.startY+n/2,h=new Int32Array(3),g=this.image;for(let y=0;y<n;y++){const b=u+((y&1)===0?Math.floor((y+1)/2):-Math.floor((y+1)/2));h[0]=0,h[1]=0,h[2]=0;let _=e;for(;_<l&&!g.get(_,b);)_++;let k=0;for(;_<l;){if(g.get(_,b))if(k===1)h[1]++;else if(k===2){if(this.foundPatternCross(h)){const O=this.handlePossibleCenter(h,b,_);if(O!==null)return O}h[0]=h[2],h[1]=1,h[2]=0,k=1}else h[++k]++;else k===1&&k++,h[k]++;_++}if(this.foundPatternCross(h)){const O=this.handlePossibleCenter(h,b,l);if(O!==null)return O}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ee}static centerFromEnd(e,n){return n-e[2]-e[1]/2}foundPatternCross(e){const n=this.moduleSize,r=n/2;for(let l=0;l<3;l++)if(Math.abs(n-e[l])>=r)return!1;return!0}crossCheckVertical(e,n,r,l){const u=this.image,h=u.getHeight(),g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;let y=e;for(;y>=0&&u.get(n,y)&&g[1]<=r;)g[1]++,y--;if(y<0||g[1]>r)return NaN;for(;y>=0&&!u.get(n,y)&&g[0]<=r;)g[0]++,y--;if(g[0]>r)return NaN;for(y=e+1;y<h&&u.get(n,y)&&g[1]<=r;)g[1]++,y++;if(y===h||g[1]>r)return NaN;for(;y<h&&!u.get(n,y)&&g[2]<=r;)g[2]++,y++;if(g[2]>r)return NaN;const b=g[0]+g[1]+g[2];return 5*Math.abs(b-l)>=2*l?NaN:this.foundPatternCross(g)?vr.centerFromEnd(g,y):NaN}handlePossibleCenter(e,n,r){const l=e[0]+e[1]+e[2],u=vr.centerFromEnd(e,r),h=this.crossCheckVertical(n,u,2*e[1],l);if(!isNaN(h)){const g=(e[0]+e[1]+e[2])/3;for(const b of this.possibleCenters)if(b.aboutEquals(g,h,u))return b.combineEstimate(h,u,g);const y=new Bi(u,h,g);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null}}class Or extends je{constructor(e,n,r,l){super(e,n),this.estimatedModuleSize=r,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,n,r){if(Math.abs(n-this.getY())<=e&&Math.abs(r-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,n,r){const l=this.count+1,u=(this.count*this.getX()+n)/l,h=(this.count*this.getY()+e)/l,g=(this.count*this.estimatedModuleSize+r)/l;return new Or(u,h,g,l)}}class ii{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Qt{constructor(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const n=e!=null&&e.get(de.TRY_HARDER)!==void 0,r=e!=null&&e.get(de.PURE_BARCODE)!==void 0,l=this.image,u=l.getHeight(),h=l.getWidth();let g=Math.floor(3*u/(4*Qt.MAX_MODULES));(g<Qt.MIN_SKIP||n)&&(g=Qt.MIN_SKIP);let y=!1;const b=new Int32Array(5);for(let k=g-1;k<u&&!y;k+=g){b[0]=0,b[1]=0,b[2]=0,b[3]=0,b[4]=0;let O=0;for(let L=0;L<h;L++)if(l.get(L,k))(O&1)===1&&O++,b[O]++;else if((O&1)===0)if(O===4)if(Qt.foundPatternCross(b)){if(this.handlePossibleCenter(b,k,L,r)===!0)if(g=2,this.hasSkipped===!0)y=this.haveMultiplyConfirmedCenters();else{const Y=this.findRowSkip();Y>b[2]&&(k+=Y-b[2]-g,L=h-1)}else{b[0]=b[2],b[1]=b[3],b[2]=b[4],b[3]=1,b[4]=0,O=3;continue}O=0,b[0]=0,b[1]=0,b[2]=0,b[3]=0,b[4]=0}else b[0]=b[2],b[1]=b[3],b[2]=b[4],b[3]=1,b[4]=0,O=3;else b[++O]++;else b[O]++;Qt.foundPatternCross(b)&&this.handlePossibleCenter(b,k,h,r)===!0&&(g=b[0],this.hasSkipped&&(y=this.haveMultiplyConfirmedCenters()))}const _=this.selectBestPatterns();return je.orderBestPatterns(_),new ii(_)}static centerFromEnd(e,n){return n-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let n=0;for(let u=0;u<5;u++){const h=e[u];if(h===0)return!1;n+=h}if(n<7)return!1;const r=n/7,l=r/2;return Math.abs(r-e[0])<l&&Math.abs(r-e[1])<l&&Math.abs(3*r-e[2])<3*l&&Math.abs(r-e[3])<l&&Math.abs(r-e[4])<l}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,n,r,l){const u=this.getCrossCheckStateCount();let h=0;const g=this.image;for(;e>=h&&n>=h&&g.get(n-h,e-h);)u[2]++,h++;if(e<h||n<h)return!1;for(;e>=h&&n>=h&&!g.get(n-h,e-h)&&u[1]<=r;)u[1]++,h++;if(e<h||n<h||u[1]>r)return!1;for(;e>=h&&n>=h&&g.get(n-h,e-h)&&u[0]<=r;)u[0]++,h++;if(u[0]>r)return!1;const y=g.getHeight(),b=g.getWidth();for(h=1;e+h<y&&n+h<b&&g.get(n+h,e+h);)u[2]++,h++;if(e+h>=y||n+h>=b)return!1;for(;e+h<y&&n+h<b&&!g.get(n+h,e+h)&&u[3]<r;)u[3]++,h++;if(e+h>=y||n+h>=b||u[3]>=r)return!1;for(;e+h<y&&n+h<b&&g.get(n+h,e+h)&&u[4]<r;)u[4]++,h++;if(u[4]>=r)return!1;const _=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(_-l)<2*l&&Qt.foundPatternCross(u)}crossCheckVertical(e,n,r,l){const u=this.image,h=u.getHeight(),g=this.getCrossCheckStateCount();let y=e;for(;y>=0&&u.get(n,y);)g[2]++,y--;if(y<0)return NaN;for(;y>=0&&!u.get(n,y)&&g[1]<=r;)g[1]++,y--;if(y<0||g[1]>r)return NaN;for(;y>=0&&u.get(n,y)&&g[0]<=r;)g[0]++,y--;if(g[0]>r)return NaN;for(y=e+1;y<h&&u.get(n,y);)g[2]++,y++;if(y===h)return NaN;for(;y<h&&!u.get(n,y)&&g[3]<r;)g[3]++,y++;if(y===h||g[3]>=r)return NaN;for(;y<h&&u.get(n,y)&&g[4]<r;)g[4]++,y++;if(g[4]>=r)return NaN;const b=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(b-l)>=2*l?NaN:Qt.foundPatternCross(g)?Qt.centerFromEnd(g,y):NaN}crossCheckHorizontal(e,n,r,l){const u=this.image,h=u.getWidth(),g=this.getCrossCheckStateCount();let y=e;for(;y>=0&&u.get(y,n);)g[2]++,y--;if(y<0)return NaN;for(;y>=0&&!u.get(y,n)&&g[1]<=r;)g[1]++,y--;if(y<0||g[1]>r)return NaN;for(;y>=0&&u.get(y,n)&&g[0]<=r;)g[0]++,y--;if(g[0]>r)return NaN;for(y=e+1;y<h&&u.get(y,n);)g[2]++,y++;if(y===h)return NaN;for(;y<h&&!u.get(y,n)&&g[3]<r;)g[3]++,y++;if(y===h||g[3]>=r)return NaN;for(;y<h&&u.get(y,n)&&g[4]<r;)g[4]++,y++;if(g[4]>=r)return NaN;const b=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(b-l)>=l?NaN:Qt.foundPatternCross(g)?Qt.centerFromEnd(g,y):NaN}handlePossibleCenter(e,n,r,l){const u=e[0]+e[1]+e[2]+e[3]+e[4];let h=Qt.centerFromEnd(e,r),g=this.crossCheckVertical(n,Math.floor(h),e[2],u);if(!isNaN(g)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(g),e[2],u),!isNaN(h)&&(!l||this.crossCheckDiagonal(Math.floor(g),Math.floor(h),e[2],u)))){const y=u/7;let b=!1;const _=this.possibleCenters;for(let k=0,O=_.length;k<O;k++){const L=_[k];if(L.aboutEquals(y,g,h)){_[k]=L.combineEstimate(g,h,y),b=!0;break}}if(!b){const k=new Or(h,g,y);_.push(k),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(k)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let n=null;for(const r of this.possibleCenters)if(r.getCount()>=Qt.CENTER_QUORUM)if(n==null)n=r;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-r.getX())-Math.abs(n.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,n=0;const r=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=Qt.CENTER_QUORUM&&(e++,n+=h.getEstimatedModuleSize());if(e<3)return!1;const l=n/r;let u=0;for(const h of this.possibleCenters)u+=Math.abs(h.getEstimatedModuleSize()-l);return u<=.05*n}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new ee;const n=this.possibleCenters;let r;if(e>3){let l=0,u=0;for(const y of this.possibleCenters){const b=y.getEstimatedModuleSize();l+=b,u+=b*b}r=l/e;let h=Math.sqrt(u/e-r*r);n.sort((y,b)=>{const _=Math.abs(b.getEstimatedModuleSize()-r),k=Math.abs(y.getEstimatedModuleSize()-r);return _<k?-1:_>k?1:0});const g=Math.max(.2*r,h);for(let y=0;y<n.length&&n.length>3;y++){const b=n[y];Math.abs(b.getEstimatedModuleSize()-r)>g&&(n.splice(y,1),y--)}}if(n.length>3){let l=0;for(const u of n)l+=u.getEstimatedModuleSize();r=l/n.length,n.sort((u,h)=>{if(h.getCount()===u.getCount()){const g=Math.abs(h.getEstimatedModuleSize()-r),y=Math.abs(u.getEstimatedModuleSize()-r);return g<y?1:g>y?-1:0}else return h.getCount()-u.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}Qt.CENTER_QUORUM=2,Qt.MIN_SKIP=3,Qt.MAX_MODULES=57;class Wr{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(de.NEED_RESULT_POINT_CALLBACK);const r=new Qt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(r)}processFinderPatternInfo(e){const n=e.getTopLeft(),r=e.getTopRight(),l=e.getBottomLeft(),u=this.calculateModuleSize(n,r,l);if(u<1)throw new ee("No pattern found in proccess finder.");const h=Wr.computeDimension(n,r,l,u),g=ze.getProvisionalVersionForDimension(h),y=g.getDimensionForVersion()-7;let b=null;if(g.getAlignmentPatternCenters().length>0){const L=r.getX()-n.getX()+l.getX(),G=r.getY()-n.getY()+l.getY(),Y=1-3/y,Q=Math.floor(n.getX()+Y*(L-n.getX())),se=Math.floor(n.getY()+Y*(G-n.getY()));for(let ye=4;ye<=16;ye<<=1)try{b=this.findAlignmentInRegion(u,Q,se,ye);break}catch(ve){if(!(ve instanceof ee))throw ve}}const _=Wr.createTransform(n,r,l,b,h),k=Wr.sampleGrid(this.image,_,h);let O;return b===null?O=[l,n,r]:O=[l,n,r,b],new ni(k,O)}static createTransform(e,n,r,l,u){const h=u-3.5;let g,y,b,_;return l!==null?(g=l.getX(),y=l.getY(),b=h-3,_=b):(g=n.getX()-e.getX()+r.getX(),y=n.getY()-e.getY()+r.getY(),b=h,_=h),gt.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,b,_,3.5,h,e.getX(),e.getY(),n.getX(),n.getY(),g,y,r.getX(),r.getY())}static sampleGrid(e,n,r){return Dt.getInstance().sampleGridWithTransform(e,r,r,n)}static computeDimension(e,n,r,l){const u=rt.round(je.distance(e,n)/l),h=rt.round(je.distance(e,r)/l);let g=Math.floor((u+h)/2)+7;switch(g&3){case 0:g++;break;case 2:g--;break;case 3:throw new ee("Dimensions could be not found.")}return g}calculateModuleSize(e,n,r){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,n){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?l/7:isNaN(l)?r/7:(r+l)/14}sizeOfBlackWhiteBlackRunBothWays(e,n,r,l){let u=this.sizeOfBlackWhiteBlackRun(e,n,r,l),h=1,g=e-(r-e);g<0?(h=e/(e-g),g=0):g>=this.image.getWidth()&&(h=(this.image.getWidth()-1-e)/(g-e),g=this.image.getWidth()-1);let y=Math.floor(n-(l-n)*h);return h=1,y<0?(h=n/(n-y),y=0):y>=this.image.getHeight()&&(h=(this.image.getHeight()-1-n)/(y-n),y=this.image.getHeight()-1),g=Math.floor(e+(g-e)*h),u+=this.sizeOfBlackWhiteBlackRun(e,n,g,y),u-1}sizeOfBlackWhiteBlackRun(e,n,r,l){const u=Math.abs(l-n)>Math.abs(r-e);if(u){let L=e;e=n,n=L,L=r,r=l,l=L}const h=Math.abs(r-e),g=Math.abs(l-n);let y=-h/2;const b=e<r?1:-1,_=n<l?1:-1;let k=0;const O=r+b;for(let L=e,G=n;L!==O;L+=b){const Y=u?G:L,Q=u?L:G;if(k===1===this.image.get(Y,Q)){if(k===2)return rt.distance(L,G,e,n);k++}if(y+=g,y>0){if(G===l)break;G+=_,y-=h}}return k===2?rt.distance(r+b,l,e,n):NaN}findAlignmentInRegion(e,n,r,l){const u=Math.floor(l*e),h=Math.max(0,n-u),g=Math.min(this.image.getWidth()-1,n+u);if(g-h<e*3)throw new ee("Alignment top exceeds estimated module size.");const y=Math.max(0,r-u),b=Math.min(this.image.getHeight()-1,r+u);if(b-y<e*3)throw new ee("Alignment bottom exceeds estimated module size.");return new vr(this.image,h,y,g-h,b-y,e,this.resultPointCallback).find()}}class Dn{constructor(){this.decoder=new oo}getDecoder(){return this.decoder}decode(e,n){let r,l;if(n!=null&&n.get(de.PURE_BARCODE)!==void 0){const y=Dn.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(y,n),l=Dn.NO_POINTS}else{const y=new Wr(e.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(y.getBits(),n),l=y.getPoints()}r.getOther()instanceof ao&&r.getOther().applyMirroredCorrection(l);const u=new Fe(r.getText(),r.getRawBytes(),void 0,l,we.QR_CODE,void 0),h=r.getByteSegments();h!==null&&u.putMetadata(Xe.BYTE_SEGMENTS,h);const g=r.getECLevel();return g!==null&&u.putMetadata(Xe.ERROR_CORRECTION_LEVEL,g),r.hasStructuredAppend()&&(u.putMetadata(Xe.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),u.putMetadata(Xe.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),u}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n===null||r===null)throw new ee;const l=this.moduleSize(n,e);let u=n[1],h=r[1],g=n[0],y=r[0];if(g>=y||u>=h)throw new ee;if(h-u!==y-g&&(y=g+(h-u),y>=e.getWidth()))throw new ee;const b=Math.round((y-g+1)/l),_=Math.round((h-u+1)/l);if(b<=0||_<=0)throw new ee;if(_!==b)throw new ee;const k=Math.floor(l/2);u+=k,g+=k;const O=g+Math.floor((b-1)*l)-y;if(O>0){if(O>k)throw new ee;g-=O}const L=u+Math.floor((_-1)*l)-h;if(L>0){if(L>k)throw new ee;u-=L}const G=new _e(b,_);for(let Y=0;Y<_;Y++){const Q=u+Math.floor(Y*l);for(let se=0;se<b;se++)e.get(g+Math.floor(se*l),Q)&&G.set(se,Y)}return G}static moduleSize(e,n){const r=n.getHeight(),l=n.getWidth();let u=e[0],h=e[1],g=!0,y=0;for(;u<l&&h<r;){if(g!==n.get(u,h)){if(++y===5)break;g=!g}u++,h++}if(u===l||h===r)throw new ee;return(u-e[0])/7}}Dn.NO_POINTS=new Array;class $e{PDF417Common(){}static getBitCountSum(e){return rt.sum(e)}static toIntArray(e){if(e==null||!e.length)return $e.EMPTY_INT_ARRAY;const n=new Int32Array(e.length);let r=0;for(const l of e)n[r++]=l;return n}static getCodeword(e){const n=K.binarySearch($e.SYMBOL_TABLE,e&262143);return n<0?-1:($e.CODEWORD_TABLE[n]-1)%$e.NUMBER_OF_CODEWORDS}}$e.NUMBER_OF_CODEWORDS=929,$e.MAX_CODEWORDS_IN_BARCODE=$e.NUMBER_OF_CODEWORDS-1,$e.MIN_ROWS_IN_BARCODE=3,$e.MAX_ROWS_IN_BARCODE=90,$e.MODULES_IN_CODEWORD=17,$e.MODULES_IN_STOP_PATTERN=18,$e.BARS_IN_MODULE=8,$e.EMPTY_INT_ARRAY=new Int32Array([]),$e.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),$e.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class dl{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class et{static detectMultiple(e,n,r){let l=e.getBlackMatrix(),u=et.detect(r,l);return u.length||(l=l.clone(),l.rotate180(),u=et.detect(r,l)),new dl(l,u)}static detect(e,n){const r=new Array;let l=0,u=0,h=!1;for(;l<n.getHeight();){const g=et.findVertices(n,l,u);if(g[0]==null&&g[3]==null){if(!h)break;h=!1,u=0;for(const y of r)y[1]!=null&&(l=Math.trunc(Math.max(l,y[1].getY()))),y[3]!=null&&(l=Math.max(l,Math.trunc(y[3].getY())));l+=et.ROW_STEP;continue}if(h=!0,r.push(g),!e)break;g[2]!=null?(u=Math.trunc(g[2].getX()),l=Math.trunc(g[2].getY())):(u=Math.trunc(g[4].getX()),l=Math.trunc(g[4].getY()))}return r}static findVertices(e,n,r){const l=e.getHeight(),u=e.getWidth(),h=new Array(8);return et.copyToResult(h,et.findRowsWithPattern(e,l,u,n,r,et.START_PATTERN),et.INDEXES_START_PATTERN),h[4]!=null&&(r=Math.trunc(h[4].getX()),n=Math.trunc(h[4].getY())),et.copyToResult(h,et.findRowsWithPattern(e,l,u,n,r,et.STOP_PATTERN),et.INDEXES_STOP_PATTERN),h}static copyToResult(e,n,r){for(let l=0;l<r.length;l++)e[r[l]]=n[l]}static findRowsWithPattern(e,n,r,l,u,h){const g=new Array(4);let y=!1;const b=new Int32Array(h.length);for(;l<n;l+=et.ROW_STEP){let k=et.findGuardPattern(e,u,l,r,!1,h,b);if(k!=null){for(;l>0;){const O=et.findGuardPattern(e,u,--l,r,!1,h,b);if(O!=null)k=O;else{l++;break}}g[0]=new je(k[0],l),g[1]=new je(k[1],l),y=!0;break}}let _=l+1;if(y){let k=0,O=Int32Array.from([Math.trunc(g[0].getX()),Math.trunc(g[1].getX())]);for(;_<n;_++){const L=et.findGuardPattern(e,O[0],_,r,!1,h,b);if(L!=null&&Math.abs(O[0]-L[0])<et.MAX_PATTERN_DRIFT&&Math.abs(O[1]-L[1])<et.MAX_PATTERN_DRIFT)O=L,k=0;else{if(k>et.SKIPPED_ROW_COUNT_MAX)break;k++}}_-=k+1,g[2]=new je(O[0],_),g[3]=new je(O[1],_)}return _-l<et.BARCODE_MIN_HEIGHT&&K.fill(g,null),g}static findGuardPattern(e,n,r,l,u,h,g){K.fillWithin(g,0,g.length,0);let y=n,b=0;for(;e.get(y,r)&&y>0&&b++<et.MAX_PIXEL_DRIFT;)y--;let _=y,k=0,O=h.length;for(let L=u;_<l;_++)if(e.get(_,r)!==L)g[k]++;else{if(k===O-1){if(et.patternMatchVariance(g,h,et.MAX_INDIVIDUAL_VARIANCE)<et.MAX_AVG_VARIANCE)return new Int32Array([y,_]);y+=g[0]+g[1],R.arraycopy(g,2,g,0,k-1),g[k-1]=0,g[k]=0,k--}else k++;g[k]=1,L=!L}return k===O-1&&et.patternMatchVariance(g,h,et.MAX_INDIVIDUAL_VARIANCE)<et.MAX_AVG_VARIANCE?new Int32Array([y,_-1]):null}static patternMatchVariance(e,n,r){let l=e.length,u=0,h=0;for(let b=0;b<l;b++)u+=e[b],h+=n[b];if(u<h)return 1/0;let g=u/h;r*=g;let y=0;for(let b=0;b<l;b++){let _=e[b],k=n[b]*g,O=_>k?_-k:k-_;if(O>r)return 1/0;y+=O}return y/u}}et.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),et.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),et.MAX_AVG_VARIANCE=.42,et.MAX_INDIVIDUAL_VARIANCE=.8,et.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),et.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),et.MAX_PIXEL_DRIFT=3,et.MAX_PATTERN_DRIFT=5,et.SKIPPED_ROW_COUNT_MAX=25,et.ROW_STEP=5,et.BARCODE_MIN_HEIGHT=10;class wn{constructor(e,n){if(n.length===0)throw new I;this.field=e;let r=n.length;if(r>1&&n[0]===0){let l=1;for(;l<r&&n[l]===0;)l++;l===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-l),R.arraycopy(n,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let l=0;for(let u of this.coefficients)l=this.field.add(l,u);return l}let n=this.coefficients[0],r=this.coefficients.length;for(let l=1;l<r;l++)n=this.field.add(this.field.multiply(e,n),this.coefficients[l]);return n}add(e){if(!this.field.equals(e.field))throw new I("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,r=e.coefficients;if(n.length>r.length){let h=n;n=r,r=h}let l=new Int32Array(r.length),u=r.length-n.length;R.arraycopy(r,0,l,0,u);for(let h=u;h<r.length;h++)l[h]=this.field.add(n[h-u],r[h]);return new wn(this.field,l)}subtract(e){if(!this.field.equals(e.field))throw new I("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof wn?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new I("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new wn(this.field,new Int32Array([0]));let n=this.coefficients,r=n.length,l=e.coefficients,u=l.length,h=new Int32Array(r+u-1);for(let g=0;g<r;g++){let y=n[g];for(let b=0;b<u;b++)h[g+b]=this.field.add(h[g+b],this.field.multiply(y,l[b]))}return new wn(this.field,h)}negative(){let e=this.coefficients.length,n=new Int32Array(e);for(let r=0;r<e;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new wn(this.field,n)}multiplyScalar(e){if(e===0)return new wn(this.field,new Int32Array([0]));if(e===1)return this;let n=this.coefficients.length,r=new Int32Array(n);for(let l=0;l<n;l++)r[l]=this.field.multiply(this.coefficients[l],e);return new wn(this.field,r)}multiplyByMonomial(e,n){if(e<0)throw new I;if(n===0)return new wn(this.field,new Int32Array([0]));let r=this.coefficients.length,l=new Int32Array(r+e);for(let u=0;u<r;u++)l[u]=this.field.multiply(this.coefficients[u],n);return new wn(this.field,l)}toString(){let e=new ce;for(let n=this.getDegree();n>=0;n--){let r=this.getCoefficient(n);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(n===0||r!==1)&&e.append(r),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()}}class hl{add(e,n){return(e+n)%this.modulus}subtract(e,n){return(this.modulus+e-n)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new I;return this.logTable[e]}inverse(e){if(e===0)throw new tr;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Fi extends hl{constructor(e,n){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let l=0;l<e;l++)this.expTable[l]=r,r=r*n%e;for(let l=0;l<e-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new wn(this,new Int32Array([0])),this.one=new wn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new I;if(n===0)return this.zero;let r=new Int32Array(e+1);return r[0]=n,new wn(this,r)}}Fi.PDF417_GF=new Fi($e.NUMBER_OF_CODEWORDS,3);class lo{constructor(){this.field=Fi.PDF417_GF}decode(e,n,r){let l=new wn(this.field,e),u=new Int32Array(n),h=!1;for(let G=n;G>0;G--){let Y=l.evaluateAt(this.field.exp(G));u[n-G]=Y,Y!==0&&(h=!0)}if(!h)return 0;let g=this.field.getOne();if(r!=null)for(const G of r){let Y=this.field.exp(e.length-1-G),Q=new wn(this.field,new Int32Array([this.field.subtract(0,Y),1]));g=g.multiply(Q)}let y=new wn(this.field,u),b=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),y,n),_=b[0],k=b[1],O=this.findErrorLocations(_),L=this.findErrorMagnitudes(k,_,O);for(let G=0;G<O.length;G++){let Y=e.length-1-this.field.log(O[G]);if(Y<0)throw B.getChecksumInstance();e[Y]=this.field.subtract(e[Y],L[G])}return O.length}runEuclideanAlgorithm(e,n,r){if(e.getDegree()<n.getDegree()){let O=e;e=n,n=O}let l=e,u=n,h=this.field.getZero(),g=this.field.getOne();for(;u.getDegree()>=Math.round(r/2);){let O=l,L=h;if(l=u,h=g,l.isZero())throw B.getChecksumInstance();u=O;let G=this.field.getZero(),Y=l.getCoefficient(l.getDegree()),Q=this.field.inverse(Y);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){let se=u.getDegree()-l.getDegree(),ye=this.field.multiply(u.getCoefficient(u.getDegree()),Q);G=G.add(this.field.buildMonomial(se,ye)),u=u.subtract(l.multiplyByMonomial(se,ye))}g=G.multiply(h).subtract(L).negative()}let y=g.getCoefficient(0);if(y===0)throw B.getChecksumInstance();let b=this.field.inverse(y),_=g.multiply(b),k=u.multiply(b);return[_,k]}findErrorLocations(e){let n=e.getDegree(),r=new Int32Array(n),l=0;for(let u=1;u<this.field.getSize()&&l<n;u++)e.evaluateAt(u)===0&&(r[l]=this.field.inverse(u),l++);if(l!==n)throw B.getChecksumInstance();return r}findErrorMagnitudes(e,n,r){let l=n.getDegree(),u=new Int32Array(l);for(let b=1;b<=l;b++)u[l-b]=this.field.multiply(b,n.getCoefficient(b));let h=new wn(this.field,u),g=r.length,y=new Int32Array(g);for(let b=0;b<g;b++){let _=this.field.inverse(r[b]),k=this.field.subtract(0,e.evaluateAt(_)),O=this.field.inverse(h.evaluateAt(_));y[b]=this.field.multiply(k,O)}return y}}class mi{constructor(e,n,r,l,u){e instanceof mi?this.constructor_2(e):this.constructor_1(e,n,r,l,u)}constructor_1(e,n,r,l,u){const h=n==null||r==null,g=l==null||u==null;if(h&&g)throw new ee;h?(n=new je(0,l.getY()),r=new je(0,u.getY())):g&&(l=new je(e.getWidth()-1,n.getY()),u=new je(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=n,this.bottomLeft=r,this.topRight=l,this.bottomRight=u,this.minX=Math.trunc(Math.min(n.getX(),r.getX())),this.maxX=Math.trunc(Math.max(l.getX(),u.getX())),this.minY=Math.trunc(Math.min(n.getY(),l.getY())),this.maxY=Math.trunc(Math.max(r.getY(),u.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,n){return e==null?n:n==null?e:new mi(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)}addMissingRows(e,n,r){let l=this.topLeft,u=this.bottomLeft,h=this.topRight,g=this.bottomRight;if(e>0){let y=r?this.topLeft:this.topRight,b=Math.trunc(y.getY()-e);b<0&&(b=0);let _=new je(y.getX(),b);r?l=_:h=_}if(n>0){let y=r?this.bottomLeft:this.bottomRight,b=Math.trunc(y.getY()+n);b>=this.image.getHeight()&&(b=this.image.getHeight()-1);let _=new je(y.getX(),b);r?u=_:g=_}return new mi(this.image,l,u,h,g)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Ns{constructor(e,n,r,l){this.columnCount=e,this.errorCorrectionLevel=l,this.rowCountUpperPart=n,this.rowCountLowerPart=r,this.rowCount=n+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Vr{constructor(){this.buffer=""}static form(e,n){let r=-1;function l(h,g,y,b,_,k){if(h==="%%")return"%";if(n[++r]===void 0)return;h=b?parseInt(b.substr(1)):void 0;let O=_?parseInt(_.substr(1)):void 0,L;switch(k){case"s":L=n[r];break;case"c":L=n[r][0];break;case"f":L=parseFloat(n[r]).toFixed(h);break;case"p":L=parseFloat(n[r]).toPrecision(h);break;case"e":L=parseFloat(n[r]).toExponential(h);break;case"x":L=parseInt(n[r]).toString(O||16);break;case"d":L=parseFloat(parseInt(n[r],O||10).toPrecision(h)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(O);let G=parseInt(y),Y=y&&y[0]+""=="0"?"0":" ";for(;L.length<G;)L=g!==void 0?L+Y:Y+L;return L}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(u,l)}format(e,...n){this.buffer+=Vr.form(e,n)}toString(){return this.buffer}}class Dr{constructor(e){this.boundingBox=new mi(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let n=this.getCodeword(e);if(n!=null)return n;for(let r=1;r<Dr.MAX_NEARBY_DISTANCE;r++){let l=this.imageRowToCodewordIndex(e)-r;if(l>=0&&(n=this.codewords[l],n!=null)||(l=this.imageRowToCodewordIndex(e)+r,l<this.codewords.length&&(n=this.codewords[l],n!=null)))return n}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Vr;let n=0;for(const r of this.codewords){if(r==null){e.format("%3d:    |   %n",n++);continue}e.format("%3d: %3d|%3d%n",n++,r.getRowNumber(),r.getValue())}return e.toString()}}Dr.MAX_NEARBY_DISTANCE=5;class si{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)}getValue(){let e=-1,n=new Array;for(const[r,l]of this.values.entries()){const u={getKey:()=>r,getValue:()=>l};u.getValue()>e?(e=u.getValue(),n=[],n.push(u.getKey())):u.getValue()===e&&n.push(u.getKey())}return $e.toIntArray(n)}getConfidence(e){return this.values.get(e)}}class fl extends Dr{constructor(e,n){super(e),this._isLeft=n}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,e);let r=this.getBoundingBox(),l=this._isLeft?r.getTopLeft():r.getTopRight(),u=this._isLeft?r.getBottomLeft():r.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(l.getY())),g=this.imageRowToCodewordIndex(Math.trunc(u.getY())),y=-1,b=1,_=0;for(let k=h;k<g;k++){if(n[k]==null)continue;let O=n[k],L=O.getRowNumber()-y;if(L===0)_++;else if(L===1)b=Math.max(b,_),_=1,y=O.getRowNumber();else if(L<0||O.getRowNumber()>=e.getRowCount()||L>k)n[k]=null;else{let G;b>2?G=(b-2)*L:G=L;let Y=G>=k;for(let Q=1;Q<=G&&!Y;Q++)Y=n[k-Q]!=null;Y?n[k]=null:(y=O.getRowNumber(),_=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let n=new Int32Array(e.getRowCount());for(let r of this.getCodewords())if(r!=null){let l=r.getRowNumber();if(l>=n.length)continue;n[l]++}return n}adjustIncompleteIndicatorColumnRowNumbers(e){let n=this.getBoundingBox(),r=this._isLeft?n.getTopLeft():n.getTopRight(),l=this._isLeft?n.getBottomLeft():n.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(r.getY())),h=this.imageRowToCodewordIndex(Math.trunc(l.getY())),g=this.getCodewords(),y=-1;for(let b=u;b<h;b++){if(g[b]==null)continue;let _=g[b];_.setRowNumberAsRowIndicatorColumn();let k=_.getRowNumber()-y;k===0||(k===1?y=_.getRowNumber():_.getRowNumber()>=e.getRowCount()?g[b]=null:y=_.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),n=new si,r=new si,l=new si,u=new si;for(let g of e){if(g==null)continue;g.setRowNumberAsRowIndicatorColumn();let y=g.getValue()%30,b=g.getRowNumber();switch(this._isLeft||(b+=2),b%3){case 0:r.setValue(y*3+1);break;case 1:u.setValue(y/3),l.setValue(y%3);break;case 2:n.setValue(y+1);break}}if(n.getValue().length===0||r.getValue().length===0||l.getValue().length===0||u.getValue().length===0||n.getValue()[0]<1||r.getValue()[0]+l.getValue()[0]<$e.MIN_ROWS_IN_BARCODE||r.getValue()[0]+l.getValue()[0]>$e.MAX_ROWS_IN_BARCODE)return null;let h=new Ns(n.getValue()[0],r.getValue()[0],l.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(e,h),h}removeIncorrectCodewords(e,n){for(let r=0;r<e.length;r++){let l=e[r];if(e[r]==null)continue;let u=l.getValue()%30,h=l.getRowNumber();if(h>n.getRowCount()){e[r]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:u*3+1!==n.getRowCountUpperPart()&&(e[r]=null);break;case 1:(Math.trunc(u/3)!==n.getErrorCorrectionLevel()||u%3!==n.getRowCountLowerPart())&&(e[r]=null);break;case 2:u+1!==n.getColumnCount()&&(e[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ss{constructor(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=$e.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let n=1;n<this.barcodeColumnCount+1;n++){let r=this.detectionResultColumns[n].getCodewords();for(let l=0;l<r.length;l++)r[l]!=null&&(r[l].hasValidRowNumber()||this.adjustRowNumbers(n,l,r))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(e[r]!=null&&n[r]!=null&&e[r].getRowNumber()===n[r].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let u=this.detectionResultColumns[l].getCodewords()[r];u!=null&&(u.setRowNumber(e[r].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<n.length;r++){if(n[r]==null)continue;let l=n[r].getRowNumber(),u=0;for(let h=this.barcodeColumnCount+1;h>0&&u<this.ADJUST_ROW_NUMBER_SKIP;h--){let g=this.detectionResultColumns[h].getCodewords()[r];g!=null&&(u=Ss.adjustRowNumberIfValid(l,u,g),g.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,n=this.detectionResultColumns[0].getCodewords();for(let r=0;r<n.length;r++){if(n[r]==null)continue;let l=n[r].getRowNumber(),u=0;for(let h=1;h<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;h++){let g=this.detectionResultColumns[h].getCodewords()[r];g!=null&&(u=Ss.adjustRowNumberIfValid(l,u,g),g.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,n,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),n=0):++n),n}adjustRowNumbers(e,n,r){if(!this.detectionResultColumns[e-1])return;let l=r[n],u=this.detectionResultColumns[e-1].getCodewords(),h=u;this.detectionResultColumns[e+1]!=null&&(h=this.detectionResultColumns[e+1].getCodewords());let g=new Array(14);g[2]=u[n],g[3]=h[n],n>0&&(g[0]=r[n-1],g[4]=u[n-1],g[5]=h[n-1]),n>1&&(g[8]=r[n-2],g[10]=u[n-2],g[11]=h[n-2]),n<r.length-1&&(g[1]=r[n+1],g[6]=u[n+1],g[7]=h[n+1]),n<r.length-2&&(g[9]=r[n+2],g[12]=u[n+2],g[13]=h[n+2]);for(let y of g)if(Ss.adjustRowNumber(l,y))return}static adjustRowNumber(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,n){this.detectionResultColumns[e]=n}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let n=new Vr;for(let r=0;r<e.getCodewords().length;r++){n.format("CW %3d:",r);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){n.format("    |   ");continue}let u=this.detectionResultColumns[l].getCodewords()[r];if(u==null){n.format("    |   ");continue}n.format(" %3d|%3d",u.getRowNumber(),u.getValue())}n.format("%n")}return n.toString()}}class gi{constructor(e,n,r,l){this.rowNumber=gi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==gi.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}gi.BARCODE_ROW_UNKNOWN=-1;class bn{static initialize(){for(let e=0;e<$e.SYMBOL_TABLE.length;e++){let n=$e.SYMBOL_TABLE[e],r=n&1;for(let l=0;l<$e.BARS_IN_MODULE;l++){let u=0;for(;(n&1)===r;)u+=1,n>>=1;r=n&1,bn.RATIOS_TABLE[e]||(bn.RATIOS_TABLE[e]=new Array($e.BARS_IN_MODULE)),bn.RATIOS_TABLE[e][$e.BARS_IN_MODULE-l-1]=Math.fround(u/$e.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let n=bn.getDecodedCodewordValue(bn.sampleBitCounts(e));return n!==-1?n:bn.getClosestDecodedValue(e)}static sampleBitCounts(e){let n=rt.sum(e),r=new Int32Array($e.BARS_IN_MODULE),l=0,u=0;for(let h=0;h<$e.MODULES_IN_CODEWORD;h++){let g=n/(2*$e.MODULES_IN_CODEWORD)+h*n/$e.MODULES_IN_CODEWORD;u+e[l]<=g&&(u+=e[l],l++),r[l]++}return r}static getDecodedCodewordValue(e){let n=bn.getBitValue(e);return $e.getCodeword(n)===-1?-1:n}static getBitValue(e){let n=0;for(let r=0;r<e.length;r++)for(let l=0;l<e[r];l++)n=n<<1|(r%2===0?1:0);return Math.trunc(n)}static getClosestDecodedValue(e){let n=rt.sum(e),r=new Array($e.BARS_IN_MODULE);if(n>1)for(let h=0;h<r.length;h++)r[h]=Math.fround(e[h]/n);let l=$n.MAX_VALUE,u=-1;this.bSymbolTableReady||bn.initialize();for(let h=0;h<bn.RATIOS_TABLE.length;h++){let g=0,y=bn.RATIOS_TABLE[h];for(let b=0;b<$e.BARS_IN_MODULE;b++){let _=Math.fround(y[b]-r[b]);if(g+=Math.fround(_*_),g>=l)break}g<l&&(l=g,u=$e.SYMBOL_TABLE[h])}return u}}bn.bSymbolTableReady=!1,bn.RATIOS_TABLE=new Array($e.SYMBOL_TABLE.length).map(T=>new Array($e.BARS_IN_MODULE));class aa{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class co{static parseLong(e,n=void 0){return parseInt(e,n)}}class Gr extends w{}Gr.kind="NullPointerException";class uo{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,n,r){if(e==null)throw new Gr;if(n<0||n>e.length||r<0||n+r>e.length||n+r<0)throw new F;if(r===0)return;for(let l=0;l<r;l++)this.write(e[n+l])}flush(){}close(){}}class oa extends w{}class pl extends uo{constructor(e=32){if(super(),this.count=0,e<0)throw new I("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let r=this.buf.length<<1;if(r-e<0&&(r=e),r<0){if(e<0)throw new oa;r=V.MAX_VALUE}this.buf=K.copyOfUint8Array(this.buf,r)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,n,r){if(n<0||n>e.length||r<0||n+r-e.length>0)throw new F;this.ensureCapacity(this.count+r),R.arraycopy(e,n,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return K.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Ct;(function(T){T[T.ALPHA=0]="ALPHA",T[T.LOWER=1]="LOWER",T[T.MIXED=2]="MIXED",T[T.PUNCT=3]="PUNCT",T[T.ALPHA_SHIFT=4]="ALPHA_SHIFT",T[T.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ct||(Ct={}));function As(){if(typeof window<"u")return window.BigInt||null;if(typeof dc<"u")return dc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let _s;function on(T){if(typeof _s>"u"&&(_s=As()),_s===null)throw new Error("BigInt is not supported!");return _s(T)}function Ui(){let T=[];T[0]=on(1);let e=on(900);T[1]=e;for(let n=2;n<16;n++)T[n]=T[n-1]*e;return T}class ae{static decode(e,n){let r=new ce(""),l=$.ISO8859_1;r.enableDecoding(l);let u=1,h=e[u++],g=new aa;for(;u<e[0];){switch(h){case ae.TEXT_COMPACTION_MODE_LATCH:u=ae.textCompaction(e,u,r);break;case ae.BYTE_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:u=ae.byteCompaction(h,e,l,u,r);break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[u++]);break;case ae.NUMERIC_COMPACTION_MODE_LATCH:u=ae.numericCompaction(e,u,r);break;case ae.ECI_CHARSET:$.getCharacterSetECIByValue(e[u++]);break;case ae.ECI_GENERAL_PURPOSE:u+=2;break;case ae.ECI_USER_DEFINED:u++;break;case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=ae.decodeMacroBlock(e,u,g);break;case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:throw new H;default:u--,u=ae.textCompaction(e,u,r);break}if(u<e.length)h=e[u++];else throw H.getFormatInstance()}if(r.length()===0)throw H.getFormatInstance();let y=new wt(null,r.toString(),null,n);return y.setOther(g),y}static decodeMacroBlock(e,n,r){if(n+ae.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw H.getFormatInstance();let l=new Int32Array(ae.NUMBER_OF_SEQUENCE_CODEWORDS);for(let g=0;g<ae.NUMBER_OF_SEQUENCE_CODEWORDS;g++,n++)l[g]=e[n];r.setSegmentIndex(V.parseInt(ae.decodeBase900toBase10(l,ae.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new ce;n=ae.textCompaction(e,n,u),r.setFileId(u.toString());let h=-1;for(e[n]===ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=n+1);n<e[0];)switch(e[n]){case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let g=new ce;n=ae.textCompaction(e,n+1,g),r.setFileName(g.toString());break;case ae.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let y=new ce;n=ae.textCompaction(e,n+1,y),r.setSender(y.toString());break;case ae.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let b=new ce;n=ae.textCompaction(e,n+1,b),r.setAddressee(b.toString());break;case ae.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let _=new ce;n=ae.numericCompaction(e,n+1,_),r.setSegmentCount(V.parseInt(_.toString()));break;case ae.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let k=new ce;n=ae.numericCompaction(e,n+1,k),r.setTimestamp(co.parseLong(k.toString()));break;case ae.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let O=new ce;n=ae.numericCompaction(e,n+1,O),r.setChecksum(V.parseInt(O.toString()));break;case ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let L=new ce;n=ae.numericCompaction(e,n+1,L),r.setFileSize(co.parseLong(L.toString()));break;default:throw H.getFormatInstance()}break;case ae.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw H.getFormatInstance()}if(h!==-1){let g=n-h;r.isLastSegment()&&g--,r.setOptionalData(K.copyOfRange(e,h,h+g))}return n}static textCompaction(e,n,r){let l=new Int32Array((e[0]-n)*2),u=new Int32Array((e[0]-n)*2),h=0,g=!1;for(;n<e[0]&&!g;){let y=e[n++];if(y<ae.TEXT_COMPACTION_MODE_LATCH)l[h]=y/30,l[h+1]=y%30,h+=2;else switch(y){case ae.TEXT_COMPACTION_MODE_LATCH:l[h++]=ae.TEXT_COMPACTION_MODE_LATCH;break;case ae.BYTE_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.NUMERIC_COMPACTION_MODE_LATCH:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:n--,g=!0;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[h]=ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=e[n++],u[h]=y,h++;break}}return ae.decodeTextCompaction(l,u,h,r),n}static decodeTextCompaction(e,n,r,l){let u=Ct.ALPHA,h=Ct.ALPHA,g=0;for(;g<r;){let y=e[g],b="";switch(u){case Ct.ALPHA:if(y<26)b=String.fromCharCode(65+y);else switch(y){case 26:b=" ";break;case ae.LL:u=Ct.LOWER;break;case ae.ML:u=Ct.MIXED;break;case ae.PS:h=u,u=Ct.PUNCT_SHIFT;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[g]);break;case ae.TEXT_COMPACTION_MODE_LATCH:u=Ct.ALPHA;break}break;case Ct.LOWER:if(y<26)b=String.fromCharCode(97+y);else switch(y){case 26:b=" ";break;case ae.AS:h=u,u=Ct.ALPHA_SHIFT;break;case ae.ML:u=Ct.MIXED;break;case ae.PS:h=u,u=Ct.PUNCT_SHIFT;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[g]);break;case ae.TEXT_COMPACTION_MODE_LATCH:u=Ct.ALPHA;break}break;case Ct.MIXED:if(y<ae.PL)b=ae.MIXED_CHARS[y];else switch(y){case ae.PL:u=Ct.PUNCT;break;case 26:b=" ";break;case ae.LL:u=Ct.LOWER;break;case ae.AL:u=Ct.ALPHA;break;case ae.PS:h=u,u=Ct.PUNCT_SHIFT;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[g]);break;case ae.TEXT_COMPACTION_MODE_LATCH:u=Ct.ALPHA;break}break;case Ct.PUNCT:if(y<ae.PAL)b=ae.PUNCT_CHARS[y];else switch(y){case ae.PAL:u=Ct.ALPHA;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[g]);break;case ae.TEXT_COMPACTION_MODE_LATCH:u=Ct.ALPHA;break}break;case Ct.ALPHA_SHIFT:if(u=h,y<26)b=String.fromCharCode(65+y);else switch(y){case 26:b=" ";break;case ae.TEXT_COMPACTION_MODE_LATCH:u=Ct.ALPHA;break}break;case Ct.PUNCT_SHIFT:if(u=h,y<ae.PAL)b=ae.PUNCT_CHARS[y];else switch(y){case ae.PAL:u=Ct.ALPHA;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[g]);break;case ae.TEXT_COMPACTION_MODE_LATCH:u=Ct.ALPHA;break}break}b!==""&&l.append(b),g++}}static byteCompaction(e,n,r,l,u){let h=new pl,g=0,y=0,b=!1;switch(e){case ae.BYTE_COMPACTION_MODE_LATCH:let _=new Int32Array(6),k=n[l++];for(;l<n[0]&&!b;)switch(_[g++]=k,y=900*y+k,k=n[l++],k){case ae.TEXT_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH:case ae.NUMERIC_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:l--,b=!0;break;default:if(g%5===0&&g>0){for(let O=0;O<6;++O)h.write(Number(on(y)>>on(8*(5-O))));y=0,g=0}break}l===n[0]&&k<ae.TEXT_COMPACTION_MODE_LATCH&&(_[g++]=k);for(let O=0;O<g;O++)h.write(_[O]);break;case ae.BYTE_COMPACTION_MODE_LATCH_6:for(;l<n[0]&&!b;){let O=n[l++];if(O<ae.TEXT_COMPACTION_MODE_LATCH)g++,y=900*y+O;else switch(O){case ae.TEXT_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH:case ae.NUMERIC_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:l--,b=!0;break}if(g%5===0&&g>0){for(let L=0;L<6;++L)h.write(Number(on(y)>>on(8*(5-L))));y=0,g=0}}break}return u.append(ke.decode(h.toByteArray(),r)),l}static numericCompaction(e,n,r){let l=0,u=!1,h=new Int32Array(ae.MAX_NUMERIC_CODEWORDS);for(;n<e[0]&&!u;){let g=e[n++];if(n===e[0]&&(u=!0),g<ae.TEXT_COMPACTION_MODE_LATCH)h[l]=g,l++;else switch(g){case ae.TEXT_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:n--,u=!0;break}(l%ae.MAX_NUMERIC_CODEWORDS===0||g===ae.NUMERIC_COMPACTION_MODE_LATCH||u)&&l>0&&(r.append(ae.decodeBase900toBase10(h,l)),l=0)}return n}static decodeBase900toBase10(e,n){let r=on(0);for(let u=0;u<n;u++)r+=ae.EXP900[n-u-1]*on(e[u]);let l=r.toString();if(l.charAt(0)!=="1")throw new H;return l.substring(1)}}ae.TEXT_COMPACTION_MODE_LATCH=900,ae.BYTE_COMPACTION_MODE_LATCH=901,ae.NUMERIC_COMPACTION_MODE_LATCH=902,ae.BYTE_COMPACTION_MODE_LATCH_6=924,ae.ECI_USER_DEFINED=925,ae.ECI_GENERAL_PURPOSE=926,ae.ECI_CHARSET=927,ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ae.MACRO_PDF417_TERMINATOR=922,ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ae.MAX_NUMERIC_CODEWORDS=15,ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ae.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ae.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ae.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ae.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ae.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ae.PL=25,ae.LL=27,ae.AS=27,ae.ML=28,ae.AL=28,ae.PS=29,ae.PAL=29,ae.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ae.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ae.EXP900=As()?Ui():[],ae.NUMBER_OF_SEQUENCE_CODEWORDS=2;class nt{constructor(){}static decode(e,n,r,l,u,h,g){let y=new mi(e,n,r,l,u),b=null,_=null,k;for(let G=!0;;G=!1){if(n!=null&&(b=nt.getRowIndicatorColumn(e,y,n,!0,h,g)),l!=null&&(_=nt.getRowIndicatorColumn(e,y,l,!1,h,g)),k=nt.merge(b,_),k==null)throw ee.getNotFoundInstance();let Y=k.getBoundingBox();if(G&&Y!=null&&(Y.getMinY()<y.getMinY()||Y.getMaxY()>y.getMaxY()))y=Y;else break}k.setBoundingBox(y);let O=k.getBarcodeColumnCount()+1;k.setDetectionResultColumn(0,b),k.setDetectionResultColumn(O,_);let L=b!=null;for(let G=1;G<=O;G++){let Y=L?G:O-G;if(k.getDetectionResultColumn(Y)!==void 0)continue;let Q;Y===0||Y===O?Q=new fl(y,Y===0):Q=new Dr(y),k.setDetectionResultColumn(Y,Q);let se=-1,ye=se;for(let ve=y.getMinY();ve<=y.getMaxY();ve++){if(se=nt.getStartColumn(k,Y,ve,L),se<0||se>y.getMaxX()){if(ye===-1)continue;se=ye}let pe=nt.detectCodeword(e,y.getMinX(),y.getMaxX(),L,se,ve,h,g);pe!=null&&(Q.setCodeword(ve,pe),ye=se,h=Math.min(h,pe.getWidth()),g=Math.max(g,pe.getWidth()))}}return nt.createDecoderResult(k)}static merge(e,n){if(e==null&&n==null)return null;let r=nt.getBarcodeMetadata(e,n);if(r==null)return null;let l=mi.merge(nt.adjustBoundingBox(e),nt.adjustBoundingBox(n));return new Ss(r,l)}static adjustBoundingBox(e){if(e==null)return null;let n=e.getRowHeights();if(n==null)return null;let r=nt.getMax(n),l=0;for(let g of n)if(l+=r-g,g>0)break;let u=e.getCodewords();for(let g=0;l>0&&u[g]==null;g++)l--;let h=0;for(let g=n.length-1;g>=0&&(h+=r-n[g],!(n[g]>0));g--);for(let g=u.length-1;h>0&&u[g]==null;g--)h--;return e.getBoundingBox().addMissingRows(l,h,e.isLeft())}static getMax(e){let n=-1;for(let r of e)n=Math.max(n,r);return n}static getBarcodeMetadata(e,n){let r;if(e==null||(r=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();let l;return n==null||(l=n.getBarcodeMetadata())==null?r:r.getColumnCount()!==l.getColumnCount()&&r.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&r.getRowCount()!==l.getRowCount()?null:r}static getRowIndicatorColumn(e,n,r,l,u,h){let g=new fl(n,l);for(let y=0;y<2;y++){let b=y===0?1:-1,_=Math.trunc(Math.trunc(r.getX()));for(let k=Math.trunc(Math.trunc(r.getY()));k<=n.getMaxY()&&k>=n.getMinY();k+=b){let O=nt.detectCodeword(e,0,e.getWidth(),l,_,k,u,h);O!=null&&(g.setCodeword(k,O),l?_=O.getStartX():_=O.getEndX())}}return g}static adjustCodewordCount(e,n){let r=n[0][1],l=r.getValue(),u=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-nt.getNumberOfECCodeWords(e.getBarcodeECLevel());if(l.length===0){if(u<1||u>$e.MAX_CODEWORDS_IN_BARCODE)throw ee.getNotFoundInstance();r.setValue(u)}else l[0]!==u&&r.setValue(u)}static createDecoderResult(e){let n=nt.createBarcodeMatrix(e);nt.adjustCodewordCount(e,n);let r=new Array,l=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),u=[],h=new Array;for(let y=0;y<e.getBarcodeRowCount();y++)for(let b=0;b<e.getBarcodeColumnCount();b++){let _=n[y][b+1].getValue(),k=y*e.getBarcodeColumnCount()+b;_.length===0?r.push(k):_.length===1?l[k]=_[0]:(h.push(k),u.push(_))}let g=new Array(u.length);for(let y=0;y<g.length;y++)g[y]=u[y];return nt.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),l,$e.toIntArray(r),$e.toIntArray(h),g)}static createDecoderResultFromAmbiguousValues(e,n,r,l,u){let h=new Int32Array(l.length),g=100;for(;g-- >0;){for(let y=0;y<h.length;y++)n[l[y]]=u[y][h[y]];try{return nt.decodeCodewords(n,e,r)}catch(y){if(!(y instanceof B))throw y}if(h.length===0)throw B.getChecksumInstance();for(let y=0;y<h.length;y++)if(h[y]<u[y].length-1){h[y]++;break}else if(h[y]=0,y===h.length-1)throw B.getChecksumInstance()}throw B.getChecksumInstance()}static createBarcodeMatrix(e){let n=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let l=0;l<n.length;l++)for(let u=0;u<n[l].length;u++)n[l][u]=new si;let r=0;for(let l of e.getDetectionResultColumns()){if(l!=null){for(let u of l.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=0){if(h>=n.length)continue;n[h][r].setValue(u.getValue())}}}r++}return n}static isValidBarcodeColumn(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1}static getStartColumn(e,n,r,l){let u=l?1:-1,h=null;if(nt.isValidBarcodeColumn(e,n-u)&&(h=e.getDetectionResultColumn(n-u).getCodeword(r)),h!=null)return l?h.getEndX():h.getStartX();if(h=e.getDetectionResultColumn(n).getCodewordNearby(r),h!=null)return l?h.getStartX():h.getEndX();if(nt.isValidBarcodeColumn(e,n-u)&&(h=e.getDetectionResultColumn(n-u).getCodewordNearby(r)),h!=null)return l?h.getEndX():h.getStartX();let g=0;for(;nt.isValidBarcodeColumn(e,n-u);){n-=u;for(let y of e.getDetectionResultColumn(n).getCodewords())if(y!=null)return(l?y.getEndX():y.getStartX())+u*g*(y.getEndX()-y.getStartX());g++}return l?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,n,r,l,u,h,g,y){u=nt.adjustCodewordStartColumn(e,n,r,l,u,h);let b=nt.getModuleBitCount(e,n,r,l,u,h);if(b==null)return null;let _,k=rt.sum(b);if(l)_=u+k;else{for(let G=0;G<b.length/2;G++){let Y=b[G];b[G]=b[b.length-1-G],b[b.length-1-G]=Y}_=u,u=_-k}if(!nt.checkCodewordSkew(k,g,y))return null;let O=bn.getDecodedValue(b),L=$e.getCodeword(O);return L===-1?null:new gi(u,_,nt.getCodewordBucketNumber(O),L)}static getModuleBitCount(e,n,r,l,u,h){let g=u,y=new Int32Array(8),b=0,_=l?1:-1,k=l;for(;(l?g<r:g>=n)&&b<y.length;)e.get(g,h)===k?(y[b]++,g+=_):(b++,k=!k);return b===y.length||g===(l?r:n)&&b===y.length-1?y:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,n,r,l,u,h){let g=u,y=l?-1:1;for(let b=0;b<2;b++){for(;(l?g>=n:g<r)&&l===e.get(g,h);){if(Math.abs(u-g)>nt.CODEWORD_SKEW_SIZE)return u;g+=y}y=-y,l=!l}return g}static checkCodewordSkew(e,n,r){return n-nt.CODEWORD_SKEW_SIZE<=e&&e<=r+nt.CODEWORD_SKEW_SIZE}static decodeCodewords(e,n,r){if(e.length===0)throw H.getFormatInstance();let l=1<<n+1,u=nt.correctErrors(e,r,l);nt.verifyCodewordCount(e,l);let h=ae.decode(e,""+n);return h.setErrorsCorrected(u),h.setErasures(r.length),h}static correctErrors(e,n,r){if(n!=null&&n.length>r/2+nt.MAX_ERRORS||r<0||r>nt.MAX_EC_CODEWORDS)throw B.getChecksumInstance();return nt.errorCorrection.decode(e,r,n)}static verifyCodewordCount(e,n){if(e.length<4)throw H.getFormatInstance();let r=e[0];if(r>e.length)throw H.getFormatInstance();if(r===0)if(n<e.length)e[0]=e.length-n;else throw H.getFormatInstance()}static getBitCountForCodeword(e){let n=new Int32Array(8),r=0,l=n.length-1;for(;!((e&1)!==r&&(r=e&1,l--,l<0));)n[l]++,e>>=1;return n}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return nt.getCodewordBucketNumber(nt.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let n=new Vr;for(let r=0;r<e.length;r++){n.format("Row %2d: ",r);for(let l=0;l<e[r].length;l++){let u=e[r][l];u.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}n.format("%n")}return n.toString()}}nt.CODEWORD_SKEW_SIZE=2,nt.MAX_ERRORS=3,nt.MAX_EC_CODEWORDS=512,nt.errorCorrection=new lo;class Cn{decode(e,n=null){let r=Cn.decode(e,n,!1);if(r==null||r.length===0||r[0]==null)throw ee.getNotFoundInstance();return r[0]}decodeMultiple(e,n=null){try{return Cn.decode(e,n,!0)}catch(r){throw r instanceof H||r instanceof B?ee.getNotFoundInstance():r}}static decode(e,n,r){const l=new Array,u=et.detectMultiple(e,n,r);for(const h of u.getPoints()){const g=nt.decode(u.getBits(),h[4],h[5],h[6],h[7],Cn.getMinCodewordWidth(h),Cn.getMaxCodewordWidth(h)),y=new Fe(g.getText(),g.getRawBytes(),void 0,h,we.PDF_417);y.putMetadata(Xe.ERROR_CORRECTION_LEVEL,g.getECLevel());const b=g.getOther();b!=null&&y.putMetadata(Xe.PDF417_EXTRA_METADATA,b),l.push(y)}return l.map(h=>h)}static getMaxWidth(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMinWidth(e,n){return e==null||n==null?V.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(Cn.getMaxWidth(e[0],e[4]),Cn.getMaxWidth(e[6],e[2])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN),Math.max(Cn.getMaxWidth(e[1],e[5]),Cn.getMaxWidth(e[7],e[3])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(Cn.getMinWidth(e[0],e[4]),Cn.getMinWidth(e[6],e[2])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN),Math.min(Cn.getMinWidth(e[1],e[5]),Cn.getMinWidth(e[7],e[3])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN)))}reset(){}}class zi extends w{}zi.kind="ReaderException";class la{constructor(e,n){this.verbose=e===!0,n&&this.setHints(n)}decode(e,n){return n&&this.setHints(n),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=!d(e)&&e.get(de.TRY_HARDER)===!0,r=d(e)?null:e.get(de.POSSIBLE_FORMATS),l=new Array;if(!d(r)){const u=r.some(h=>h===we.UPC_A||h===we.UPC_E||h===we.EAN_13||h===we.EAN_8||h===we.CODABAR||h===we.CODE_39||h===we.CODE_93||h===we.CODE_128||h===we.ITF||h===we.RSS_14||h===we.RSS_EXPANDED);u&&!n&&l.push(new Pi(e,this.verbose)),r.includes(we.QR_CODE)&&l.push(new Dn),r.includes(we.DATA_MATRIX)&&l.push(new yr),r.includes(we.AZTEC)&&l.push(new nr),r.includes(we.PDF_417)&&l.push(new Cn),u&&n&&l.push(new Pi(e,this.verbose))}l.length===0&&(n||l.push(new Pi(e,this.verbose)),l.push(new Dn),l.push(new yr),l.push(new nr),l.push(new Cn),n&&l.push(new Pi(e,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new zi("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(r){if(r instanceof zi)continue}throw new ee("No MultiFormat Readers were able to detect the code.")}}class Is extends Qe{constructor(e=null,n=500){const r=new la;r.setHints(e),super(r,n)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class ca extends Qe{constructor(e=500){super(new Cn,e)}}class ml extends Qe{constructor(e=500){super(new Dn,e)}}var ho;(function(T){T[T.ERROR_CORRECTION=0]="ERROR_CORRECTION",T[T.CHARACTER_SET=1]="CHARACTER_SET",T[T.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",T[T.MIN_SIZE=3]="MIN_SIZE",T[T.MAX_SIZE=4]="MAX_SIZE",T[T.MARGIN=5]="MARGIN",T[T.PDF417_COMPACT=6]="PDF417_COMPACT",T[T.PDF417_COMPACTION=7]="PDF417_COMPACTION",T[T.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",T[T.AZTEC_LAYERS=9]="AZTEC_LAYERS",T[T.QR_VERSION=10]="QR_VERSION"})(ho||(ho={}));var hn=ho;class fo{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new $t(e,Int32Array.from([1])))}buildGenerator(e){const n=this.cachedGenerators;if(e>=n.length){let r=n[n.length-1];const l=this.field;for(let u=n.length;u<=e;u++){const h=r.multiply(new $t(l,Int32Array.from([1,l.exp(u-1+l.getGeneratorBase())])));n.push(h),r=h}}return n[e]}encode(e,n){if(n===0)throw new I("No error correction bytes");const r=e.length-n;if(r<=0)throw new I("No data bytes provided");const l=this.buildGenerator(n),u=new Int32Array(r);R.arraycopy(e,0,u,0,r);let h=new $t(this.field,u);h=h.multiplyByMonomial(n,1);const y=h.divide(l)[1].getCoefficients(),b=n-y.length;for(let _=0;_<b;_++)e[r+_]=0;R.arraycopy(y,0,e,r+b,y.length)}}class Ut{constructor(){}static applyMaskPenaltyRule1(e){return Ut.applyMaskPenaltyRule1Internal(e,!0)+Ut.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let n=0;const r=e.getArray(),l=e.getWidth(),u=e.getHeight();for(let h=0;h<u-1;h++){const g=r[h];for(let y=0;y<l-1;y++){const b=g[y];b===g[y+1]&&b===r[h+1][y]&&b===r[h+1][y+1]&&n++}}return Ut.N2*n}static applyMaskPenaltyRule3(e){let n=0;const r=e.getArray(),l=e.getWidth(),u=e.getHeight();for(let h=0;h<u;h++)for(let g=0;g<l;g++){const y=r[h];g+6<l&&y[g]===1&&y[g+1]===0&&y[g+2]===1&&y[g+3]===1&&y[g+4]===1&&y[g+5]===0&&y[g+6]===1&&(Ut.isWhiteHorizontal(y,g-4,g)||Ut.isWhiteHorizontal(y,g+7,g+11))&&n++,h+6<u&&r[h][g]===1&&r[h+1][g]===0&&r[h+2][g]===1&&r[h+3][g]===1&&r[h+4][g]===1&&r[h+5][g]===0&&r[h+6][g]===1&&(Ut.isWhiteVertical(r,g,h-4,h)||Ut.isWhiteVertical(r,g,h+7,h+11))&&n++}return n*Ut.N3}static isWhiteHorizontal(e,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(let l=n;l<r;l++)if(e[l]===1)return!1;return!0}static isWhiteVertical(e,n,r,l){r=Math.max(r,0),l=Math.min(l,e.length);for(let u=r;u<l;u++)if(e[u][n]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let n=0;const r=e.getArray(),l=e.getWidth(),u=e.getHeight();for(let y=0;y<u;y++){const b=r[y];for(let _=0;_<l;_++)b[_]===1&&n++}const h=e.getHeight()*e.getWidth();return Math.floor(Math.abs(n*2-h)*10/h)*Ut.N4}static getDataMaskBit(e,n,r){let l,u;switch(e){case 0:l=r+n&1;break;case 1:l=r&1;break;case 2:l=n%3;break;case 3:l=(r+n)%3;break;case 4:l=Math.floor(r/2)+Math.floor(n/3)&1;break;case 5:u=r*n,l=(u&1)+u%3;break;case 6:u=r*n,l=(u&1)+u%3&1;break;case 7:u=r*n,l=u%3+(r+n&1)&1;break;default:throw new I("Invalid mask pattern: "+e)}return l===0}static applyMaskPenaltyRule1Internal(e,n){let r=0;const l=n?e.getHeight():e.getWidth(),u=n?e.getWidth():e.getHeight(),h=e.getArray();for(let g=0;g<l;g++){let y=0,b=-1;for(let _=0;_<u;_++){const k=n?h[g][_]:h[_][g];k===b?y++:(y>=5&&(r+=Ut.N1+(y-5)),y=1,b=k)}y>=5&&(r+=Ut.N1+(y-5))}return r}}Ut.N1=3,Ut.N2=3,Ut.N3=40,Ut.N4=10;class ua{constructor(e,n){this.width=e,this.height=n;const r=new Array(n);for(let l=0;l!==n;l++)r[l]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,n){return this.bytes[n][e]}getArray(){return this.bytes}setNumber(e,n,r){this.bytes[n][e]=r}setBoolean(e,n,r){this.bytes[n][e]=r?1:0}clear(e){for(const n of this.bytes)K.fill(n,e)}equals(e){if(!(e instanceof ua))return!1;const n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(let r=0,l=this.height;r<l;++r){const u=this.bytes[r],h=n.bytes[r];for(let g=0,y=this.width;g<y;++g)if(u[g]!==h[g])return!1}return!0}toString(){const e=new ce;for(let n=0,r=this.height;n<r;++n){const l=this.bytes[n];for(let u=0,h=this.width;u<h;++u)switch(l[u]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class xi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new ce;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<xi.NUM_MASK_PATTERNS}}xi.NUM_MASK_PATTERNS=8;class Tt extends w{}Tt.kind="WriterException";class Ge{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,n,r,l,u){Ge.clearMatrix(u),Ge.embedBasicPatterns(r,u),Ge.embedTypeInfo(n,l,u),Ge.maybeEmbedVersionInfo(r,u),Ge.embedDataBits(e,l,u)}static embedBasicPatterns(e,n){Ge.embedPositionDetectionPatternsAndSeparators(n),Ge.embedDarkDotAtLeftBottomCorner(n),Ge.maybeEmbedPositionAdjustmentPatterns(e,n),Ge.embedTimingPatterns(n)}static embedTypeInfo(e,n,r){const l=new ie;Ge.makeTypeInfoBits(e,n,l);for(let u=0,h=l.getSize();u<h;++u){const g=l.get(l.getSize()-1-u),y=Ge.TYPE_INFO_COORDINATES[u],b=y[0],_=y[1];if(r.setBoolean(b,_,g),u<8){const k=r.getWidth()-u-1;r.setBoolean(k,8,g)}else{const O=r.getHeight()-7+(u-8);r.setBoolean(8,O,g)}}}static maybeEmbedVersionInfo(e,n){if(e.getVersionNumber()<7)return;const r=new ie;Ge.makeVersionInfoBits(e,r);let l=17;for(let u=0;u<6;++u)for(let h=0;h<3;++h){const g=r.get(l);l--,n.setBoolean(u,n.getHeight()-11+h,g),n.setBoolean(n.getHeight()-11+h,u,g)}}static embedDataBits(e,n,r){let l=0,u=-1,h=r.getWidth()-1,g=r.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);g>=0&&g<r.getHeight();){for(let y=0;y<2;++y){const b=h-y;if(!Ge.isEmpty(r.get(b,g)))continue;let _;l<e.getSize()?(_=e.get(l),++l):_=!1,n!==255&&Ut.getDataMaskBit(n,b,g)&&(_=!_),r.setBoolean(b,g,_)}g+=u}u=-u,g+=u,h-=2}if(l!==e.getSize())throw new Tt("Not all bits consumed: "+l+"/"+e.getSize())}static findMSBSet(e){return 32-V.numberOfLeadingZeros(e)}static calculateBCHCode(e,n){if(n===0)throw new I("0 polynomial");const r=Ge.findMSBSet(n);for(e<<=r-1;Ge.findMSBSet(e)>=r;)e^=n<<Ge.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,n,r){if(!xi.isValidMaskPattern(n))throw new Tt("Invalid mask pattern");const l=e.getBits()<<3|n;r.appendBits(l,5);const u=Ge.calculateBCHCode(l,Ge.TYPE_INFO_POLY);r.appendBits(u,10);const h=new ie;if(h.appendBits(Ge.TYPE_INFO_MASK_PATTERN,15),r.xor(h),r.getSize()!==15)throw new Tt("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,n){n.appendBits(e.getVersionNumber(),6);const r=Ge.calculateBCHCode(e.getVersionNumber(),Ge.VERSION_INFO_POLY);if(n.appendBits(r,12),n.getSize()!==18)throw new Tt("should not happen but we got: "+n.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let n=8;n<e.getWidth()-8;++n){const r=(n+1)%2;Ge.isEmpty(e.get(n,6))&&e.setNumber(n,6,r),Ge.isEmpty(e.get(6,n))&&e.setNumber(6,n,r)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Tt;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,n,r){for(let l=0;l<8;++l){if(!Ge.isEmpty(r.get(e+l,n)))throw new Tt;r.setNumber(e+l,n,0)}}static embedVerticalSeparationPattern(e,n,r){for(let l=0;l<7;++l){if(!Ge.isEmpty(r.get(e,n+l)))throw new Tt;r.setNumber(e,n+l,0)}}static embedPositionAdjustmentPattern(e,n,r){for(let l=0;l<5;++l){const u=Ge.POSITION_ADJUSTMENT_PATTERN[l];for(let h=0;h<5;++h)r.setNumber(e+h,n+l,u[h])}}static embedPositionDetectionPattern(e,n,r){for(let l=0;l<7;++l){const u=Ge.POSITION_DETECTION_PATTERN[l];for(let h=0;h<7;++h)r.setNumber(e+h,n+l,u[h])}}static embedPositionDetectionPatternsAndSeparators(e){const n=Ge.POSITION_DETECTION_PATTERN[0].length;Ge.embedPositionDetectionPattern(0,0,e),Ge.embedPositionDetectionPattern(e.getWidth()-n,0,e),Ge.embedPositionDetectionPattern(0,e.getWidth()-n,e);const r=8;Ge.embedHorizontalSeparationPattern(0,r-1,e),Ge.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),Ge.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const l=7;Ge.embedVerticalSeparationPattern(l,0,e),Ge.embedVerticalSeparationPattern(e.getHeight()-l-1,0,e),Ge.embedVerticalSeparationPattern(l,e.getHeight()-l,e)}static maybeEmbedPositionAdjustmentPatterns(e,n){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,l=Ge.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let u=0,h=l.length;u!==h;u++){const g=l[u];if(g>=0)for(let y=0;y!==h;y++){const b=l[y];b>=0&&Ge.isEmpty(n.get(b,g))&&Ge.embedPositionAdjustmentPattern(b-2,g-2,n)}}}}Ge.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ge.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ge.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ge.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ge.VERSION_INFO_POLY=7973,Ge.TYPE_INFO_POLY=1335,Ge.TYPE_INFO_MASK_PATTERN=21522;class zc{constructor(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ot{constructor(){}static calculateMaskPenalty(e){return Ut.applyMaskPenaltyRule1(e)+Ut.applyMaskPenaltyRule2(e)+Ut.applyMaskPenaltyRule3(e)+Ut.applyMaskPenaltyRule4(e)}static encode(e,n,r=null){let l=Ot.DEFAULT_BYTE_MODE_ENCODING;const u=r!==null&&r.get(hn.CHARACTER_SET)!==void 0;u&&(l=r.get(hn.CHARACTER_SET).toString());const h=this.chooseMode(e,l),g=new ie;if(h===We.BYTE&&(u||Ot.DEFAULT_BYTE_MODE_ENCODING!==l)){const ve=$.getCharacterSetECIByName(l);ve!==void 0&&this.appendECI(ve,g)}this.appendModeInfo(h,g);const y=new ie;this.appendBytes(e,h,y,l);let b;if(r!==null&&r.get(hn.QR_VERSION)!==void 0){const ve=Number.parseInt(r.get(hn.QR_VERSION).toString(),10);b=ze.getVersionForNumber(ve);const pe=this.calculateBitsNeeded(h,g,y,b);if(!this.willFit(pe,b,n))throw new Tt("Data too big for requested version")}else b=this.recommendVersion(n,h,g,y);const _=new ie;_.appendBitArray(g);const k=h===We.BYTE?y.getSizeInBytes():e.length;this.appendLengthInfo(k,b,h,_),_.appendBitArray(y);const O=b.getECBlocksForLevel(n),L=b.getTotalCodewords()-O.getTotalECCodewords();this.terminateBits(L,_);const G=this.interleaveWithECBytes(_,b.getTotalCodewords(),L,O.getNumBlocks()),Y=new xi;Y.setECLevel(n),Y.setMode(h),Y.setVersion(b);const Q=b.getDimensionForVersion(),se=new ua(Q,Q),ye=this.chooseMaskPattern(G,n,b,se);return Y.setMaskPattern(ye),Ge.buildMatrix(G,n,b,ye,se),Y.setMatrix(se),Y}static recommendVersion(e,n,r,l){const u=this.calculateBitsNeeded(n,r,l,ze.getVersionForNumber(1)),h=this.chooseVersion(u,e),g=this.calculateBitsNeeded(n,r,l,h);return this.chooseVersion(g,e)}static calculateBitsNeeded(e,n,r,l){return n.getSize()+e.getCharacterCountBits(l)+r.getSize()}static getAlphanumericCode(e){return e<Ot.ALPHANUMERIC_TABLE.length?Ot.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,n=null){if($.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return We.KANJI;let r=!1,l=!1;for(let u=0,h=e.length;u<h;++u){const g=e.charAt(u);if(Ot.isDigit(g))r=!0;else if(this.getAlphanumericCode(g.charCodeAt(0))!==-1)l=!0;else return We.BYTE}return l?We.ALPHANUMERIC:r?We.NUMERIC:We.BYTE}static isOnlyDoubleByteKanji(e){let n;try{n=ke.encode(e,$.SJIS)}catch{return!1}const r=n.length;if(r%2!==0)return!1;for(let l=0;l<r;l+=2){const u=n[l]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(e,n,r,l){let u=Number.MAX_SAFE_INTEGER,h=-1;for(let g=0;g<xi.NUM_MASK_PATTERNS;g++){Ge.buildMatrix(e,n,r,g,l);let y=this.calculateMaskPenalty(l);y<u&&(u=y,h=g)}return h}static chooseVersion(e,n){for(let r=1;r<=40;r++){const l=ze.getVersionForNumber(r);if(Ot.willFit(e,l,n))return l}throw new Tt("Data too big")}static willFit(e,n,r){const l=n.getTotalCodewords(),h=n.getECBlocksForLevel(r).getTotalECCodewords(),g=l-h,y=(e+7)/8;return g>=y}static terminateBits(e,n){const r=e*8;if(n.getSize()>r)throw new Tt("data bits cannot fit in the QR Code"+n.getSize()+" > "+r);for(let h=0;h<4&&n.getSize()<r;++h)n.appendBit(!1);const l=n.getSize()&7;if(l>0)for(let h=l;h<8;h++)n.appendBit(!1);const u=e-n.getSizeInBytes();for(let h=0;h<u;++h)n.appendBits((h&1)===0?236:17,8);if(n.getSize()!==r)throw new Tt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,n,r,l,u,h){if(l>=r)throw new Tt("Block ID too large");const g=e%r,y=r-g,b=Math.floor(e/r),_=b+1,k=Math.floor(n/r),O=k+1,L=b-k,G=_-O;if(L!==G)throw new Tt("EC bytes mismatch");if(r!==y+g)throw new Tt("RS blocks mismatch");if(e!==(k+L)*y+(O+G)*g)throw new Tt("Total bytes mismatch");l<y?(u[0]=k,h[0]=L):(u[0]=O,h[0]=G)}static interleaveWithECBytes(e,n,r,l){if(e.getSizeInBytes()!==r)throw new Tt("Number of bits and data bytes does not match");let u=0,h=0,g=0;const y=new Array;for(let _=0;_<l;++_){const k=new Int32Array(1),O=new Int32Array(1);Ot.getNumDataBytesAndNumECBytesForBlockID(n,r,l,_,k,O);const L=k[0],G=new Uint8Array(L);e.toBytes(8*u,G,0,L);const Y=Ot.generateECBytes(G,O[0]);y.push(new zc(G,Y)),h=Math.max(h,L),g=Math.max(g,Y.length),u+=k[0]}if(r!==u)throw new Tt("Data bytes does not match offset");const b=new ie;for(let _=0;_<h;++_)for(const k of y){const O=k.getDataBytes();_<O.length&&b.appendBits(O[_],8)}for(let _=0;_<g;++_)for(const k of y){const O=k.getErrorCorrectionBytes();_<O.length&&b.appendBits(O[_],8)}if(n!==b.getSizeInBytes())throw new Tt("Interleaving error: "+n+" and "+b.getSizeInBytes()+" differ.");return b}static generateECBytes(e,n){const r=e.length,l=new Int32Array(r+n);for(let h=0;h<r;h++)l[h]=e[h]&255;new fo(ct.QR_CODE_FIELD_256).encode(l,n);const u=new Uint8Array(n);for(let h=0;h<n;h++)u[h]=l[r+h];return u}static appendModeInfo(e,n){n.appendBits(e.getBits(),4)}static appendLengthInfo(e,n,r,l){const u=r.getCharacterCountBits(n);if(e>=1<<u)throw new Tt(e+" is bigger than "+((1<<u)-1));l.appendBits(e,u)}static appendBytes(e,n,r,l){switch(n){case We.NUMERIC:Ot.appendNumericBytes(e,r);break;case We.ALPHANUMERIC:Ot.appendAlphanumericBytes(e,r);break;case We.BYTE:Ot.append8BitBytes(e,r,l);break;case We.KANJI:Ot.appendKanjiBytes(e,r);break;default:throw new Tt("Invalid mode: "+n)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const n=Ot.getDigit(e);return n>=0&&n<=9}static appendNumericBytes(e,n){const r=e.length;let l=0;for(;l<r;){const u=Ot.getDigit(e.charAt(l));if(l+2<r){const h=Ot.getDigit(e.charAt(l+1)),g=Ot.getDigit(e.charAt(l+2));n.appendBits(u*100+h*10+g,10),l+=3}else if(l+1<r){const h=Ot.getDigit(e.charAt(l+1));n.appendBits(u*10+h,7),l+=2}else n.appendBits(u,4),l++}}static appendAlphanumericBytes(e,n){const r=e.length;let l=0;for(;l<r;){const u=Ot.getAlphanumericCode(e.charCodeAt(l));if(u===-1)throw new Tt;if(l+1<r){const h=Ot.getAlphanumericCode(e.charCodeAt(l+1));if(h===-1)throw new Tt;n.appendBits(u*45+h,11),l+=2}else n.appendBits(u,6),l++}}static append8BitBytes(e,n,r){let l;try{l=ke.encode(e,r)}catch(u){throw new Tt(u)}for(let u=0,h=l.length;u!==h;u++){const g=l[u];n.appendBits(g,8)}}static appendKanjiBytes(e,n){let r;try{r=ke.encode(e,$.SJIS)}catch(u){throw new Tt(u)}const l=r.length;for(let u=0;u<l;u+=2){const h=r[u]&255,g=r[u+1]&255,y=h<<8&4294967295|g;let b=-1;if(y>=33088&&y<=40956?b=y-33088:y>=57408&&y<=60351&&(b=y-49472),b===-1)throw new Tt("Invalid byte sequence");const _=(b>>8)*192+(b&255);n.appendBits(_,13)}}static appendECI(e,n){n.appendBits(We.ECI.getBits(),4),n.appendBits(e.getValue(),8)}}Ot.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ot.DEFAULT_BYTE_MODE_ENCODING=$.UTF8.getName();class yi{write(e,n,r,l=null){if(e.length===0)throw new I("Found empty contents");if(n<0||r<0)throw new I("Requested dimensions are too small: "+n+"x"+r);let u=It.L,h=yi.QUIET_ZONE_SIZE;l!==null&&(l.get(hn.ERROR_CORRECTION)!==void 0&&(u=It.fromString(l.get(hn.ERROR_CORRECTION).toString())),l.get(hn.MARGIN)!==void 0&&(h=Number.parseInt(l.get(hn.MARGIN).toString(),10)));const g=Ot.encode(e,u,l);return this.renderResult(g,n,r,h)}writeToDom(e,n,r,l,u=null){typeof e=="string"&&(e=document.querySelector(e));const h=this.write(n,r,l,u);e&&e.appendChild(h)}renderResult(e,n,r,l){const u=e.getMatrix();if(u===null)throw new Bn;const h=u.getWidth(),g=u.getHeight(),y=h+l*2,b=g+l*2,_=Math.max(n,y),k=Math.max(r,b),O=Math.min(Math.floor(_/y),Math.floor(k/b)),L=Math.floor((_-h*O)/2),G=Math.floor((k-g*O)/2),Y=this.createSVGElement(_,k);for(let Q=0,se=G;Q<g;Q++,se+=O)for(let ye=0,ve=L;ye<h;ye++,ve+=O)if(u.get(ye,Q)===1){const pe=this.createSvgRectElement(ve,se,O,O);Y.appendChild(pe)}return Y}createSVGElement(e,n){const r=document.createElementNS(yi.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",n.toString()),r}createSvgRectElement(e,n,r,l){const u=document.createElementNS(yi.SVG_NS,"rect");return u.setAttributeNS(null,"x",e.toString()),u.setAttributeNS(null,"y",n.toString()),u.setAttributeNS(null,"height",r.toString()),u.setAttributeNS(null,"width",l.toString()),u.setAttributeNS(null,"fill","#000000"),u}}yi.QUIET_ZONE_SIZE=4,yi.SVG_NS="http://www.w3.org/2000/svg";class Hi{encode(e,n,r,l,u){if(e.length===0)throw new I("Found empty contents");if(n!==we.QR_CODE)throw new I("Can only encode QR_CODE, but got "+n);if(r<0||l<0)throw new I(`Requested dimensions are too small: ${r}x${l}`);let h=It.L,g=Hi.QUIET_ZONE_SIZE;u!==null&&(u.get(hn.ERROR_CORRECTION)!==void 0&&(h=It.fromString(u.get(hn.ERROR_CORRECTION).toString())),u.get(hn.MARGIN)!==void 0&&(g=Number.parseInt(u.get(hn.MARGIN).toString(),10)));const y=Ot.encode(e,h,u);return Hi.renderResult(y,r,l,g)}static renderResult(e,n,r,l){const u=e.getMatrix();if(u===null)throw new Bn;const h=u.getWidth(),g=u.getHeight(),y=h+l*2,b=g+l*2,_=Math.max(n,y),k=Math.max(r,b),O=Math.min(Math.floor(_/y),Math.floor(k/b)),L=Math.floor((_-h*O)/2),G=Math.floor((k-g*O)/2),Y=new _e(_,k);for(let Q=0,se=G;Q<g;Q++,se+=O)for(let ye=0,ve=L;ye<h;ye++,ve+=O)u.get(ye,Q)===1&&Y.setRegion(ve,se,O,O);return Y}}Hi.QUIET_ZONE_SIZE=4;class Hc{encode(e,n,r,l,u){let h;switch(n){case we.QR_CODE:h=new Hi;break;default:throw new I("No encoder available for format "+n)}return h.encode(e,n,r,l,u)}}class Mr extends Ne{constructor(e,n,r,l,u,h,g,y){if(super(h,g),this.yuvData=e,this.dataWidth=n,this.dataHeight=r,this.left=l,this.top=u,l+h>n||u+g>r)throw new I("Crop rectangle does not fit within image data.");y&&this.reverseHorizontal(h,g)}getRow(e,n){if(e<0||e>=this.getHeight())throw new I("Requested row is outside the image: "+e);const r=this.getWidth();(n==null||n.length<r)&&(n=new Uint8ClampedArray(r));const l=(e+this.top)*this.dataWidth+this.left;return R.arraycopy(this.yuvData,l,n,0,r),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.yuvData;const r=e*n,l=new Uint8ClampedArray(r);let u=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return R.arraycopy(this.yuvData,u,l,0,r),l;for(let h=0;h<n;h++){const g=h*e;R.arraycopy(this.yuvData,u,l,g,e),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,n,r,l){return new Mr(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,r,l,!1)}renderThumbnail(){const e=this.getWidth()/Mr.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/Mr.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*n),l=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let h=0;h<n;h++){const g=h*e;for(let y=0;y<e;y++){const b=l[u+y*Mr.THUMBNAIL_SCALE_FACTOR]&255;r[g+y]=4278190080|b*65793}u+=this.dataWidth*Mr.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/Mr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Mr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,n){const r=this.yuvData;for(let l=0,u=this.top*this.dataWidth+this.left;l<n;l++,u+=this.dataWidth){const h=u+e/2;for(let g=u,y=u+e-1;g<h;g++,y--){const b=r[g];r[g]=r[y],r[y]=b}}}invert(){return new Ie(this)}}Mr.THUMBNAIL_SCALE_FACTOR=2;class Ts extends Ne{constructor(e,n,r,l,u,h,g){if(super(n,r),this.dataWidth=l,this.dataHeight=u,this.left=h,this.top=g,e.BYTES_PER_ELEMENT===4){const y=n*r,b=new Uint8ClampedArray(y);for(let _=0;_<y;_++){const k=e[_],O=k>>16&255,L=k>>7&510,G=k&255;b[_]=(O+L+G)/4&255}this.luminances=b}else this.luminances=e;if(l===void 0&&(this.dataWidth=n),u===void 0&&(this.dataHeight=r),h===void 0&&(this.left=0),g===void 0&&(this.top=0),this.left+n>this.dataWidth||this.top+r>this.dataHeight)throw new I("Crop rectangle does not fit within image data.")}getRow(e,n){if(e<0||e>=this.getHeight())throw new I("Requested row is outside the image: "+e);const r=this.getWidth();(n==null||n.length<r)&&(n=new Uint8ClampedArray(r));const l=(e+this.top)*this.dataWidth+this.left;return R.arraycopy(this.luminances,l,n,0,r),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.luminances;const r=e*n,l=new Uint8ClampedArray(r);let u=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return R.arraycopy(this.luminances,u,l,0,r),l;for(let h=0;h<n;h++){const g=h*e;R.arraycopy(this.luminances,u,l,g,e),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,n,r,l){return new Ts(this.luminances,r,l,this.dataWidth,this.dataHeight,this.left+e,this.top+n)}invert(){return new Ie(this)}}class gl extends ${static forName(e){return this.getCharacterSetECIByName(e)}}class po{}po.ISO_8859_1=$.ISO8859_1;class xl{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class mo{static singletonList(e){return[e]}static min(e,n){return e.sort(n)[0]}}class Wc{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Wi extends Wc{constructor(e,n,r){super(e),this.value=n,this.bitCount=r}appendTo(e,n){e.appendBits(this.value,this.bitCount)}add(e,n){return new Wi(this,e,n)}addBinaryShift(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Wi(this,e,n)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+V.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class go extends Wi{constructor(e,n,r){super(e,0,0),this.binaryShiftStart=n,this.binaryShiftByteCount=r}appendTo(e,n){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):r===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(n[this.binaryShiftStart+r],8)}addBinaryShift(e,n){return new go(this,e,n)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Vc(T,e,n){return new go(T,e,n)}function ks(T,e,n){return new Wi(T,e,n)}const Gc=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ai=0,Vi=1,An=2,yl=3,wr=4,vl=new Wi(null,0,0),da=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function wl(T){for(let e of T)K.fill(e,-1);return T[ai][wr]=0,T[Vi][wr]=0,T[Vi][ai]=28,T[yl][wr]=0,T[An][wr]=0,T[An][ai]=15,T}const xo=wl(K.createInt32Array(6,6));class Mn{constructor(e,n,r,l){this.token=e,this.mode=n,this.binaryShiftByteCount=r,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,n){let r=this.bitCount,l=this.token;if(e!==this.mode){let h=da[this.mode][e];l=ks(l,h&65535,h>>16),r+=h>>16}let u=e===An?4:5;return l=ks(l,n,u),new Mn(l,e,0,r+u)}shiftAndAppend(e,n){let r=this.token,l=this.mode===An?4:5;return r=ks(r,xo[this.mode][e],l),r=ks(r,n,5),new Mn(r,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(e){let n=this.token,r=this.mode,l=this.bitCount;if(this.mode===wr||this.mode===An){let g=da[r][ai];n=ks(n,g&65535,g>>16),l+=g>>16,r=ai}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new Mn(n,r,this.binaryShiftByteCount+1,l+u);return h.binaryShiftByteCount===2078&&(h=h.endBinaryShift(e+1)),h}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let n=this.token;return n=Vc(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Mn(n,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let n=this.bitCount+(da[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=Mn.calculateBinaryShiftCost(e)-Mn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount}toBitArray(e){let n=[];for(let l=this.endBinaryShift(e.length).token;l!==null;l=l.getPrevious())n.unshift(l);let r=new ie;for(const l of n)l.appendTo(r,e);return r}toString(){return he.format("%s bits=%d bytes=%d",Gc[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Mn.INITIAL_STATE=new Mn(vl,ai,0,0);function qc(T){const e=he.getCharCode(" "),n=he.getCharCode("."),r=he.getCharCode(",");T[ai][e]=1;const l=he.getCharCode("Z"),u=he.getCharCode("A");for(let O=u;O<=l;O++)T[ai][O]=O-u+2;T[Vi][e]=1;const h=he.getCharCode("z"),g=he.getCharCode("a");for(let O=g;O<=h;O++)T[Vi][O]=O-g+2;T[An][e]=1;const y=he.getCharCode("9"),b=he.getCharCode("0");for(let O=b;O<=y;O++)T[An][O]=O-b+2;T[An][r]=12,T[An][n]=13;const _=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let O=0;O<_.length;O++)T[yl][he.getCharCode(_[O])]=O;const k=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let O=0;O<k.length;O++)he.getCharCode(k[O])>0&&(T[wr][he.getCharCode(k[O])]=O);return T}const yo=qc(K.createInt32Array(5,256));class js{constructor(e){this.text=e}encode(){const e=he.getCharCode(" "),n=he.getCharCode(`
`);let r=mo.singletonList(Mn.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let h,g=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case he.getCharCode("\r"):h=g===n?2:0;break;case he.getCharCode("."):h=g===e?3:0;break;case he.getCharCode(","):h=g===e?4:0;break;case he.getCharCode(":"):h=g===e?5:0;break;default:h=0}h>0?(r=js.updateStateListForPair(r,u,h),u++):r=this.updateStateListForChar(r,u)}return mo.min(r,(u,h)=>u.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,n){const r=[];for(let l of e)this.updateStateForChar(l,n,r);return js.simplifyStates(r)}updateStateForChar(e,n,r){let l=this.text[n]&255,u=yo[e.getMode()][l]>0,h=null;for(let g=0;g<=wr;g++){let y=yo[g][l];if(y>0){if(h==null&&(h=e.endBinaryShift(n)),!u||g===e.getMode()||g===An){const b=h.latchAndAppend(g,y);r.push(b)}if(!u&&xo[e.getMode()][g]>=0){const b=h.shiftAndAppend(g,y);r.push(b)}}}if(e.getBinaryShiftByteCount()>0||yo[e.getMode()][l]===0){let g=e.addBinaryShiftChar(n);r.push(g)}}static updateStateListForPair(e,n,r){const l=[];for(let u of e)this.updateStateForPair(u,n,r,l);return this.simplifyStates(l)}static updateStateForPair(e,n,r,l){let u=e.endBinaryShift(n);if(l.push(u.latchAndAppend(wr,r)),e.getMode()!==wr&&l.push(u.shiftAndAppend(wr,r)),r===3||r===4){let h=u.latchAndAppend(An,16-r).latchAndAppend(An,1);l.push(h)}if(e.getBinaryShiftByteCount()>0){let h=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);l.push(h)}}static simplifyStates(e){let n=[];for(const r of e){let l=!0;for(const u of n){if(u.isBetterThanOrEqualTo(r)){l=!1;break}r.isBetterThanOrEqualTo(u)&&(n=n.filter(h=>h!==u))}l&&n.push(r)}return n}}class mt{constructor(){}static encodeBytes(e){return mt.encode(e,mt.DEFAULT_EC_PERCENT,mt.DEFAULT_AZTEC_LAYERS)}static encode(e,n,r){let l=new js(e).encode(),u=V.truncDivision(l.getSize()*n,100)+11,h=l.getSize()+u,g,y,b,_,k;if(r!==mt.DEFAULT_AZTEC_LAYERS){if(g=r<0,y=Math.abs(r),y>(g?mt.MAX_NB_BITS_COMPACT:mt.MAX_NB_BITS))throw new I(he.format("Illegal value %s for layers",r));b=mt.totalBitsInLayer(y,g),_=mt.WORD_SIZE[y];let pe=b-b%_;if(k=mt.stuffBits(l,_),k.getSize()+u>pe)throw new I("Data to large for user specified layer");if(g&&k.getSize()>_*64)throw new I("Data to large for user specified layer")}else{_=0,k=null;for(let pe=0;;pe++){if(pe>mt.MAX_NB_BITS)throw new I("Data too large for an Aztec code");if(g=pe<=3,y=g?pe+1:pe,b=mt.totalBitsInLayer(y,g),h>b)continue;(k==null||_!==mt.WORD_SIZE[y])&&(_=mt.WORD_SIZE[y],k=mt.stuffBits(l,_));let ut=b-b%_;if(!(g&&k.getSize()>_*64)&&k.getSize()+u<=ut)break}}let O=mt.generateCheckWords(k,b,_),L=k.getSize()/_,G=mt.generateModeMessage(g,y,L),Y=(g?11:14)+y*4,Q=new Int32Array(Y),se;if(g){se=Y;for(let pe=0;pe<Q.length;pe++)Q[pe]=pe}else{se=Y+1+2*V.truncDivision(V.truncDivision(Y,2)-1,15);let pe=V.truncDivision(Y,2),ut=V.truncDivision(se,2);for(let tt=0;tt<pe;tt++){let Hn=tt+V.truncDivision(tt,15);Q[pe-tt-1]=ut-Hn-1,Q[pe+tt]=ut+Hn+1}}let ye=new _e(se);for(let pe=0,ut=0;pe<y;pe++){let tt=(y-pe)*4+(g?9:12);for(let Hn=0;Hn<tt;Hn++){let br=Hn*2;for(let fn=0;fn<2;fn++)O.get(ut+br+fn)&&ye.set(Q[pe*2+fn],Q[pe*2+Hn]),O.get(ut+tt*2+br+fn)&&ye.set(Q[pe*2+Hn],Q[Y-1-pe*2-fn]),O.get(ut+tt*4+br+fn)&&ye.set(Q[Y-1-pe*2-fn],Q[Y-1-pe*2-Hn]),O.get(ut+tt*6+br+fn)&&ye.set(Q[Y-1-pe*2-Hn],Q[pe*2+fn])}ut+=tt*8}if(mt.drawModeMessage(ye,g,se,G),g)mt.drawBullsEye(ye,V.truncDivision(se,2),5);else{mt.drawBullsEye(ye,V.truncDivision(se,2),7);for(let pe=0,ut=0;pe<V.truncDivision(Y,2)-1;pe+=15,ut+=16)for(let tt=V.truncDivision(se,2)&1;tt<se;tt+=2)ye.set(V.truncDivision(se,2)-ut,tt),ye.set(V.truncDivision(se,2)+ut,tt),ye.set(tt,V.truncDivision(se,2)-ut),ye.set(tt,V.truncDivision(se,2)+ut)}let ve=new xl;return ve.setCompact(g),ve.setSize(se),ve.setLayers(y),ve.setCodeWords(L),ve.setMatrix(ye),ve}static drawBullsEye(e,n,r){for(let l=0;l<r;l+=2)for(let u=n-l;u<=n+l;u++)e.set(u,n-l),e.set(u,n+l),e.set(n-l,u),e.set(n+l,u);e.set(n-r,n-r),e.set(n-r+1,n-r),e.set(n-r,n-r+1),e.set(n+r,n-r),e.set(n+r,n-r+1),e.set(n+r,n+r-1)}static generateModeMessage(e,n,r){let l=new ie;return e?(l.appendBits(n-1,2),l.appendBits(r-1,6),l=mt.generateCheckWords(l,28,4)):(l.appendBits(n-1,5),l.appendBits(r-1,11),l=mt.generateCheckWords(l,40,4)),l}static drawModeMessage(e,n,r,l){let u=V.truncDivision(r,2);if(n)for(let h=0;h<7;h++){let g=u-3+h;l.get(h)&&e.set(g,u-5),l.get(h+7)&&e.set(u+5,g),l.get(20-h)&&e.set(g,u+5),l.get(27-h)&&e.set(u-5,g)}else for(let h=0;h<10;h++){let g=u-5+h+V.truncDivision(h,5);l.get(h)&&e.set(g,u-7),l.get(h+10)&&e.set(u+7,g),l.get(29-h)&&e.set(g,u+7),l.get(39-h)&&e.set(u-7,g)}}static generateCheckWords(e,n,r){let l=e.getSize()/r,u=new fo(mt.getGF(r)),h=V.truncDivision(n,r),g=mt.bitsToWords(e,r,h);u.encode(g,h-l);let y=n%r,b=new ie;b.appendBits(0,y);for(const _ of Array.from(g))b.appendBits(_,r);return b}static bitsToWords(e,n,r){let l=new Int32Array(r),u,h;for(u=0,h=e.getSize()/n;u<h;u++){let g=0;for(let y=0;y<n;y++)g|=e.get(u*n+y)?1<<n-y-1:0;l[u]=g}return l}static getGF(e){switch(e){case 4:return ct.AZTEC_PARAM;case 6:return ct.AZTEC_DATA_6;case 8:return ct.AZTEC_DATA_8;case 10:return ct.AZTEC_DATA_10;case 12:return ct.AZTEC_DATA_12;default:throw new I("Unsupported word size "+e)}}static stuffBits(e,n){let r=new ie,l=e.getSize(),u=(1<<n)-2;for(let h=0;h<l;h+=n){let g=0;for(let y=0;y<n;y++)(h+y>=l||e.get(h+y))&&(g|=1<<n-1-y);(g&u)===u?(r.appendBits(g&u,n),h--):(g&u)===0?(r.appendBits(g|1,n),h--):r.appendBits(g,n)}return r}static totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}mt.DEFAULT_EC_PERCENT=33,mt.DEFAULT_AZTEC_LAYERS=0,mt.MAX_NB_BITS=32,mt.MAX_NB_BITS_COMPACT=4,mt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Os{encode(e,n,r,l){return this.encodeWithHints(e,n,r,l,null)}encodeWithHints(e,n,r,l,u){let h=po.ISO_8859_1,g=mt.DEFAULT_EC_PERCENT,y=mt.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(hn.CHARACTER_SET)&&(h=gl.forName(u.get(hn.CHARACTER_SET).toString())),u.has(hn.ERROR_CORRECTION)&&(g=V.parseInt(u.get(hn.ERROR_CORRECTION).toString())),u.has(hn.AZTEC_LAYERS)&&(y=V.parseInt(u.get(hn.AZTEC_LAYERS).toString()))),Os.encodeLayers(e,n,r,l,h,g,y)}static encodeLayers(e,n,r,l,u,h,g){if(n!==we.AZTEC)throw new I("Can only encode AZTEC, but got "+n);let y=mt.encode(he.getBytes(e,u),h,g);return Os.renderResult(y,r,l)}static renderResult(e,n,r){let l=e.getMatrix();if(l==null)throw new Bn;let u=l.getWidth(),h=l.getHeight(),g=Math.max(n,u),y=Math.max(r,h),b=Math.min(g/u,y/h),_=(g-u*b)/2,k=(y-h*b)/2,O=new _e(g,y);for(let L=0,G=k;L<h;L++,G+=b)for(let Y=0,Q=_;Y<u;Y++,Q+=b)l.get(Y,L)&&O.setRegion(Q,G,b,b);return O}}a.AbstractExpandedDecoder=no,a.ArgumentException=A,a.ArithmeticException=tr,a.AztecCode=xl,a.AztecCodeReader=nr,a.AztecCodeWriter=Os,a.AztecDecoder=bt,a.AztecDetector=Kn,a.AztecDetectorResult=vs,a.AztecEncoder=mt,a.AztecHighLevelEncoder=js,a.AztecPoint=Kt,a.BarcodeFormat=we,a.Binarizer=P,a.BinaryBitmap=D,a.BitArray=ie,a.BitMatrix=_e,a.BitSource=so,a.BrowserAztecCodeReader=ws,a.BrowserBarcodeReader=cl,a.BrowserCodeReader=Qe,a.BrowserDatamatrixCodeReader=Uc,a.BrowserMultiFormatReader=Is,a.BrowserPDF417Reader=ca,a.BrowserQRCodeReader=ml,a.BrowserQRCodeSvgWriter=yi,a.CharacterSetECI=$,a.ChecksumException=B,a.Code128Reader=Ce,a.Code39Reader=Vt,a.DataMatrixDecodedBitStreamParser=xr,a.DataMatrixReader=yr,a.DecodeHintType=de,a.DecoderResult=wt,a.DefaultGridSampler=Wt,a.DetectorResult=ni,a.EAN13Reader=rr,a.EncodeHintType=hn,a.Exception=w,a.FormatException=H,a.GenericGF=ct,a.GenericGFPoly=$t,a.GlobalHistogramBinarizer=Ze,a.GridSampler=Ve,a.GridSamplerInstance=Dt,a.HTMLCanvasElementLuminanceSource=Ae,a.HybridBinarizer=Me,a.ITFReader=xt,a.IllegalArgumentException=I,a.IllegalStateException=Bn,a.InvertedLuminanceSource=Ie,a.LuminanceSource=Ne,a.MathUtils=rt,a.MultiFormatOneDReader=Pi,a.MultiFormatReader=la,a.MultiFormatWriter=Hc,a.NotFoundException=ee,a.OneDReader=Mt,a.PDF417DecodedBitStreamParser=ae,a.PDF417DecoderErrorCorrection=lo,a.PDF417Reader=Cn,a.PDF417ResultMetadata=aa,a.PerspectiveTransform=gt,a.PlanarYUVLuminanceSource=Mr,a.QRCodeByteMatrix=ua,a.QRCodeDataMask=st,a.QRCodeDecodedBitStreamParser=Ft,a.QRCodeDecoderErrorCorrectionLevel=It,a.QRCodeDecoderFormatInformation=vn,a.QRCodeEncoder=Ot,a.QRCodeEncoderQRCode=xi,a.QRCodeMaskUtil=Ut,a.QRCodeMatrixUtil=Ge,a.QRCodeMode=We,a.QRCodeReader=Dn,a.QRCodeVersion=ze,a.QRCodeWriter=Hi,a.RGBLuminanceSource=Ts,a.RSS14Reader=Rt,a.RSSExpandedReader=ue,a.ReaderException=zi,a.ReedSolomonDecoder=Hr,a.ReedSolomonEncoder=fo,a.ReedSolomonException=fr,a.Result=Fe,a.ResultMetadataType=Xe,a.ResultPoint=je,a.StringUtils=he,a.UnsupportedOperationException=Se,a.VideoInputDevice=Z,a.WhiteRectangleDetector=Ee,a.WriterException=Tt,a.ZXingArrays=K,a.ZXingCharset=gl,a.ZXingInteger=V,a.ZXingStandardCharsets=po,a.ZXingStringBuilder=ce,a.ZXingStringEncoding=ke,a.ZXingSystem=R,a.createAbstractExpandedDecoder=ol,Object.defineProperty(a,"__esModule",{value:!0})})}(Vo,Vo.exports)),Vo.exports}var Yt=fv();const pv=Ya(Yt),mv=_p({__proto__:null,default:pv},[Yt]);var J0=function(){function o(s,a,d){if(this.formatMap=new Map([[De.QR_CODE,Yt.BarcodeFormat.QR_CODE],[De.AZTEC,Yt.BarcodeFormat.AZTEC],[De.CODABAR,Yt.BarcodeFormat.CODABAR],[De.CODE_39,Yt.BarcodeFormat.CODE_39],[De.CODE_93,Yt.BarcodeFormat.CODE_93],[De.CODE_128,Yt.BarcodeFormat.CODE_128],[De.DATA_MATRIX,Yt.BarcodeFormat.DATA_MATRIX],[De.MAXICODE,Yt.BarcodeFormat.MAXICODE],[De.ITF,Yt.BarcodeFormat.ITF],[De.EAN_13,Yt.BarcodeFormat.EAN_13],[De.EAN_8,Yt.BarcodeFormat.EAN_8],[De.PDF_417,Yt.BarcodeFormat.PDF_417],[De.RSS_14,Yt.BarcodeFormat.RSS_14],[De.RSS_EXPANDED,Yt.BarcodeFormat.RSS_EXPANDED],[De.UPC_A,Yt.BarcodeFormat.UPC_A],[De.UPC_E,Yt.BarcodeFormat.UPC_E],[De.UPC_EAN_EXTENSION,Yt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!mv)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=a,this.logger=d;var m=this.createZXingFormats(s),p=new Map;p.set(Yt.DecodeHintType.POSSIBLE_FORMATS,m),p.set(Yt.DecodeHintType.TRY_HARDER,!1),this.hints=p}return o.prototype.decodeAsync=function(s){var a=this;return new Promise(function(d,m){try{d(a.decode(s))}catch(p){m(p)}})},o.prototype.decode=function(s){var a=new Yt.MultiFormatReader(this.verbose,this.hints),d=new Yt.HTMLCanvasElementLuminanceSource(s),m=new Yt.BinaryBitmap(new Yt.HybridBinarizer(d)),p=a.decode(m);return{text:p.text,format:g1.create(this.toHtml5QrcodeSupportedFormats(p.format)),debugData:this.createDebugData()}},o.prototype.createReverseFormatMap=function(){var s=new Map;return this.formatMap.forEach(function(a,d,m){s.set(a,d)}),s},o.prototype.toHtml5QrcodeSupportedFormats=function(s){if(!this.reverseFormatMap.has(s))throw"reverseFormatMap doesn't have ".concat(s);return this.reverseFormatMap.get(s)},o.prototype.createZXingFormats=function(s){for(var a=[],d=0,m=s;d<m.length;d++){var p=m[d];this.formatMap.has(p)?a.push(this.formatMap.get(p)):this.logger.logError("".concat(p," is not supported by")+"ZXingHtml5QrcodeShim")}return a},o.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},o}(),gv=function(o,s,a,d){function m(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function E(A){try{w(d.next(A))}catch(I){v(I)}}function N(A){try{w(d.throw(A))}catch(I){v(I)}}function w(A){A.done?p(A.value):m(A.value).then(E,N)}w((d=d.apply(o,s||[])).next())})},xv=function(o,s){var a={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},d,m,p,v;return v={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function E(w){return function(A){return N([w,A])}}function N(w){if(d)throw new TypeError("Generator is already executing.");for(;v&&(v=0,w[0]&&(a=0)),a;)try{if(d=1,m&&(p=w[0]&2?m.return:w[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,w[1])).done)return p;switch(m=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return a.label++,{value:w[1],done:!1};case 5:a.label++,m=w[1],w=[0];continue;case 7:w=a.ops.pop(),a.trys.pop();continue;default:if(p=a.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){a=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){a.label=w[1];break}if(w[0]===6&&a.label<p[1]){a.label=p[1],p=w;break}if(p&&a.label<p[2]){a.label=p[2],a.ops.push(w);break}p[2]&&a.ops.pop(),a.trys.pop();continue}w=s.call(o,a)}catch(A){w=[6,A],m=0}finally{d=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},ep=function(){function o(s,a,d){if(this.formatMap=new Map([[De.QR_CODE,"qr_code"],[De.AZTEC,"aztec"],[De.CODABAR,"codabar"],[De.CODE_39,"code_39"],[De.CODE_93,"code_93"],[De.CODE_128,"code_128"],[De.DATA_MATRIX,"data_matrix"],[De.ITF,"itf"],[De.EAN_13,"ean_13"],[De.EAN_8,"ean_8"],[De.PDF_417,"pdf417"],[De.UPC_A,"upc_a"],[De.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!o.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=a,this.logger=d;var m=this.createBarcodeDetectorFormats(s);if(this.detector=new BarcodeDetector(m),!this.detector)throw"BarcodeDetector detector not supported"}return o.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var s=new BarcodeDetector({formats:["qr_code"]});return typeof s<"u"},o.prototype.decodeAsync=function(s){return gv(this,void 0,void 0,function(){var a,d;return xv(this,function(m){switch(m.label){case 0:return[4,this.detector.detect(s)];case 1:if(a=m.sent(),!a||a.length===0)throw"No barcode or QR code detected.";return d=this.selectLargestBarcode(a),[2,{text:d.rawValue,format:g1.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}]}})})},o.prototype.selectLargestBarcode=function(s){for(var a=null,d=0,m=0,p=s;m<p.length;m++){var v=p[m],E=v.boundingBox.width*v.boundingBox.height;E>d&&(d=E,a=v)}if(!a)throw"No largest barcode found";return a},o.prototype.createBarcodeDetectorFormats=function(s){for(var a=[],d=0,m=s;d<m.length;d++){var p=m[d];this.formatMap.has(p)?a.push(this.formatMap.get(p)):this.logger.warn("".concat(p," is not supported by")+"BarcodeDetectorDelegate")}return{formats:a}},o.prototype.toHtml5QrcodeSupportedFormats=function(s){if(!this.reverseFormatMap.has(s))throw"reverseFormatMap doesn't have ".concat(s);return this.reverseFormatMap.get(s)},o.prototype.createReverseFormatMap=function(){var s=new Map;return this.formatMap.forEach(function(a,d,m){s.set(a,d)}),s},o.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},o}(),tp=function(o,s,a,d){function m(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function E(A){try{w(d.next(A))}catch(I){v(I)}}function N(A){try{w(d.throw(A))}catch(I){v(I)}}function w(A){A.done?p(A.value):m(A.value).then(E,N)}w((d=d.apply(o,s||[])).next())})},np=function(o,s){var a={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},d,m,p,v;return v={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function E(w){return function(A){return N([w,A])}}function N(w){if(d)throw new TypeError("Generator is already executing.");for(;v&&(v=0,w[0]&&(a=0)),a;)try{if(d=1,m&&(p=w[0]&2?m.return:w[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,w[1])).done)return p;switch(m=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return a.label++,{value:w[1],done:!1};case 5:a.label++,m=w[1],w=[0];continue;case 7:w=a.ops.pop(),a.trys.pop();continue;default:if(p=a.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){a=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){a.label=w[1];break}if(w[0]===6&&a.label<p[1]){a.label=p[1],p=w;break}if(p&&a.label<p[2]){a.label=p[2],a.ops.push(w);break}p[2]&&a.ops.pop(),a.trys.pop();continue}w=s.call(o,a)}catch(A){w=[6,A],m=0}finally{d=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},yv=function(){function o(s,a,d,m){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=d,a&&ep.isSupported()?(this.primaryDecoder=new ep(s,d,m),this.secondaryDecoder=new J0(s,d,m)):this.primaryDecoder=new J0(s,d,m)}return o.prototype.decodeAsync=function(s){return tp(this,void 0,void 0,function(){var a;return np(this,function(d){switch(d.label){case 0:a=performance.now(),d.label=1;case 1:return d.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(s)];case 2:return[2,d.sent()];case 3:return this.possiblyLogPerformance(a),[7];case 4:return[2]}})})},o.prototype.decodeRobustlyAsync=function(s){return tp(this,void 0,void 0,function(){var a,d;return np(this,function(m){switch(m.label){case 0:a=performance.now(),m.label=1;case 1:return m.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(s)];case 2:return[2,m.sent()];case 3:if(d=m.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(s)];throw d;case 4:return this.possiblyLogPerformance(a),[7];case 5:return[2]}})})},o.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},o.prototype.possiblyLogPerformance=function(s){if(this.verbose){var a=performance.now()-s;this.executionResults.push(a),this.executions++,this.possiblyFlushPerformanceReport()}},o.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var s=0,a=0,d=this.executionResults;a<d.length;a++){var m=d[a];s+=m}var p=s/this.executionResults.length;console.log("".concat(p," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},o}(),sh=function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(d[p]=m[p])},o(s,a)};return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");o(s,a);function d(){this.constructor=s}s.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)}}(),kc=function(o,s,a,d){function m(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function E(A){try{w(d.next(A))}catch(I){v(I)}}function N(A){try{w(d.throw(A))}catch(I){v(I)}}function w(A){A.done?p(A.value):m(A.value).then(E,N)}w((d=d.apply(o,s||[])).next())})},jc=function(o,s){var a={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},d,m,p,v;return v={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function E(w){return function(A){return N([w,A])}}function N(w){if(d)throw new TypeError("Generator is already executing.");for(;v&&(v=0,w[0]&&(a=0)),a;)try{if(d=1,m&&(p=w[0]&2?m.return:w[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,w[1])).done)return p;switch(m=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return a.label++,{value:w[1],done:!1};case 5:a.label++,m=w[1],w=[0];continue;case 7:w=a.ops.pop(),a.trys.pop();continue;default:if(p=a.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){a=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){a.label=w[1];break}if(w[0]===6&&a.label<p[1]){a.label=p[1],p=w;break}if(p&&a.label<p[2]){a.label=p[2],a.ops.push(w);break}p[2]&&a.ops.pop(),a.trys.pop();continue}w=s.call(o,a)}catch(A){w=[6,A],m=0}finally{d=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},w1=function(){function o(s,a){this.name=s,this.track=a}return o.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},o.prototype.apply=function(s){var a={};a[this.name]=s;var d={advanced:[a]};return this.track.applyConstraints(d)},o.prototype.value=function(){var s=this.track.getSettings();if(this.name in s){var a=s[this.name];return a}return null},o}(),vv=function(o){sh(s,o);function s(a,d){return o.call(this,a,d)||this}return s.prototype.min=function(){return this.getCapabilities().min},s.prototype.max=function(){return this.getCapabilities().max},s.prototype.step=function(){return this.getCapabilities().step},s.prototype.apply=function(a){var d={};d[this.name]=a;var m={advanced:[d]};return this.track.applyConstraints(m)},s.prototype.getCapabilities=function(){this.failIfNotSupported();var a=this.track.getCapabilities(),d=a[this.name];return{min:d.min,max:d.max,step:d.step}},s.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},s}(w1),wv=function(o){sh(s,o);function s(a){return o.call(this,"zoom",a)||this}return s}(vv),bv=function(o){sh(s,o);function s(a){return o.call(this,"torch",a)||this}return s}(w1),Cv=function(){function o(s){this.track=s}return o.prototype.zoomFeature=function(){return new wv(this.track)},o.prototype.torchFeature=function(){return new bv(this.track)},o}(),Ev=function(){function o(s,a,d){this.isClosed=!1,this.parentElement=s,this.mediaStream=a,this.callbacks=d,this.surface=this.createVideoElement(this.parentElement.clientWidth),s.append(this.surface)}return o.prototype.createVideoElement=function(s){var a=document.createElement("video");return a.style.width="".concat(s,"px"),a.style.display="block",a.muted=!0,a.setAttribute("muted","true"),a.playsInline=!0,a},o.prototype.setupSurface=function(){var s=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var a=function(){var d=s.surface.clientWidth,m=s.surface.clientHeight;s.callbacks.onRenderSurfaceReady(d,m),s.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.srcObject=this.mediaStream,this.surface.play()},o.create=function(s,a,d,m){return kc(this,void 0,void 0,function(){var p,v;return jc(this,function(E){switch(E.label){case 0:return p=new o(s,a,m),d.aspectRatio?(v={aspectRatio:d.aspectRatio},[4,p.getFirstTrackOrFail().applyConstraints(v)]):[3,2];case 1:E.sent(),E.label=2;case 2:return p.setupSurface(),[2,p]}})})},o.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},o.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},o.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},o.prototype.resume=function(s){this.failIfClosed();var a=this,d=function(){setTimeout(s,200),a.surface.removeEventListener("playing",d)};this.surface.addEventListener("playing",d),this.surface.play()},o.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},o.prototype.getSurface=function(){return this.failIfClosed(),this.surface},o.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},o.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},o.prototype.applyVideoConstraints=function(s){return kc(this,void 0,void 0,function(){return jc(this,function(a){if("aspectRatio"in s)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(s)]})})},o.prototype.close=function(){if(this.isClosed)return Promise.resolve();var s=this;return new Promise(function(a,d){var m=s.mediaStream.getVideoTracks(),p=m.length,v=0;s.mediaStream.getVideoTracks().forEach(function(E){s.mediaStream.removeTrack(E),E.stop(),++v,v>=p&&(s.isClosed=!0,s.parentElement.removeChild(s.surface),a())})})},o.prototype.getCapabilities=function(){return new Cv(this.getFirstTrackOrFail())},o}(),Nv=function(){function o(s){this.mediaStream=s}return o.prototype.render=function(s,a,d){return kc(this,void 0,void 0,function(){return jc(this,function(m){return[2,Ev.create(s,this.mediaStream,a,d)]})})},o.create=function(s){return kc(this,void 0,void 0,function(){var a,d;return jc(this,function(m){switch(m.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return a={audio:!1,video:s},[4,navigator.mediaDevices.getUserMedia(a)];case 1:return d=m.sent(),[2,new o(d)]}})})},o}(),rp=function(o,s,a,d){function m(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function E(A){try{w(d.next(A))}catch(I){v(I)}}function N(A){try{w(d.throw(A))}catch(I){v(I)}}function w(A){A.done?p(A.value):m(A.value).then(E,N)}w((d=d.apply(o,s||[])).next())})},ip=function(o,s){var a={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},d,m,p,v;return v={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function E(w){return function(A){return N([w,A])}}function N(w){if(d)throw new TypeError("Generator is already executing.");for(;v&&(v=0,w[0]&&(a=0)),a;)try{if(d=1,m&&(p=w[0]&2?m.return:w[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,w[1])).done)return p;switch(m=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return a.label++,{value:w[1],done:!1};case 5:a.label++,m=w[1],w=[0];continue;case 7:w=a.ops.pop(),a.trys.pop();continue;default:if(p=a.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){a=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){a.label=w[1];break}if(w[0]===6&&a.label<p[1]){a.label=p[1],p=w;break}if(p&&a.label<p[2]){a.label=p[2],a.ops.push(w);break}p[2]&&a.ops.pop(),a.trys.pop();continue}w=s.call(o,a)}catch(A){w=[6,A],m=0}finally{d=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Sv=function(){function o(){}return o.failIfNotSupported=function(){return rp(this,void 0,void 0,function(){return ip(this,function(s){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new o]})})},o.prototype.create=function(s){return rp(this,void 0,void 0,function(){return ip(this,function(a){return[2,Nv.create(s)]})})},o}(),Av=function(o,s,a,d){function m(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function E(A){try{w(d.next(A))}catch(I){v(I)}}function N(A){try{w(d.throw(A))}catch(I){v(I)}}function w(A){A.done?p(A.value):m(A.value).then(E,N)}w((d=d.apply(o,s||[])).next())})},_v=function(o,s){var a={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},d,m,p,v;return v={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function E(w){return function(A){return N([w,A])}}function N(w){if(d)throw new TypeError("Generator is already executing.");for(;v&&(v=0,w[0]&&(a=0)),a;)try{if(d=1,m&&(p=w[0]&2?m.return:w[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,w[1])).done)return p;switch(m=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return a.label++,{value:w[1],done:!1};case 5:a.label++,m=w[1],w=[0];continue;case 7:w=a.ops.pop(),a.trys.pop();continue;default:if(p=a.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){a=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){a.label=w[1];break}if(w[0]===6&&a.label<p[1]){a.label=p[1],p=w;break}if(p&&a.label<p[2]){a.label=p[2],a.ops.push(w);break}p[2]&&a.ops.pop(),a.trys.pop();continue}w=s.call(o,a)}catch(A){w=[6,A],m=0}finally{d=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Iv=function(){function o(){}return o.retrieve=function(){if(navigator.mediaDevices)return o.getCamerasFromMediaDevices();var s=MediaStreamTrack;return MediaStreamTrack&&s.getSources?o.getCamerasFromMediaStreamTrack():o.rejectWithError()},o.rejectWithError=function(){var s=Ha.unableToQuerySupportedDevices();return o.isHttpsOrLocalhost()||(s=Ha.insecureContextCameraQueryError()),Promise.reject(s)},o.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var s=location.host.split(":")[0];return s==="127.0.0.1"||s==="localhost"},o.getCamerasFromMediaDevices=function(){return Av(this,void 0,void 0,function(){var s,a,d,m,p,v,E;return _v(this,function(N){switch(N.label){case 0:return s=function(w){for(var A=w.getVideoTracks(),I=0,D=A;I<D.length;I++){var B=D[I];B.enabled=!1,B.stop(),w.removeTrack(B)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return a=N.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(d=N.sent(),m=[],p=0,v=d;p<v.length;p++)E=v[p],E.kind==="videoinput"&&m.push({id:E.deviceId,label:E.label});return s(a),[2,m]}})})},o.getCamerasFromMediaStreamTrack=function(){return new Promise(function(s,a){var d=function(p){for(var v=[],E=0,N=p;E<N.length;E++){var w=N[E];w.kind==="video"&&v.push({id:w.id,label:w.label})}s(v)},m=MediaStreamTrack;m.getSources(d)})},o}(),cn;(function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.NOT_STARTED=1]="NOT_STARTED",o[o.SCANNING=2]="SCANNING",o[o.PAUSED=3]="PAUSED"})(cn||(cn={}));var Tv=function(){function o(){this.state=cn.NOT_STARTED,this.onGoingTransactionNewState=cn.UNKNOWN}return o.prototype.directTransition=function(s){this.failIfTransitionOngoing(),this.validateTransition(s),this.state=s},o.prototype.startTransition=function(s){return this.failIfTransitionOngoing(),this.validateTransition(s),this.onGoingTransactionNewState=s,this},o.prototype.execute=function(){if(this.onGoingTransactionNewState===cn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var s=this.onGoingTransactionNewState;this.onGoingTransactionNewState=cn.UNKNOWN,this.directTransition(s)},o.prototype.cancel=function(){if(this.onGoingTransactionNewState===cn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=cn.UNKNOWN},o.prototype.getState=function(){return this.state},o.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==cn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},o.prototype.validateTransition=function(s){switch(this.state){case cn.UNKNOWN:throw"Transition from unknown is not allowed";case cn.NOT_STARTED:this.failIfNewStateIs(s,[cn.PAUSED]);break;case cn.SCANNING:break;case cn.PAUSED:break}},o.prototype.failIfNewStateIs=function(s,a){for(var d=0,m=a;d<m.length;d++){var p=m[d];if(s===p)throw"Cannot transition from ".concat(this.state," to ").concat(s)}},o}(),kv=function(){function o(s){this.stateManager=s}return o.prototype.startTransition=function(s){return this.stateManager.startTransition(s)},o.prototype.directTransition=function(s){this.stateManager.directTransition(s)},o.prototype.getState=function(){return this.stateManager.getState()},o.prototype.canScanFile=function(){return this.stateManager.getState()===cn.NOT_STARTED},o.prototype.isScanning=function(){return this.stateManager.getState()!==cn.NOT_STARTED},o.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===cn.SCANNING},o.prototype.isPaused=function(){return this.stateManager.getState()===cn.PAUSED},o}(),jv=function(){function o(){}return o.create=function(){return new kv(new Tv)},o}(),Ov=function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(d[p]=m[p])},o(s,a)};return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");o(s,a);function d(){this.constructor=s}s.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)}}(),Sr=function(o){Ov(s,o);function s(){return o!==null&&o.apply(this,arguments)||this}return s.DEFAULT_WIDTH=300,s.DEFAULT_WIDTH_OFFSET=2,s.FILE_SCAN_MIN_HEIGHT=300,s.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,s.MIN_QR_BOX_SIZE=50,s.SHADED_LEFT=1,s.SHADED_RIGHT=2,s.SHADED_TOP=3,s.SHADED_BOTTOM=4,s.SHADED_REGION_ELEMENT_ID="qr-shaded-region",s.VERBOSE=!1,s.BORDER_SHADER_DEFAULT_COLOR="#ffffff",s.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",s}(ei),Dv=function(){function o(s,a){this.logger=a,this.fps=Sr.SCAN_DEFAULT_FPS,s?(s.fps&&(this.fps=s.fps),this.disableFlip=s.disableFlip===!0,this.qrbox=s.qrbox,this.aspectRatio=s.aspectRatio,this.videoConstraints=s.videoConstraints):this.disableFlip=Sr.DEFAULT_DISABLE_FLIP}return o.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?v1.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},o.prototype.isShadedBoxEnabled=function(){return!hi(this.qrbox)},o.create=function(s,a){return new o(s,a)},o}(),sp=function(){function o(s,a){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(s))throw"HTML Element with id=".concat(s," not found");this.elementId=s,this.verbose=!1;var d;typeof a=="boolean"?this.verbose=a===!0:a&&(d=a,this.verbose=d.verbose===!0,d.experimentalFeatures),this.logger=new y1(this.verbose),this.qrcode=new yv(this.getSupportedFormats(a),this.getUseBarCodeDetectorIfSupported(d),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=jv.create()}return o.prototype.start=function(s,a,d,m){var p=this;if(!s)throw"cameraIdOrConfig is required";if(!d||typeof d!="function")throw"qrCodeSuccessCallback is required and should be a function.";var v;m?v=m:v=this.verbose?this.logger.log:function(){};var E=Dv.create(a,this.logger);this.clearElement();var N=!1;E.videoConstraints&&(E.isMediaStreamConstraintsValid()?N=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var w=N,A=document.getElementById(this.elementId);A.clientWidth?A.clientWidth:Sr.DEFAULT_WIDTH,A.style.position="relative",this.shouldScan=!0,this.element=A;var I=this,D=this.stateManagerProxy.startTransition(cn.SCANNING);return new Promise(function(B,P){var R=w?E.videoConstraints:I.createVideoConstraints(s);if(!R){D.cancel(),P("videoConstraints should be defined");return}var F={};(!w||E.aspectRatio)&&(F.aspectRatio=E.aspectRatio);var J={onRenderSurfaceReady:function(K,V){I.setupUi(K,V,E),I.isScanning=!0,I.foreverScan(E,d,v)}};Sv.failIfNotSupported().then(function(K){K.create(R).then(function(V){return V.render(p.element,F,J).then(function(ie){I.renderedCamera=ie,D.execute(),B(null)}).catch(function(ie){D.cancel(),P(ie)})}).catch(function(V){D.cancel(),P(Ha.errorGettingUserMedia(V))})}).catch(function(K){D.cancel(),P(Ha.cameraStreamingNotSupported())})})},o.prototype.pause=function(s){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(cn.PAUSED),this.showPausedState(),(hi(s)||s!==!0)&&(s=!1),s&&this.renderedCamera&&this.renderedCamera.pause()},o.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var s=this,a=function(){s.stateManagerProxy.directTransition(cn.SCANNING),s.hidePausedState()};if(!this.renderedCamera.isPaused()){a();return}this.renderedCamera.resume(function(){a()})},o.prototype.getState=function(){return this.stateManagerProxy.getState()},o.prototype.stop=function(){var s=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var a=this.stateManagerProxy.startTransition(cn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var d=function(){if(s.element){var p=document.getElementById(Sr.SHADED_REGION_ELEMENT_ID);p&&s.element.removeChild(p)}},m=this;return this.renderedCamera.close().then(function(){return m.renderedCamera=null,m.element&&(m.element.removeChild(m.canvasElement),m.canvasElement=null),d(),m.qrRegion&&(m.qrRegion=null),m.context&&(m.context=null),a.execute(),m.hidePausedState(),m.isScanning=!1,Promise.resolve()})},o.prototype.scanFile=function(s,a){return this.scanFileV2(s,a).then(function(d){return d.decodedText})},o.prototype.scanFileV2=function(s,a){var d=this;if(!s||!(s instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(hi(a)&&(a=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(m,p){d.possiblyCloseLastScanImageFile(),d.clearElement(),d.lastScanImageFile=URL.createObjectURL(s);var v=new Image;v.onload=function(){var E=v.width,N=v.height,w=document.getElementById(d.elementId),A=w.clientWidth?w.clientWidth:Sr.DEFAULT_WIDTH,I=Math.max(w.clientHeight?w.clientHeight:N,Sr.FILE_SCAN_MIN_HEIGHT),D=d.computeCanvasDrawConfig(E,N,A,I);if(a){var B=d.createCanvasElement(A,I,"qr-canvas-visible");B.style.display="inline-block",w.appendChild(B);var P=B.getContext("2d");if(!P)throw"Unable to get 2d context from canvas";P.canvas.width=A,P.canvas.height=I,P.drawImage(v,0,0,E,N,D.x,D.y,D.width,D.height)}var R=Sr.FILE_SCAN_HIDDEN_CANVAS_PADDING,F=Math.max(v.width,D.width),J=Math.max(v.height,D.height),K=F+2*R,V=J+2*R,ie=d.createCanvasElement(K,V);w.appendChild(ie);var ge=ie.getContext("2d");if(!ge)throw"Unable to get 2d context from canvas";ge.canvas.width=K,ge.canvas.height=V,ge.drawImage(v,0,0,E,N,R,R,F,J);try{d.qrcode.decodeRobustlyAsync(ie).then(function(de){m(K0.createFromQrcodeResult(de))}).catch(p)}catch(de){p("QR code parse error, error = ".concat(de))}},v.onerror=p,v.onabort=p,v.onstalled=p,v.onsuspend=p,v.src=URL.createObjectURL(s)})},o.prototype.clear=function(){this.clearElement()},o.getCameras=function(){return Iv.retrieve()},o.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},o.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},o.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},o.prototype.applyVideoConstraints=function(s){if(s){if(!v1.isMediaStreamConstraintsValid(s,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(s)},o.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},o.prototype.getSupportedFormats=function(s){var a=[De.QR_CODE,De.AZTEC,De.CODABAR,De.CODE_39,De.CODE_93,De.CODE_128,De.DATA_MATRIX,De.MAXICODE,De.ITF,De.EAN_13,De.EAN_8,De.PDF_417,De.RSS_14,De.RSS_EXPANDED,De.UPC_A,De.UPC_E,De.UPC_EAN_EXTENSION];if(!s||typeof s=="boolean"||!s.formatsToSupport)return a;if(!Array.isArray(s.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(s.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var d=[],m=0,p=s.formatsToSupport;m<p.length;m++){var v=p[m];uv(v)?d.push(v):this.logger.warn("Invalid format: ".concat(v," passed in config, ignoring."))}if(d.length===0)throw"None of formatsToSupport match supported values.";return d},o.prototype.getUseBarCodeDetectorIfSupported=function(s){if(hi(s))return!0;if(!hi(s.useBarCodeDetectorIfSupported))return s.useBarCodeDetectorIfSupported!==!1;if(hi(s.experimentalFeatures))return!0;var a=s.experimentalFeatures;return hi(a.useBarCodeDetectorIfSupported)?!0:a.useBarCodeDetectorIfSupported!==!1},o.prototype.validateQrboxSize=function(s,a,d){var m=this,p=d.qrbox;this.validateQrboxConfig(p);var v=this.toQrdimensions(s,a,p),E=function(w){if(w<Sr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Sr.MIN_QR_BOX_SIZE,"px.")},N=function(w){return w>s&&(m.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),w=s),w};E(v.width),E(v.height),v.width=N(v.width)},o.prototype.validateQrboxConfig=function(s){if(typeof s!="number"&&typeof s!="function"&&(s.width===void 0||s.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},o.prototype.toQrdimensions=function(s,a,d){if(typeof d=="number")return{width:d,height:d};if(typeof d=="function")try{return d(s,a)}catch(m){throw new Error("qrbox config was passed as a function but it failed with unknown error"+m)}return d},o.prototype.setupUi=function(s,a,d){d.isShadedBoxEnabled()&&this.validateQrboxSize(s,a,d);var m=hi(d.qrbox)?{width:s,height:a}:d.qrbox;this.validateQrboxConfig(m);var p=this.toQrdimensions(s,a,m);p.height>a&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var v=d.isShadedBoxEnabled()&&p.height<=a,E={x:0,y:0,width:s,height:a},N=v?this.getShadedRegionBounds(s,a,p):E,w=this.createCanvasElement(N.width,N.height),A={willReadFrequently:!0},I=w.getContext("2d",A);I.canvas.width=N.width,I.canvas.height=N.height,this.element.append(w),v&&this.possiblyInsertShadingElement(this.element,s,a,p),this.createScannerPausedUiElement(this.element),this.qrRegion=N,this.context=I,this.canvasElement=w},o.prototype.createScannerPausedUiElement=function(s){var a=document.createElement("div");a.innerText=Ha.scannerPaused(),a.style.display="none",a.style.position="absolute",a.style.top="0px",a.style.zIndex="1",a.style.background="rgba(9, 9, 9, 0.46)",a.style.color="#FFECEC",a.style.textAlign="center",a.style.width="100%",s.appendChild(a),this.scannerPausedUiElement=a},o.prototype.scanContext=function(s,a){var d=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(m){return s(m.text,K0.createFromQrcodeResult(m)),d.possiblyUpdateShaders(!0),!0}).catch(function(m){d.possiblyUpdateShaders(!1);var p=Ha.codeParseError(m);return a(p,x1.createFrom(p)),!1})},o.prototype.foreverScan=function(s,a,d){var m=this;if(this.shouldScan&&this.renderedCamera){var p=this.renderedCamera.getSurface(),v=p.videoWidth/p.clientWidth,E=p.videoHeight/p.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var N=this.qrRegion.width*v,w=this.qrRegion.height*E,A=this.qrRegion.x*v,I=this.qrRegion.y*E;this.context.drawImage(p,A,I,N,w,0,0,this.qrRegion.width,this.qrRegion.height);var D=function(){m.foreverScanTimeout=setTimeout(function(){m.foreverScan(s,a,d)},m.getTimeoutFps(s.fps))};this.scanContext(a,d).then(function(B){!B&&s.disableFlip!==!0?(m.context.translate(m.context.canvas.width,0),m.context.scale(-1,1),m.scanContext(a,d).finally(function(){D()})):D()}).catch(function(B){m.logger.logError("Error happend while scanning context",B),D()})}},o.prototype.createVideoConstraints=function(s){if(typeof s=="string")return{deviceId:{exact:s}};if(typeof s=="object"){var a="facingMode",d="deviceId",m={user:!0,environment:!0},p="exact",v=function(P){if(P in m)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(P,"'")},E=Object.keys(s);if(E.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(E.length," keys");var N=Object.keys(s)[0];if(N!==a&&N!==d)throw"Only '".concat(a,"' and '").concat(d,"' ")+" are supported for 'cameraIdOrConfig'";if(N===a){var w=s.facingMode;if(typeof w=="string"){if(v(w))return{facingMode:w}}else if(typeof w=="object")if(p in w){if(v(w["".concat(p)]))return{facingMode:{exact:w["".concat(p)]}}}else throw"'facingMode' should be string or object with"+" ".concat(p," as key.");else{var A=typeof w;throw"Invalid type of 'facingMode' = ".concat(A)}}else{var I=s.deviceId;if(typeof I=="string")return{deviceId:I};if(typeof I=="object"){if(p in I)return{deviceId:{exact:I["".concat(p)]}};throw"'deviceId' should be string or object with"+" ".concat(p," as key.")}else{var D=typeof I;throw"Invalid type of 'deviceId' = ".concat(D)}}}var B=typeof s;throw"Invalid type of 'cameraIdOrConfig' = ".concat(B)},o.prototype.computeCanvasDrawConfig=function(s,a,d,m){if(s<=d&&a<=m){var p=(d-s)/2,v=(m-a)/2;return{x:p,y:v,width:s,height:a}}else{var E=s,N=a;return s>d&&(a=d/s*a,s=d),a>m&&(s=m/a*s,a=m),this.logger.log("Image downsampled from "+"".concat(E,"X").concat(N)+" to ".concat(s,"X").concat(a,".")),this.computeCanvasDrawConfig(s,a,d,m)}},o.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var s=document.getElementById(this.elementId);s&&(s.innerHTML="")},o.prototype.possiblyUpdateShaders=function(s){this.qrMatch!==s&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(a){a.style.backgroundColor=s?Sr.BORDER_SHADER_MATCH_COLOR:Sr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=s)},o.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},o.prototype.createCanvasElement=function(s,a,d){var m=s,p=a,v=document.createElement("canvas");return v.style.width="".concat(m,"px"),v.style.height="".concat(p,"px"),v.style.display="none",v.id=hi(d)?"qr-canvas":d,v},o.prototype.getShadedRegionBounds=function(s,a,d){if(d.width>s||d.height>a)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(s-d.width)/2,y:(a-d.height)/2,width:d.width,height:d.height}},o.prototype.possiblyInsertShadingElement=function(s,a,d,m){if(!(a-m.width<1||d-m.height<1)){var p=document.createElement("div");p.style.position="absolute";var v=(a-m.width)/2,E=(d-m.height)/2;if(p.style.borderLeft="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderRight="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderTop="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderBottom="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),p.style.boxSizing="border-box",p.style.top="0px",p.style.bottom="0px",p.style.left="0px",p.style.right="0px",p.id="".concat(Sr.SHADED_REGION_ELEMENT_ID),a-m.width<11||d-m.height<11)this.hasBorderShaders=!1;else{var N=5,w=40;this.insertShaderBorders(p,w,N,-N,null,0,!0),this.insertShaderBorders(p,w,N,-N,null,0,!1),this.insertShaderBorders(p,w,N,null,-N,0,!0),this.insertShaderBorders(p,w,N,null,-N,0,!1),this.insertShaderBorders(p,N,w+N,-N,null,-N,!0),this.insertShaderBorders(p,N,w+N,null,-N,-N,!0),this.insertShaderBorders(p,N,w+N,-N,null,-N,!1),this.insertShaderBorders(p,N,w+N,null,-N,-N,!1),this.hasBorderShaders=!0}s.append(p)}},o.prototype.insertShaderBorders=function(s,a,d,m,p,v,E){var N=document.createElement("div");N.style.position="absolute",N.style.backgroundColor=Sr.BORDER_SHADER_DEFAULT_COLOR,N.style.width="".concat(a,"px"),N.style.height="".concat(d,"px"),m!==null&&(N.style.top="".concat(m,"px")),p!==null&&(N.style.bottom="".concat(p,"px")),E?N.style.left="".concat(v,"px"):N.style.right="".concat(v,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(N),s.appendChild(N)},o.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},o.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},o.prototype.getTimeoutFps=function(s){return 1e3/s},o}(),ah="data:image/svg+xml;base64,",Mv=ah+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Rv=ah+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",ap=ah+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Pv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",op=function(){function o(){}return o.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},o}(),Lv=function(){function o(){this.data=op.createDefault();var s=localStorage.getItem(o.LOCAL_STORAGE_KEY);s?this.data=JSON.parse(s):this.reset()}return o.prototype.hasCameraPermissions=function(){return this.data.hasPermission},o.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},o.prototype.setHasPermission=function(s){this.data.hasPermission=s,this.flush()},o.prototype.setLastUsedCameraId=function(s){this.data.lastUsedCameraId=s,this.flush()},o.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},o.prototype.reset=function(){this.data=op.createDefault(),this.flush()},o.prototype.flush=function(){localStorage.setItem(o.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},o.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",o}(),Bv=function(){function o(){this.infoDiv=document.createElement("div")}return o.prototype.renderInto=function(s){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Q0.poweredBy();var a=document.createElement("a");a.innerText="ScanApp",a.href="https://scanapp.org",a.target="new",a.style.color="white",this.infoDiv.appendChild(a);var d=document.createElement("br"),m=document.createElement("br");this.infoDiv.appendChild(d),this.infoDiv.appendChild(m);var p=document.createElement("a");p.innerText=Q0.reportIssues(),p.href="https://github.com/mebjas/html5-qrcode/issues",p.target="new",p.style.color="white",this.infoDiv.appendChild(p),s.appendChild(this.infoDiv)},o.prototype.show=function(){this.infoDiv.style.display="block"},o.prototype.hide=function(){this.infoDiv.style.display="none"},o}(),Fv=function(){function o(s,a){this.isShowingInfoIcon=!0,this.onTapIn=s,this.onTapOut=a,this.infoIcon=document.createElement("img")}return o.prototype.renderInto=function(s){var a=this;this.infoIcon.alt="Info icon",this.infoIcon.src=ap,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(d){return a.onHoverIn()},this.infoIcon.onmouseout=function(d){return a.onHoverOut()},this.infoIcon.onclick=function(d){return a.onClick()},s.appendChild(this.infoIcon)},o.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},o.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},o.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Pv,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=ap,this.infoIcon.style.opacity="0.6")},o}(),Uv=function(){function o(){var s=this;this.infoDiv=new Bv,this.infoIcon=new Fv(function(){s.infoDiv.show()},function(){s.infoDiv.hide()})}return o.prototype.renderInto=function(s){this.infoDiv.renderInto(s),this.infoIcon.renderInto(s)},o}(),zv=function(o,s,a,d){function m(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function E(A){try{w(d.next(A))}catch(I){v(I)}}function N(A){try{w(d.throw(A))}catch(I){v(I)}}function w(A){A.done?p(A.value):m(A.value).then(E,N)}w((d=d.apply(o,s||[])).next())})},Hv=function(o,s){var a={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},d,m,p,v;return v={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function E(w){return function(A){return N([w,A])}}function N(w){if(d)throw new TypeError("Generator is already executing.");for(;v&&(v=0,w[0]&&(a=0)),a;)try{if(d=1,m&&(p=w[0]&2?m.return:w[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,w[1])).done)return p;switch(m=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return a.label++,{value:w[1],done:!1};case 5:a.label++,m=w[1],w=[0];continue;case 7:w=a.ops.pop(),a.trys.pop();continue;default:if(p=a.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){a=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){a.label=w[1];break}if(w[0]===6&&a.label<p[1]){a.label=p[1],p=w;break}if(p&&a.label<p[2]){a.label=p[2],a.ops.push(w);break}p[2]&&a.ops.pop(),a.trys.pop();continue}w=s.call(o,a)}catch(A){w=[6,A],m=0}finally{d=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},lp=function(){function o(){}return o.hasPermissions=function(){return zv(this,void 0,void 0,function(){var s,a,d,m;return Hv(this,function(p){switch(p.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(s=p.sent(),a=0,d=s;a<d.length;a++)if(m=d[a],m.kind==="videoinput"&&m.label)return[2,!0];return[2,!1]}})})},o}(),os=function(){function o(s){this.supportedScanTypes=this.validateAndReturnScanTypes(s)}return o.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},o.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},o.prototype.isCameraScanRequired=function(){for(var s=0,a=this.supportedScanTypes;s<a.length;s++){var d=a[s];if(o.isCameraScanType(d))return!0}return!1},o.isCameraScanType=function(s){return s===ps.SCAN_TYPE_CAMERA},o.isFileScanType=function(s){return s===ps.SCAN_TYPE_FILE},o.prototype.validateAndReturnScanTypes=function(s){if(!s||s.length===0)return ei.DEFAULT_SUPPORTED_SCAN_TYPE;var a=ei.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(s.length>a)throw"Max ".concat(a," values expected for ")+"supportedScanTypes";for(var d=0,m=s;d<m.length;d++){var p=m[d];if(!ei.DEFAULT_SUPPORTED_SCAN_TYPE.includes(p))throw"Unsupported scan type ".concat(p)}return s},o}(),Ir=function(){function o(){}return o.ALL_ELEMENT_CLASS="html5-qrcode-element",o.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",o.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",o.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",o.TORCH_BUTTON_ID="html5-qrcode-button-torch",o.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",o.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",o.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",o.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",o.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",o.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",o}(),ji=function(){function o(){}return o.createElement=function(s,a){var d=document.createElement(s);return d.id=a,d.classList.add(Ir.ALL_ELEMENT_CLASS),s==="button"&&d.setAttribute("type","button"),d},o}(),b1=function(o,s,a,d){function m(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function E(A){try{w(d.next(A))}catch(I){v(I)}}function N(A){try{w(d.throw(A))}catch(I){v(I)}}function w(A){A.done?p(A.value):m(A.value).then(E,N)}w((d=d.apply(o,s||[])).next())})},C1=function(o,s){var a={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},d,m,p,v;return v={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function E(w){return function(A){return N([w,A])}}function N(w){if(d)throw new TypeError("Generator is already executing.");for(;v&&(v=0,w[0]&&(a=0)),a;)try{if(d=1,m&&(p=w[0]&2?m.return:w[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,w[1])).done)return p;switch(m=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return a.label++,{value:w[1],done:!1};case 5:a.label++,m=w[1],w=[0];continue;case 7:w=a.ops.pop(),a.trys.pop();continue;default:if(p=a.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){a=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){a.label=w[1];break}if(w[0]===6&&a.label<p[1]){a.label=p[1],p=w;break}if(p&&a.label<p[2]){a.label=p[2],a.ops.push(w);break}p[2]&&a.ops.pop(),a.trys.pop();continue}w=s.call(o,a)}catch(A){w=[6,A],m=0}finally{d=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},cp=function(){function o(s,a,d){this.isTorchOn=!1,this.torchCapability=s,this.buttonController=a,this.onTorchActionFailureCallback=d}return o.prototype.isTorchEnabled=function(){return this.isTorchOn},o.prototype.flipState=function(){return b1(this,void 0,void 0,function(){var s,a;return C1(this,function(d){switch(d.label){case 0:this.buttonController.disable(),s=!this.isTorchOn,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.torchCapability.apply(s)];case 2:return d.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),s),[3,4];case 3:return a=d.sent(),this.propagateFailure(s,a),this.buttonController.enable(),[3,4];case 4:return[2]}})})},o.prototype.updateUiBasedOnLatestSettings=function(s,a){s===a?(this.buttonController.setText(a?kt.torchOffButton():kt.torchOnButton()),this.isTorchOn=a):this.propagateFailure(a),this.buttonController.enable()},o.prototype.propagateFailure=function(s,a){var d=s?kt.torchOnFailedMessage():kt.torchOffFailedMessage();a&&(d+="; Error = "+a),this.onTorchActionFailureCallback(d)},o.prototype.reset=function(){this.isTorchOn=!1},o}(),Wv=function(){function o(s,a){this.onTorchActionFailureCallback=a,this.torchButton=ji.createElement("button",Ir.TORCH_BUTTON_ID),this.torchController=new cp(s,this,a)}return o.prototype.render=function(s,a){var d=this;this.torchButton.innerText=kt.torchOnButton(),this.torchButton.style.display=a.display,this.torchButton.style.marginLeft=a.marginLeft;var m=this;this.torchButton.addEventListener("click",function(p){return b1(d,void 0,void 0,function(){return C1(this,function(v){switch(v.label){case 0:return[4,m.torchController.flipState()];case 1:return v.sent(),m.torchController.isTorchEnabled()?(m.torchButton.classList.remove(Ir.TORCH_BUTTON_CLASS_TORCH_OFF),m.torchButton.classList.add(Ir.TORCH_BUTTON_CLASS_TORCH_ON)):(m.torchButton.classList.remove(Ir.TORCH_BUTTON_CLASS_TORCH_ON),m.torchButton.classList.add(Ir.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),s.appendChild(this.torchButton)},o.prototype.updateTorchCapability=function(s){this.torchController=new cp(s,this,this.onTorchActionFailureCallback)},o.prototype.getTorchButton=function(){return this.torchButton},o.prototype.hide=function(){this.torchButton.style.display="none"},o.prototype.show=function(){this.torchButton.style.display="inline-block"},o.prototype.disable=function(){this.torchButton.disabled=!0},o.prototype.enable=function(){this.torchButton.disabled=!1},o.prototype.setText=function(s){this.torchButton.innerText=s},o.prototype.reset=function(){this.torchButton.innerText=kt.torchOnButton(),this.torchController.reset()},o.create=function(s,a,d,m){var p=new o(a,m);return p.render(s,d),p},o}(),Vv=function(){function o(s,a,d){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=a?"block":"none",s.appendChild(this.fileBasedScanRegion);var m=document.createElement("label");m.setAttribute("for",this.getFileScanInputId()),m.style.display="inline-block",this.fileBasedScanRegion.appendChild(m),this.fileSelectionButton=ji.createElement("button",Ir.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(E){m.click()}),m.append(this.fileSelectionButton),this.fileScanInput=ji.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",m.appendChild(this.fileScanInput);var p=this;this.fileScanInput.addEventListener("change",function(E){if(!(E==null||E.target==null)){var N=E.target;if(!(N.files&&N.files.length===0)){var w=N.files,A=w[0],I=A.name;p.setImageNameToButton(I),d(A)}}});var v=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(v),this.fileBasedScanRegion.addEventListener("dragenter",function(E){p.fileBasedScanRegion.style.border=p.fileBasedScanRegionActiveBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(E){p.fileBasedScanRegion.style.border=p.fileBasedScanRegionDefaultBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(E){p.fileBasedScanRegion.style.border=p.fileBasedScanRegionActiveBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(E){E.stopPropagation(),E.preventDefault(),p.fileBasedScanRegion.style.border=p.fileBasedScanRegionDefaultBorder();var N=E.dataTransfer;if(N){var w=N.files;if(!w||w.length===0)return;for(var A=!1,I=0;I<w.length;++I){var D=w.item(I);if(D){var B=/image.*/;if(D.type.match(B)){A=!0;var P=D.name;p.setImageNameToButton(P),d(D),v.innerText=kt.dragAndDropMessage();break}}}A||(v.innerText=kt.dragAndDropMessageOnlyImages())}})}return o.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},o.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},o.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},o.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},o.prototype.createFileBasedScanRegion=function(){var s=document.createElement("div");return s.style.textAlign="center",s.style.margin="auto",s.style.width="80%",s.style.maxWidth="600px",s.style.border=this.fileBasedScanRegionDefaultBorder(),s.style.padding="10px",s.style.marginBottom="10px",s},o.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},o.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},o.prototype.createDragAndDropMessage=function(){var s=document.createElement("div");return s.innerText=kt.dragAndDropMessage(),s.style.fontWeight="400",s},o.prototype.setImageNameToButton=function(s){var a=20;if(s.length>a){var d=s.substring(0,8),m=s.length,p=s.substring(m-8,m);s="".concat(d,"....").concat(p)}var v=kt.fileSelectionChooseAnother()+" - "+s;this.fileSelectionButton.innerText=v},o.prototype.setInitialValueToButton=function(){var s=kt.fileSelectionChooseImage()+" - "+kt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=s},o.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},o.create=function(s,a,d){var m=new o(s,a,d);return m},o}(),Gv=function(){function o(s){this.selectElement=ji.createElement("select",Ir.CAMERA_SELECTION_SELECT_ID),this.cameras=s,this.options=[]}return o.prototype.render=function(s){var a=document.createElement("span");a.style.marginRight="10px";var d=this.cameras.length;if(d===0)throw new Error("No cameras found");if(d===1)a.style.display="none";else{var m=kt.selectCamera();a.innerText="".concat(m," (").concat(this.cameras.length,")  ")}for(var p=1,v=0,E=this.cameras;v<E.length;v++){var N=E[v],w=N.id,A=N.label==null?w:N.label;(!A||A==="")&&(A=[kt.anonymousCameraPrefix(),p++].join(" "));var I=document.createElement("option");I.value=w,I.innerText=A,this.options.push(I),this.selectElement.appendChild(I)}a.appendChild(this.selectElement),s.appendChild(a)},o.prototype.disable=function(){this.selectElement.disabled=!0},o.prototype.isDisabled=function(){return this.selectElement.disabled===!0},o.prototype.enable=function(){this.selectElement.disabled=!1},o.prototype.getValue=function(){return this.selectElement.value},o.prototype.hasValue=function(s){for(var a=0,d=this.options;a<d.length;a++){var m=d[a];if(m.value===s)return!0}return!1},o.prototype.setValue=function(s){if(!this.hasValue(s))throw new Error("".concat(s," is not present in the camera list."));this.selectElement.value=s},o.prototype.hasSingleItem=function(){return this.cameras.length===1},o.prototype.numCameras=function(){return this.cameras.length},o.create=function(s,a){var d=new o(a);return d.render(s),d},o}(),qv=function(){function o(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=ji.createElement("input",Ir.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return o.prototype.render=function(s,a){this.zoomElementContainer.style.display=a?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",s.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var d=kt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(d),this.rangeText.style.marginRight="10px";var m=this;this.rangeInput.addEventListener("input",function(){return m.onValueChange()}),this.rangeInput.addEventListener("change",function(){return m.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},o.prototype.onValueChange=function(){var s=kt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(s),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},o.prototype.setValues=function(s,a,d,m){this.rangeInput.min=s.toString(),this.rangeInput.max=a.toString(),this.rangeInput.step=m.toString(),this.rangeInput.value=d.toString(),this.onValueChange()},o.prototype.show=function(){this.zoomElementContainer.style.display="block"},o.prototype.hide=function(){this.zoomElementContainer.style.display="none"},o.prototype.setOnCameraZoomValueChangeCallback=function(s){this.onChangeCallback=s},o.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},o.create=function(s,a){var d=new o;return d.render(s,a),d},o}(),Ar;(function(o){o[o.STATUS_DEFAULT=0]="STATUS_DEFAULT",o[o.STATUS_SUCCESS=1]="STATUS_SUCCESS",o[o.STATUS_WARNING=2]="STATUS_WARNING",o[o.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Ar||(Ar={}));function Yv(o){return{fps:o.fps,qrbox:o.qrbox,aspectRatio:o.aspectRatio,disableFlip:o.disableFlip,videoConstraints:o.videoConstraints}}function Xv(o,s){return{formatsToSupport:o.formatsToSupport,useBarCodeDetectorIfSupported:o.useBarCodeDetectorIfSupported,experimentalFeatures:o.experimentalFeatures,verbose:s}}var $v=function(){function o(s,a,d){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=s,this.config=this.createConfig(a),this.verbose=d===!0,!document.getElementById(s))throw"HTML Element with id=".concat(s," not found");this.scanTypeSelector=new os(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new y1(this.verbose),this.persistedDataManager=new Lv,a.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return o.prototype.render=function(s,a){var d=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(p,v){if(s)s(p,v);else{if(d.lastMatchFound===p)return;d.lastMatchFound=p,d.setHeaderMessage(kt.lastMatch(p),Ar.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(p,v){a&&a(p,v)};var m=document.getElementById(this.elementId);if(!m)throw"HTML Element with id=".concat(this.elementId," not found");m.innerHTML="",this.createBasicLayout(m),this.html5Qrcode=new sp(this.getScanRegionId(),Xv(this.config,this.verbose))},o.prototype.pause=function(s){(hi(s)||s!==!0)&&(s=!1),this.getHtml5QrcodeOrFail().pause(s)},o.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},o.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},o.prototype.clear=function(){var s=this,a=function(){var d=document.getElementById(s.elementId);d&&(d.innerHTML="",s.resetBasicLayout(d))};return this.html5Qrcode?new Promise(function(d,m){if(!s.html5Qrcode){d();return}s.html5Qrcode.isScanning?s.html5Qrcode.stop().then(function(p){if(!s.html5Qrcode){d();return}s.html5Qrcode.clear(),a(),d()}).catch(function(p){s.verbose&&s.logger.logError("Unable to stop qrcode scanner",p),m(p)}):(s.html5Qrcode.clear(),a(),d())}):Promise.resolve()},o.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},o.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},o.prototype.applyVideoConstraints=function(s){return this.getHtml5QrcodeOrFail().applyVideoConstraints(s)},o.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},o.prototype.createConfig=function(s){return s?(s.fps||(s.fps=ei.SCAN_DEFAULT_FPS),s.rememberLastUsedCamera!==!ei.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(s.rememberLastUsedCamera=ei.DEFAULT_REMEMBER_LAST_CAMERA_USED),s.supportedScanTypes||(s.supportedScanTypes=ei.DEFAULT_SUPPORTED_SCAN_TYPE),s):{fps:ei.SCAN_DEFAULT_FPS,rememberLastUsedCamera:ei.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:ei.DEFAULT_SUPPORTED_SCAN_TYPE}},o.prototype.createBasicLayout=function(s){s.style.position="relative",s.style.padding="0px",s.style.border="1px solid silver",this.createHeader(s);var a=document.createElement("div"),d=this.getScanRegionId();a.id=d,a.style.width="100%",a.style.minHeight="100px",a.style.textAlign="center",s.appendChild(a),os.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var m=document.createElement("div"),p=this.getDashboardId();m.id=p,m.style.width="100%",s.appendChild(m),this.setupInitialDashboard(m)},o.prototype.resetBasicLayout=function(s){s.style.border="none"},o.prototype.setupInitialDashboard=function(s){this.createSection(s),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},o.prototype.createHeader=function(s){var a=document.createElement("div");a.style.textAlign="left",a.style.margin="0px",s.appendChild(a);var d=new Uv;d.renderInto(a);var m=document.createElement("div");m.id=this.getHeaderMessageContainerId(),m.style.display="none",m.style.textAlign="center",m.style.fontSize="14px",m.style.padding="2px 10px",m.style.margin="4px",m.style.borderTop="1px solid #f6f6f6",a.appendChild(m)},o.prototype.createSection=function(s){var a=document.createElement("div");a.id=this.getDashboardSectionId(),a.style.width="100%",a.style.padding="10px 0px 10px 0px",a.style.textAlign="left",s.appendChild(a)},o.prototype.createCameraListUi=function(s,a,d){var m=this;m.showHideScanTypeSwapLink(!1),m.setHeaderMessage(kt.cameraPermissionRequesting());var p=function(){d||m.createPermissionButton(s,a)};sp.getCameras().then(function(v){m.persistedDataManager.setHasPermission(!0),m.showHideScanTypeSwapLink(!0),m.resetHeaderMessage(),v&&v.length>0?(s.removeChild(a),m.renderCameraSelection(v)):(m.setHeaderMessage(kt.noCameraFound(),Ar.STATUS_WARNING),p())}).catch(function(v){m.persistedDataManager.setHasPermission(!1),d?d.disabled=!1:p(),m.setHeaderMessage(v,Ar.STATUS_WARNING),m.showHideScanTypeSwapLink(!0)})},o.prototype.createPermissionButton=function(s,a){var d=this,m=ji.createElement("button",this.getCameraPermissionButtonId());m.innerText=kt.cameraPermissionTitle(),m.addEventListener("click",function(){m.disabled=!0,d.createCameraListUi(s,a,m)}),a.appendChild(m)},o.prototype.createPermissionsUi=function(s,a){var d=this;if(os.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){lp.hasPermissions().then(function(m){m?d.createCameraListUi(s,a):(d.persistedDataManager.setHasPermission(!1),d.createPermissionButton(s,a))}).catch(function(m){d.persistedDataManager.setHasPermission(!1),d.createPermissionButton(s,a)});return}this.createPermissionButton(s,a)},o.prototype.createSectionControlPanel=function(){var s=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");s.appendChild(a);var d=document.createElement("div");d.id=this.getDashboardSectionCameraScanRegionId(),d.style.display=os.isCameraScanType(this.currentScanType)?"block":"none",a.appendChild(d);var m=document.createElement("div");m.style.textAlign="center",d.appendChild(m),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(d,m),this.renderFileScanUi(a)},o.prototype.renderFileScanUi=function(s){var a=os.isFileScanType(this.currentScanType),d=this,m=function(p){if(!d.html5Qrcode)throw"html5Qrcode not defined";os.isFileScanType(d.currentScanType)&&(d.setHeaderMessage(kt.loadingImage()),d.html5Qrcode.scanFileV2(p,!0).then(function(v){d.resetHeaderMessage(),d.qrCodeSuccessCallback(v.decodedText,v)}).catch(function(v){d.setHeaderMessage(v,Ar.STATUS_WARNING),d.qrCodeErrorCallback(v,x1.createFrom(v))}))};this.fileSelectionUi=Vv.create(s,a,m)},o.prototype.renderCameraSelection=function(s){var a=this,d=this,m=document.getElementById(this.getDashboardSectionCameraScanRegionId());m.style.textAlign="center";var p=qv.create(m,!1),v=function(R){var F=R.zoomFeature();if(F.isSupported()){p.setOnCameraZoomValueChangeCallback(function(K){F.apply(K)});var J=1;a.config.defaultZoomValueIfSupported&&(J=a.config.defaultZoomValueIfSupported),J=dv(J,F.min(),F.max()),p.setValues(F.min(),F.max(),J,F.step()),p.show()}},E=Gv.create(m,s),N=document.createElement("span"),w=ji.createElement("button",Ir.CAMERA_START_BUTTON_ID);w.innerText=kt.scanButtonStartScanningText(),N.appendChild(w);var A=ji.createElement("button",Ir.CAMERA_STOP_BUTTON_ID);A.innerText=kt.scanButtonStopScanningText(),A.style.display="none",A.disabled=!0,N.appendChild(A);var I,D=function(R){if(!R.torchFeature().isSupported()){I&&I.hide();return}I?I.updateTorchCapability(R.torchFeature()):I=Wv.create(N,R.torchFeature(),{display:"none",marginLeft:"5px"},function(F){d.setHeaderMessage(F,Ar.STATUS_WARNING)}),I.show()};m.appendChild(N);var B=function(R){R||(w.style.display="none"),w.innerText=kt.scanButtonStartScanningText(),w.style.opacity="1",w.disabled=!1,R&&(w.style.display="inline-block")};if(w.addEventListener("click",function(R){w.innerText=kt.scanButtonScanningStarting(),E.disable(),w.disabled=!0,w.style.opacity="0.5",a.scanTypeSelector.hasMoreThanOneScanType()&&d.showHideScanTypeSwapLink(!1),d.resetHeaderMessage();var F=E.getValue();d.persistedDataManager.setLastUsedCameraId(F),d.html5Qrcode.start(F,Yv(d.config),d.qrCodeSuccessCallback,d.qrCodeErrorCallback).then(function(J){A.disabled=!1,A.style.display="inline-block",B(!1);var K=d.html5Qrcode.getRunningTrackCameraCapabilities();a.config.showTorchButtonIfSupported===!0&&D(K),a.config.showZoomSliderIfSupported===!0&&v(K)}).catch(function(J){d.showHideScanTypeSwapLink(!0),E.enable(),B(!0),d.setHeaderMessage(J,Ar.STATUS_WARNING)})}),E.hasSingleItem()&&w.click(),A.addEventListener("click",function(R){if(!d.html5Qrcode)throw"html5Qrcode not defined";A.disabled=!0,d.html5Qrcode.stop().then(function(F){a.scanTypeSelector.hasMoreThanOneScanType()&&d.showHideScanTypeSwapLink(!0),E.enable(),w.disabled=!1,A.style.display="none",w.style.display="inline-block",I&&(I.reset(),I.hide()),p.removeOnCameraZoomValueChangeCallback(),p.hide(),d.insertCameraScanImageToScanRegion()}).catch(function(F){A.disabled=!1,d.setHeaderMessage(F,Ar.STATUS_WARNING)})}),d.persistedDataManager.getLastUsedCameraId()){var P=d.persistedDataManager.getLastUsedCameraId();E.hasValue(P)?(E.setValue(P),w.click()):d.persistedDataManager.resetLastUsedCameraId()}},o.prototype.createSectionSwap=function(){var s=this,a=kt.textIfCameraScanSelected(),d=kt.textIfFileScanSelected(),m=document.getElementById(this.getDashboardSectionId()),p=document.createElement("div");p.style.textAlign="center";var v=ji.createElement("span",this.getDashboardSectionSwapLinkId());v.style.textDecoration="underline",v.style.cursor="pointer",v.innerText=os.isCameraScanType(this.currentScanType)?a:d,v.addEventListener("click",function(){if(!s.sectionSwapAllowed){s.verbose&&s.logger.logError("Section swap called when not allowed");return}s.resetHeaderMessage(),s.fileSelectionUi.resetValue(),s.sectionSwapAllowed=!1,os.isCameraScanType(s.currentScanType)?(s.clearScanRegion(),s.getCameraScanRegion().style.display="none",s.fileSelectionUi.show(),v.innerText=d,s.currentScanType=ps.SCAN_TYPE_FILE,s.insertFileScanImageToScanRegion()):(s.clearScanRegion(),s.getCameraScanRegion().style.display="block",s.fileSelectionUi.hide(),v.innerText=a,s.currentScanType=ps.SCAN_TYPE_CAMERA,s.insertCameraScanImageToScanRegion(),s.startCameraScanIfPermissionExistsOnSwap()),s.sectionSwapAllowed=!0}),p.appendChild(v),m.appendChild(p)},o.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var s=this,a=this;if(this.persistedDataManager.hasCameraPermissions()){lp.hasPermissions().then(function(d){if(d){var m=document.getElementById(a.getCameraPermissionButtonId());if(!m)throw s.logger.logError("Permission button not found, fail;"),"Permission button not found";m.click()}else a.persistedDataManager.setHasPermission(!1)}).catch(function(d){a.persistedDataManager.setHasPermission(!1)});return}},o.prototype.resetHeaderMessage=function(){var s=document.getElementById(this.getHeaderMessageContainerId());s.style.display="none"},o.prototype.setHeaderMessage=function(s,a){a||(a=Ar.STATUS_DEFAULT);var d=this.getHeaderMessageDiv();switch(d.innerText=s,d.style.display="block",a){case Ar.STATUS_SUCCESS:d.style.background="rgba(106, 175, 80, 0.26)",d.style.color="#477735";break;case Ar.STATUS_WARNING:d.style.background="rgba(203, 36, 49, 0.14)",d.style.color="#cb2431";break;case Ar.STATUS_DEFAULT:default:d.style.background="rgba(0, 0, 0, 0)",d.style.color="rgb(17, 17, 17)";break}},o.prototype.showHideScanTypeSwapLink=function(s){this.scanTypeSelector.hasMoreThanOneScanType()&&(s!==!0&&(s=!1),this.sectionSwapAllowed=s,this.getDashboardSectionSwapLink().style.display=s?"inline-block":"none")},o.prototype.insertCameraScanImageToScanRegion=function(){var s=this,a=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){a.innerHTML="<br>",a.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(d){a.innerHTML="<br>",a.appendChild(s.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Mv,this.cameraScanImage.alt=kt.cameraScanAltText()},o.prototype.insertFileScanImageToScanRegion=function(){var s=this,a=document.getElementById(this.getScanRegionId());if(this.fileScanImage){a.innerHTML="<br>",a.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(d){a.innerHTML="<br>",a.appendChild(s.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Rv,this.fileScanImage.alt=kt.fileScanAltText()},o.prototype.clearScanRegion=function(){var s=document.getElementById(this.getScanRegionId());s.innerHTML=""},o.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},o.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},o.prototype.getDashboardSectionSwapLinkId=function(){return Ir.SCAN_TYPE_CHANGE_ANCHOR_ID},o.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},o.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},o.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},o.prototype.getCameraPermissionButtonId=function(){return Ir.CAMERA_PERMISSION_BUTTON_ID},o.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},o.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},o.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},o}(),Cc={exports:{}},Kv=Cc.exports,up;function Qv(){return up||(up=1,function(o,s){(function(d,m){o.exports=m(Rc())})(Kv,function(a){return function(d){var m={};function p(v){if(m[v])return m[v].exports;var E=m[v]={i:v,l:!1,exports:{}};return d[v].call(E.exports,E,E.exports,p),E.l=!0,E.exports}return p.m=d,p.c=m,p.d=function(v,E,N){p.o(v,E)||Object.defineProperty(v,E,{enumerable:!0,get:N})},p.r=function(v){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})},p.t=function(v,E){if(E&1&&(v=p(v)),E&8||E&4&&typeof v=="object"&&v&&v.__esModule)return v;var N=Object.create(null);if(p.r(N),Object.defineProperty(N,"default",{enumerable:!0,value:v}),E&2&&typeof v!="string")for(var w in v)p.d(N,w,(function(A){return v[A]}).bind(null,w));return N},p.n=function(v){var E=v&&v.__esModule?function(){return v.default}:function(){return v};return p.d(E,"a",E),E},p.o=function(v,E){return Object.prototype.hasOwnProperty.call(v,E)},p.p="",p(p.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(d,m,p){p.r(m);var v=p("react"),E=function(){var D=function(B,P){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,F){R.__proto__=F}||function(R,F){for(var J in F)F.hasOwnProperty(J)&&(R[J]=F[J])},D(B,P)};return function(B,P){D(B,P);function R(){this.constructor=B}B.prototype=P===null?Object.create(P):(R.prototype=P.prototype,new R)}}(),N=function(){return N=Object.assign||function(D){for(var B,P=1,R=arguments.length;P<R;P++){B=arguments[P];for(var F in B)Object.prototype.hasOwnProperty.call(B,F)&&(D[F]=B[F])}return D},N.apply(this,arguments)},w=function(D,B){var P={};for(var R in D)Object.prototype.hasOwnProperty.call(D,R)&&B.indexOf(R)<0&&(P[R]=D[R]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function")for(var F=0,R=Object.getOwnPropertySymbols(D);F<R.length;F++)B.indexOf(R[F])<0&&Object.prototype.propertyIsEnumerable.call(D,R[F])&&(P[R[F]]=D[R[F]]);return P};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(B){var P=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return P?new Promise(function(R,F){P.call(navigator,B,R,F)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function A(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var I=function(D){E(B,D);function B(P){var R=D.call(this,P)||this;return R.canvas=null,R.ctx=null,R.requestUserMediaId=0,R.unmounted=!1,R.state={hasUserMedia:!1},R}return B.prototype.componentDidMount=function(){var P=this,R=P.state,F=P.props;if(this.unmounted=!1,!A()){F.onUserMediaError("getUserMedia not supported");return}R.hasUserMedia||this.requestUserMedia(),F.children&&typeof F.children!="function"&&console.warn("children must be a function")},B.prototype.componentDidUpdate=function(P){var R=this.props;if(!A()){R.onUserMediaError("getUserMedia not supported");return}var F=JSON.stringify(P.audioConstraints)!==JSON.stringify(R.audioConstraints),J=JSON.stringify(P.videoConstraints)!==JSON.stringify(R.videoConstraints),K=P.minScreenshotWidth!==R.minScreenshotWidth,V=P.minScreenshotHeight!==R.minScreenshotHeight;(J||K||V)&&(this.canvas=null,this.ctx=null),(F||J)&&(this.stopAndCleanup(),this.requestUserMedia())},B.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},B.stopMediaStream=function(P){P&&(P.getVideoTracks&&P.getAudioTracks?(P.getVideoTracks().map(function(R){P.removeTrack(R),R.stop()}),P.getAudioTracks().map(function(R){P.removeTrack(R),R.stop()})):P.stop())},B.prototype.stopAndCleanup=function(){var P=this.state;P.hasUserMedia&&(B.stopMediaStream(this.stream),P.src&&window.URL.revokeObjectURL(P.src))},B.prototype.getScreenshot=function(P){var R=this,F=R.state,J=R.props;if(!F.hasUserMedia)return null;var K=this.getCanvas(P);return K&&K.toDataURL(J.screenshotFormat,J.screenshotQuality)},B.prototype.getCanvas=function(P){var R=this,F=R.state,J=R.props;if(!this.video||!F.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var K=this.video.videoWidth,V=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var ie=K/V;K=J.minScreenshotWidth||this.video.clientWidth,V=K/ie,J.minScreenshotHeight&&V<J.minScreenshotHeight&&(V=J.minScreenshotHeight,K=V*ie)}this.canvas=document.createElement("canvas"),this.canvas.width=(P==null?void 0:P.width)||K,this.canvas.height=(P==null?void 0:P.height)||V,this.ctx=this.canvas.getContext("2d")}var ge=this,de=ge.ctx,H=ge.canvas;return de&&H&&(H.width=(P==null?void 0:P.width)||H.width,H.height=(P==null?void 0:P.height)||H.height,J.mirrored&&(de.translate(H.width,0),de.scale(-1,1)),de.imageSmoothingEnabled=J.imageSmoothing,de.drawImage(this.video,0,0,(P==null?void 0:P.width)||H.width,(P==null?void 0:P.height)||H.height),J.mirrored&&(de.scale(-1,1),de.translate(-H.width,0))),H},B.prototype.requestUserMedia=function(){var P=this,R=this.props,F=function(V,ie){var ge={video:typeof ie<"u"?ie:!0};R.audio&&(ge.audio=typeof V<"u"?V:!0),P.requestUserMediaId++;var de=P.requestUserMediaId;navigator.mediaDevices.getUserMedia(ge).then(function(H){P.unmounted||de!==P.requestUserMediaId?B.stopMediaStream(H):P.handleUserMedia(null,H)}).catch(function(H){P.handleUserMedia(H)})};if("mediaDevices"in navigator)F(R.audioConstraints,R.videoConstraints);else{var J=function(V){return{optional:[{sourceId:V}]}},K=function(V){var ie=V.deviceId;return typeof ie=="string"?ie:Array.isArray(ie)&&ie.length>0?ie[0]:typeof ie=="object"&&ie.ideal?ie.ideal:null};MediaStreamTrack.getSources(function(V){var ie=null,ge=null;V.forEach(function(W){W.kind==="audio"?ie=W.id:W.kind==="video"&&(ge=W.id)});var de=K(R.audioConstraints);de&&(ie=de);var H=K(R.videoConstraints);H&&(ge=H),F(J(ie),J(ge))})}},B.prototype.handleUserMedia=function(P,R){var F=this.props;if(P||!R){this.setState({hasUserMedia:!1}),F.onUserMediaError(P);return}this.stream=R;try{this.video&&(this.video.srcObject=R),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(R)})}F.onUserMedia(R)},B.prototype.render=function(){var P=this,R=this,F=R.state,J=R.props,K=J.audio;J.forceScreenshotSourceSize;var V=J.disablePictureInPicture;J.onUserMedia,J.onUserMediaError,J.screenshotFormat,J.screenshotQuality,J.minScreenshotWidth,J.minScreenshotHeight,J.audioConstraints,J.videoConstraints,J.imageSmoothing;var ie=J.mirrored,ge=J.style,de=ge===void 0?{}:ge,H=J.children,W=w(J,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),$=ie?N(N({},de),{transform:(de.transform||"")+" scaleX(-1)"}):de,Se={getScreenshot:this.getScreenshot.bind(this)};return v.createElement(v.Fragment,null,v.createElement("video",N({autoPlay:!0,disablePictureInPicture:V,src:F.src,muted:!K,playsInline:!0,ref:function(ke){P.video=ke},style:$},W)),H&&H(Se))},B.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},B}(v.Component);m.default=I},react:function(d,m){d.exports=a}}).default})}(Cc)),Cc.exports}var Zv=Qv();const Jv=Ya(Zv);function ew({onPhotoCapture:o,onCancel:s,title:a,captionPlaceholder:d="Add a caption..."}){const[m,p]=z.useState(null),[v,E]=z.useState(""),[N,w]=z.useState(!1),[A,I]=z.useState("environment"),D=z.useRef(null),B=z.useRef(null),P=()=>{var ie;const V=(ie=D.current)==null?void 0:ie.getScreenshot();V?p(V):Pe.error("Failed to capture photo")},R=V=>{var ge;const ie=(ge=V.target.files)==null?void 0:ge[0];if(ie){if(ie.size>10*1024*1024){Pe.error("Photo size must be less than 10MB");return}if(!ie.type.startsWith("image/")){Pe.error("Please select an image file");return}const de=new FileReader;de.onload=H=>{var W;p((W=H.target)==null?void 0:W.result)},de.readAsDataURL(ie)}},F=async()=>{if(!m){Pe.error("No photo to save");return}w(!0);try{await o(m,v),p(null),E("")}catch{}finally{w(!1)}},J=()=>{p(null),E("")},K=()=>{I(V=>V==="user"?"environment":"user")};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a}),c.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:c.jsx(Qa,{className:"h-6 w-6"})})]}),c.jsx("div",{className:"p-4",children:m?c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden",children:c.jsx("img",{src:m,alt:"Captured",className:"w-full h-full object-cover"})}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"caption",className:"block text-sm font-medium text-gray-700 mb-1",children:"Caption (Optional)"}),c.jsx("input",{type:"text",id:"caption",value:v,onChange:V=>E(V.target.value),placeholder:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsxs("button",{onClick:J,className:"flex-1 flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:[c.jsx(Xo,{className:"h-4 w-4 mr-2"}),"Retake"]}),c.jsxs("button",{onClick:F,disabled:N,className:"flex-1 flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-400 transition-colors",children:[N?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}):c.jsx(Fc,{className:"h-4 w-4 mr-2"}),N?"Saving...":"Save Photo"]})]})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden",children:c.jsx(Jv,{ref:D,audio:!1,screenshotFormat:"image/jpeg",videoConstraints:{facingMode:A,width:400,height:400},className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"flex justify-center space-x-4",children:[c.jsxs("button",{onClick:K,className:"flex items-center px-3 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:[c.jsx(X2,{className:"h-4 w-4 mr-2"}),"Switch"]}),c.jsxs("button",{onClick:P,className:"flex items-center px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[c.jsx(Xo,{className:"h-4 w-4 mr-2"}),"Capture"]})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-300"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),c.jsxs("button",{onClick:()=>{var V;return(V=B.current)==null?void 0:V.click()},className:"mt-3 flex items-center justify-center w-full px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:[c.jsx(bc,{className:"h-4 w-4 mr-2"}),"Upload from Gallery"]}),c.jsx("input",{ref:B,type:"file",accept:"image/*",onChange:R,className:"hidden"})]})]})})]})})}function tw(){const{user:o}=fi(),[s,a]=z.useState(!1),[d,m]=z.useState(!1),[p,v]=z.useState(""),[E,N]=z.useState("received"),[w,A]=z.useState(""),[I,D]=z.useState(!1),[B,P]=z.useState(null),[R,F]=z.useState(!1),[J,K]=z.useState(""),V=z.useRef(null),ie=z.useRef(null),ge=[{value:"received",label:"Package Received",color:"blue"},{value:"processing",label:"Processing",color:"yellow"},{value:"shipped",label:"Shipped",color:"indigo"},{value:"delivered",label:"Delivered",color:"green"}];z.useEffect(()=>()=>{V.current&&V.current.clear()},[]);const de=()=>{if(!ie.current)return;a(!0),m(!1);const ce={fps:10,qrbox:{width:250,height:250},rememberLastUsedCamera:!0};V.current=new $v("qr-scanner",ce,!1),V.current.render(_e=>{W(_e),H()},_e=>{})},H=()=>{V.current&&(V.current.clear(),V.current=null),a(!1)},W=async ce=>{if(!ce.trim()){Pe.error("No barcode detected");return}await Se(ce.trim())},$=async ce=>{if(ce.preventDefault(),!p.trim()){Pe.error("Please enter a tracking number");return}await Se(p.trim())},Se=async ce=>{if(!(o!=null&&o.email)){Pe.error("User not authenticated");return}if(E==="received"&&confirm("Would you like to take a photo of the package?")){K(ce),F(!0);return}await ke(ce)},ke=async ce=>{D(!0);try{const{data:_e,error:ee}=await ot.functions.invoke("update-tracking-status",{body:{tracking_number:ce,new_status:E,notes:w.trim()||void 0,staff_email:o.email,location:"Chrisdan Enterprises - Jamaica, NY",device_info:"Web Scanner"}});if(ee)throw ee;if(_e!=null&&_e.error)throw new Error(_e.error.message);const Ze={tracking_number:ce,success:!0,message:`Successfully updated status to ${E}`};P(Ze),v(""),A(""),Pe.success(`Package ${ce} status updated to ${E}`)}catch(_e){console.error("Update error:",_e);const ee={tracking_number:ce,success:!1,message:_e.message||"Failed to update tracking status"};P(ee),Pe.error(_e.message||"Failed to update tracking status")}finally{D(!1)}},he=async(ce,_e)=>{try{const{data:ee,error:Ze}=await ot.functions.invoke("upload-package-photo",{body:{photoData:ce,trackingNumber:J,photoType:"received",caption:_e||"Package received",staffEmail:o==null?void 0:o.email}});if(Ze)throw Ze;Pe.success("Photo uploaded successfully!"),await ke(J),F(!1),K("")}catch(ee){throw console.error("Error uploading photo:",ee),Pe.error(ee.message||"Failed to upload photo"),ee}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-center space-x-4",children:[c.jsxs("button",{onClick:()=>{s&&H(),m(!1)},className:`flex items-center space-x-2 px-6 py-3 rounded-lg font-medium transition-colors ${!d&&!s?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c.jsx(Xo,{className:"h-5 w-5"}),c.jsx("span",{children:"Camera Scanner"})]}),c.jsxs("button",{onClick:()=>{s&&H(),m(!0)},className:`flex items-center space-x-2 px-6 py-3 rounded-lg font-medium transition-colors ${d?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c.jsx(Y0,{className:"h-5 w-5"}),c.jsx("span",{children:"Manual Entry"})]})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Update Status To:"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:ge.map(ce=>c.jsx("button",{onClick:()=>N(ce.value),className:`p-3 rounded-lg border-2 transition-all ${E===ce.value?`border-${ce.color}-500 bg-${ce.color}-50 text-${ce.color}-700`:"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}`,children:c.jsx("div",{className:"text-sm font-medium",children:ce.label})},ce.value))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),c.jsx("textarea",{id:"notes",value:w,onChange:ce=>A(ce.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Add any additional notes about this status update..."})]}),!d&&c.jsx("div",{className:"bg-white border-2 border-dashed border-gray-300 rounded-lg p-8",children:s?c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Scanning..."}),c.jsxs("button",{onClick:H,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2",children:[c.jsx(M2,{className:"h-4 w-4"}),c.jsx("span",{children:"Stop"})]})]}),c.jsx("div",{id:"qr-scanner",ref:ie,className:"w-full"})]}):c.jsxs("div",{className:"text-center",children:[c.jsx(Xo,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Camera Scanner"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Click start to begin scanning barcodes with your camera"}),c.jsxs("button",{onClick:de,disabled:I,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center space-x-2 mx-auto",children:[c.jsx(Xo,{className:"h-5 w-5"}),c.jsx("span",{children:"Start Camera"})]})]})}),d&&c.jsxs("div",{className:"bg-white border-2 border-dashed border-gray-300 rounded-lg p-8",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx(Y0,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Manual Entry"}),c.jsx("p",{className:"text-gray-600",children:"Enter the tracking number manually"})]}),c.jsxs("form",{onSubmit:$,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"manual-input",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tracking Number"}),c.jsx("input",{type:"text",id:"manual-input",value:p,onChange:ce=>v(ce.target.value),placeholder:"Enter tracking number (e.g., CD123456789)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg",disabled:I})]}),c.jsxs("button",{type:"submit",disabled:I||!p.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white py-3 px-6 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2",children:[I?c.jsx(sn,{size:"sm",className:"text-white"}):c.jsx(un,{className:"h-5 w-5"}),c.jsx("span",{children:I?"Updating...":"Update Status"})]})]})]}),B&&c.jsx("div",{className:`p-4 rounded-lg border ${B.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:c.jsxs("div",{className:"flex items-start space-x-3",children:[B.success?c.jsx(_r,{className:"h-6 w-6 text-green-600 mt-0.5"}):c.jsx(th,{className:"h-6 w-6 text-red-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:`font-medium ${B.success?"text-green-900":"text-red-900"}`,children:B.success?"Status Updated Successfully":"Update Failed"}),c.jsxs("p",{className:`text-sm mt-1 ${B.success?"text-green-700":"text-red-700"}`,children:[c.jsx("strong",{children:"Tracking:"})," ",B.tracking_number]}),c.jsx("p",{className:`text-sm ${B.success?"text-green-700":"text-red-700"}`,children:B.message})]})]})}),c.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[c.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Scanner Instructions"}),c.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[c.jsx("li",{children:"• Use camera scanner for quick barcode scanning"}),c.jsx("li",{children:"• Use manual entry if barcode is damaged or camera isn't available"}),c.jsx("li",{children:"• Select the appropriate status before scanning"}),c.jsx("li",{children:"• Add notes for additional context if needed"}),c.jsx("li",{children:"• Photo capture available for 'received' status updates"})]})]}),R&&c.jsx(ew,{title:"Package Received - Take Photo",captionPlaceholder:"Package condition, size, etc...",onPhotoCapture:he,onCancel:()=>{F(!1),K("")}})]})}function nw({stats:o,recentShipments:s,loading:a}){return a?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(sn,{size:"lg"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(un,{className:"h-8 w-8 text-blue-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Shipments"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.total})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Xn,{className:"h-8 w-8 text-yellow-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Processing"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.processing||0})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(il,{className:"h-8 w-8 text-blue-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Shipped"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.shipped||0})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(_r,{className:"h-8 w-8 text-green-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Delivered"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.delivered||0})]})]})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Shipments"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tracking Number"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Destination"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(d=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:d.tracking_number}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d.customer_name}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d.destination_country}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${d.status==="delivered"?"bg-green-100 text-green-800":d.status==="shipped"?"bg-blue-100 text-blue-800":d.status==="processing"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:d.status})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(d.created_at).toLocaleDateString()})]},d.id))})]})})]})]})}function rw({shipments:o,loading:s,onRefresh:a}){const[d,m]=z.useState(""),[p,v]=z.useState("all"),E=o.filter(N=>{const w=N.tracking_number.toLowerCase().includes(d.toLowerCase())||N.customer_name.toLowerCase().includes(d.toLowerCase())||N.customer_email.toLowerCase().includes(d.toLowerCase()),A=p==="all"||N.status===p;return w&&A});return s?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(sn,{size:"lg"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Shipments Management"}),c.jsx("button",{onClick:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh"})]}),c.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(ti,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search by tracking number, customer name, or email...",value:d,onChange:N=>m(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("select",{value:p,onChange:N=>v(N.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"received",children:"Received"}),c.jsx("option",{value:"processing",children:"Processing"}),c.jsx("option",{value:"shipped",children:"Shipped"}),c.jsx("option",{value:"delivered",children:"Delivered"})]})]})]}),c.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tracking Number"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Destination"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Package Type"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(N=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:N.tracking_number}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.customer_name}),c.jsx("div",{className:"text-sm text-gray-500",children:N.customer_email})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.destination_country}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.package_type}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${N.status==="delivered"?"bg-green-100 text-green-800":N.status==="shipped"?"bg-blue-100 text-blue-800":N.status==="processing"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:N.status})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(N.created_at).toLocaleDateString()})]},N.id))})]})})})]})}function iw(){const{user:o,signOut:s,isStaff:a}=fi(),d=zr(),m=Zs(),[p,v]=z.useState("overview"),[E,N]=z.useState(!0),[w,A]=z.useState([]),[I,D]=z.useState({total:0,pending:0,received:0,processing:0,shipped:0,delivered:0});z.useEffect(()=>{const F=d.pathname.split("/").pop();F&&["overview","shipments","scanner","analytics"].includes(F)?v(F):v("overview")},[d.pathname]);const B=async()=>{try{N(!0);const{data:F,error:J}=await ot.functions.invoke("get-staff-shipments",{body:{status_filter:"all",search_term:"",limit:100,offset:0}});if(J)throw J;F!=null&&F.data&&(A(F.data.shipments||[]),D(F.data.stats||I))}catch(F){console.error("Error loading shipments:",F),Pe.error("Failed to load shipments")}finally{N(!1)}};z.useEffect(()=>{a&&B()},[a]);const P=[{id:"overview",name:"Overview",icon:O2,href:"/staff/dashboard"},{id:"shipments",name:"Shipments",icon:un,href:"/staff/dashboard/shipments"},{id:"scanner",name:"Barcode Scanner",icon:Q2,href:"/staff/dashboard/scanner"}],R=async()=>{try{await s(),m("/staff/login")}catch(F){console.error("Sign out error:",F)}};return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("div",{className:"bg-white shadow-sm border-b",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(un,{className:"h-8 w-8 text-blue-600"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Staff Dashboard"}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Welcome back, ",o==null?void 0:o.email]})]})]}),c.jsxs("button",{onClick:R,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors",children:[c.jsx(W2,{className:"h-4 w-4"}),c.jsx("span",{children:"Sign Out"})]})]})})}),c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"flex flex-col lg:flex-row space-y-8 lg:space-y-0 lg:space-x-8",children:[c.jsx("div",{className:"lg:w-64",children:c.jsx("nav",{className:"bg-white rounded-lg shadow p-4",children:c.jsx("ul",{className:"space-y-2",children:P.map(F=>{const J=F.icon;return c.jsx("li",{children:c.jsxs(Ke,{to:F.href,className:`flex items-center space-x-3 px-3 py-2 rounded-md text-sm font-medium transition-colors ${p===F.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[c.jsx(J,{className:"h-5 w-5"}),c.jsx("span",{children:F.name})]})},F.id)})})})}),c.jsx("div",{className:"flex-1",children:c.jsxs($d,{children:[c.jsx(rn,{path:"/",element:c.jsx(nw,{stats:I,recentShipments:w.slice(0,10),loading:E})}),c.jsx(rn,{path:"/shipments",element:c.jsx(rw,{shipments:w,loading:E,onRefresh:B})}),c.jsx(rn,{path:"/scanner",element:c.jsx(tw,{})})]})})]})})]})}function sw(){const{signIn:o,user:s,isCustomer:a,customerLoading:d}=fi(),m=Zs(),p=zr(),[v,E]=z.useState(!1),[N,w]=z.useState(!1),[A,I]=z.useState({email:"",password:""});z.useEffect(()=>{var P,R;if(s&&!d){const F=((R=(P=p.state)==null?void 0:P.from)==null?void 0:R.pathname)||"/customer/dashboard";a?(console.log("Customer authenticated, redirecting to dashboard..."),m(F,{replace:!0})):(console.log("User authenticated but no customer account, redirecting to settings..."),m("/customer/dashboard/settings",{replace:!0}))}},[s,a,d,m,p.state]);const D=async P=>{if(P.preventDefault(),!A.email||!A.password){Pe.error("Please fill in all fields");return}E(!0);try{(await o(A.email,A.password)).success}catch(R){console.error("Login error:",R),Pe.error(R.message||"Failed to sign in")}finally{E(!1)}},B=P=>{I(R=>({...R,[P.target.name]:P.target.value}))};return c.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto h-12 w-12 bg-blue-600 rounded-lg flex items-center justify-center",children:c.jsx(H2,{className:"h-6 w-6 text-white"})}),c.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Customer Portal"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to track packages and manage your shipping"})]})}),c.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:c.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[c.jsxs("form",{className:"space-y-6",onSubmit:D,children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:A.email,onChange:B,className:"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your email",disabled:v}),c.jsx(Oi,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("input",{id:"password",name:"password",type:N?"text":"password",autoComplete:"current-password",required:!0,value:A.password,onChange:B,className:"appearance-none block w-full px-3 py-2 pl-10 pr-12 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your password",disabled:v}),c.jsx(Zo,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),c.jsx("button",{type:"button",onClick:()=>w(!N),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",disabled:v,children:N?c.jsx(_c,{className:"h-4 w-4"}):c.jsx(Va,{className:"h-4 w-4"})})]})]}),c.jsx("div",{className:"flex items-center justify-between",children:c.jsx("div",{className:"text-sm",children:c.jsx(Ke,{to:"/customer/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:v,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:v?c.jsx(sn,{size:"sm",className:"text-white"}):"Sign in"})}),c.jsx("div",{className:"text-center",children:c.jsxs("span",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",c.jsxs(Ke,{to:"/customer/register",className:"font-medium text-blue-600 hover:text-blue-500",children:[c.jsx(Tc,{className:"inline h-4 w-4 mr-1"}),"Create account"]})]})})]}),c.jsxs("div",{className:"mt-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-300"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Continue as guest"})})]}),c.jsx("div",{className:"mt-3",children:c.jsx(Ke,{to:"/tracking",className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Track Package Without Account"})})]})]})})]})}function aw(){const{signUp:o,user:s,isCustomer:a,customerLoading:d}=fi(),m=Zs(),p=zr(),[v,E]=z.useState(!1),[N,w]=z.useState(!1),[A,I]=z.useState(!1),[D,B]=z.useState({fullName:"",email:"",phone:"",password:"",confirmPassword:""}),[P,R]=z.useState({score:0,hasMinLength:!1,hasUpperCase:!1,hasLowerCase:!1,hasNumber:!1,hasSpecialChar:!1});z.useEffect(()=>{var ie,ge;if(s&&!d){const de=((ge=(ie=p.state)==null?void 0:ie.from)==null?void 0:ge.pathname)||"/customer/dashboard";a?(console.log("Customer already registered, redirecting to dashboard..."),m(de,{replace:!0})):(console.log("User authenticated but needs customer profile, redirecting to settings..."),m("/customer/dashboard/settings",{replace:!0}))}},[s,a,d,m,p.state]),z.useEffect(()=>{const ie=D.password,ge={score:0,hasMinLength:ie.length>=8,hasUpperCase:/[A-Z]/.test(ie),hasLowerCase:/[a-z]/.test(ie),hasNumber:/\d/.test(ie),hasSpecialChar:/[!@#$%^&*(),.?":{}|<>]/.test(ie)};ge.score=Object.values(ge).filter(Boolean).length-1,R(ge)},[D.password]);const F=async ie=>{if(ie.preventDefault(),!D.fullName||!D.email||!D.password){Pe.error("Please fill in all required fields");return}if(D.password!==D.confirmPassword){Pe.error("Passwords do not match");return}if(P.score<3){Pe.error("Please choose a stronger password");return}E(!0);try{(await o(D.email,D.password,{fullName:D.fullName,phone:D.phone})).success}catch(ge){console.error("Registration error:",ge),Pe.error(ge.message||"Failed to create account")}finally{E(!1)}},J=ie=>{B(ge=>({...ge,[ie.target.name]:ie.target.value}))},K=()=>P.score===0?"bg-gray-200":P.score<=2?"bg-red-500":P.score<=4?"bg-yellow-500":"bg-green-500",V=()=>P.score===0?"Very weak":P.score<=2?"Weak":P.score<=4?"Medium":"Strong";return c.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto h-12 w-12 bg-blue-600 rounded-lg flex items-center justify-center",children:c.jsx(Tc,{className:"h-6 w-6 text-white"})}),c.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Create Customer Account"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Join Chrisdan Enterprises to track and manage your shipments"})]})}),c.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:c.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:c.jsxs("form",{className:"space-y-6",onSubmit:F,children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Full Name *"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("input",{id:"fullName",name:"fullName",type:"text",autoComplete:"name",required:!0,value:D.fullName,onChange:J,className:"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your full name",disabled:v}),c.jsx(rh,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address *"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:D.email,onChange:J,className:"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your email",disabled:v}),c.jsx(Oi,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",value:D.phone,onChange:J,className:"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"(xxx) xxx-xxxx",disabled:v}),c.jsx(Di,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password *"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("input",{id:"password",name:"password",type:N?"text":"password",autoComplete:"new-password",required:!0,value:D.password,onChange:J,className:"appearance-none block w-full px-3 py-2 pl-10 pr-12 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Create a password",disabled:v}),c.jsx(Zo,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),c.jsx("button",{type:"button",onClick:()=>w(!N),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",disabled:v,children:N?c.jsx(_c,{className:"h-4 w-4"}):c.jsx(Va,{className:"h-4 w-4"})})]}),D.password&&c.jsxs("div",{className:"mt-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{className:"text-gray-600",children:"Password strength:"}),c.jsx("span",{className:`font-medium ${K()==="bg-green-500"?"text-green-600":K()==="bg-yellow-500"?"text-yellow-600":"text-red-600"}`,children:V()})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:c.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${K()}`,style:{width:`${P.score/5*100}%`}})}),c.jsxs("div",{className:"mt-2 space-y-1",children:[c.jsxs("div",{className:`flex items-center text-xs ${P.hasMinLength?"text-green-600":"text-gray-500"}`,children:[P.hasMinLength?c.jsx(_r,{className:"h-3 w-3 mr-1"}):c.jsx(Ho,{className:"h-3 w-3 mr-1"}),"At least 8 characters"]}),c.jsxs("div",{className:`flex items-center text-xs ${P.hasUpperCase?"text-green-600":"text-gray-500"}`,children:[P.hasUpperCase?c.jsx(_r,{className:"h-3 w-3 mr-1"}):c.jsx(Ho,{className:"h-3 w-3 mr-1"}),"Uppercase letter"]}),c.jsxs("div",{className:`flex items-center text-xs ${P.hasLowerCase?"text-green-600":"text-gray-500"}`,children:[P.hasLowerCase?c.jsx(_r,{className:"h-3 w-3 mr-1"}):c.jsx(Ho,{className:"h-3 w-3 mr-1"}),"Lowercase letter"]}),c.jsxs("div",{className:`flex items-center text-xs ${P.hasNumber?"text-green-600":"text-gray-500"}`,children:[P.hasNumber?c.jsx(_r,{className:"h-3 w-3 mr-1"}):c.jsx(Ho,{className:"h-3 w-3 mr-1"}),"Number"]}),c.jsxs("div",{className:`flex items-center text-xs ${P.hasSpecialChar?"text-green-600":"text-gray-500"}`,children:[P.hasSpecialChar?c.jsx(_r,{className:"h-3 w-3 mr-1"}):c.jsx(Ho,{className:"h-3 w-3 mr-1"}),"Special character"]})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password *"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:A?"text":"password",autoComplete:"new-password",required:!0,value:D.confirmPassword,onChange:J,className:"appearance-none block w-full px-3 py-2 pl-10 pr-12 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Confirm your password",disabled:v}),c.jsx(Zo,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),c.jsx("button",{type:"button",onClick:()=>I(!A),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",disabled:v,children:A?c.jsx(_c,{className:"h-4 w-4"}):c.jsx(Va,{className:"h-4 w-4"})})]}),D.confirmPassword&&D.password!==D.confirmPassword&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:"Passwords do not match"})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:v||P.score<3,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:v?c.jsx(sn,{size:"sm",className:"text-white"}):"Create Account"})}),c.jsx("div",{className:"text-center",children:c.jsxs("span",{className:"text-sm text-gray-600",children:["Already have an account?"," ",c.jsx(Ke,{to:"/customer/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})})]})})})]})}function ow({customerAccount:o}){const[s,a]=z.useState([]),[d,m]=z.useState(!0),[p,v]=z.useState(""),[E,N]=z.useState("all"),[w,A]=z.useState([]);z.useEffect(()=>{I()},[]),z.useEffect(()=>{D()},[s,p,E]);const I=async()=>{try{const{data:{user:R}}=await ot.auth.getUser();if(!(R!=null&&R.email))return;const{data:F,error:J}=await ot.from("shipments").select("*").eq("customer_email",R.email).order("created_at",{ascending:!1});if(J)throw J;a(F||[])}catch(R){console.error("Error loading shipments:",R),Pe.error("Failed to load shipments")}finally{m(!1)}},D=()=>{let R=s;p&&(R=R.filter(F=>F.tracking_number.toLowerCase().includes(p.toLowerCase())||F.destination_country.toLowerCase().includes(p.toLowerCase())||F.package_type.toLowerCase().includes(p.toLowerCase()))),E!=="all"&&(R=R.filter(F=>F.status===E)),A(R)},B=R=>{switch(R){case"delivered":return"bg-green-100 text-green-800";case"shipped":return"bg-blue-100 text-blue-800";case"received":case"processing":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},P=R=>new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return d?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(sn,{size:"lg"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"My Shipments"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(ti,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search by tracking number, destination, or package type...",value:p,onChange:R=>v(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(F2,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),c.jsxs("select",{value:E,onChange:R=>N(R.target.value),className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none bg-white",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"received",children:"Received"}),c.jsx("option",{value:"processing",children:"Processing"}),c.jsx("option",{value:"shipped",children:"Shipped"}),c.jsx("option",{value:"delivered",children:"Delivered"})]})]})]})]}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm",children:w.length>0?c.jsx("div",{className:"divide-y divide-gray-200",children:w.map(R=>c.jsxs("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:R.tracking_number}),c.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${B(R.status)}`,children:R.status.charAt(0).toUpperCase()+R.status.slice(1)})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Package Type:"})," ",R.package_type]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Destination:"})," ",R.destination_country]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Service:"})," ",R.service_type]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600 mt-2",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Created:"})," ",P(R.created_at)]}),R.shipped_at&&c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Shipped:"})," ",P(R.shipped_at)]}),R.estimated_delivery&&c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Est. Delivery:"})," ",P(R.estimated_delivery)]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 ml-6",children:[c.jsxs(Ke,{to:`/tracking?number=${R.tracking_number}`,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx(Va,{className:"h-4 w-4 mr-1"}),"Track"]}),c.jsxs("button",{className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx(Jo,{className:"h-4 w-4 mr-1"}),"Chat"]})]})]}),R.package_description&&c.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"Description:"})," ",R.package_description]})]},R.id))}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(un,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No shipments found"}),c.jsx("p",{className:"text-gray-500",children:p||E!=="all"?"Try adjusting your search or filter criteria":"Your shipments will appear here once they are created"})]})})]})}const lw=[{country:"Jamaica",fields:{stateProvince:{label:"Parish",placeholder:"Select parish",required:!0,options:["Kingston","St. Andrew","St. Thomas","Portland","St. Mary","St. Ann","Trelawny","St. James","Hanover","Westmoreland","St. Elizabeth","Manchester","Clarendon","St. Catherine"]},postalCode:{label:"Postal Code",placeholder:"e.g., Kingston 10",required:!1},city:{label:"City/Town",placeholder:"Enter city or town",required:!0}}},{country:"Trinidad and Tobago",fields:{stateProvince:{label:"Region",placeholder:"Select region",required:!0,options:["Port of Spain","San Fernando","Chaguanas","Point Fortin","Arima","Diego Martin","Penal-Debe","Rio Claro-Mayaro","Sangre Grande","Siparia","Tunapuna-Piarco","Princes Town","Couva-Tabaquite-Talparo","Eastern Tobago","Western Tobago"]},postalCode:{label:"Postal Code",placeholder:"Enter postal code",required:!1},city:{label:"City/Town",placeholder:"Enter city or town",required:!0}}},{country:"Barbados",fields:{stateProvince:{label:"Parish",placeholder:"Select parish",required:!0,options:["Christ Church","St. Michael","St. George","St. Philip","St. John","St. James","St. Thomas","St. Joseph","St. Andrew","St. Peter","St. Lucy"]},postalCode:{label:"Postal Code",placeholder:"e.g., BB11000",required:!1,pattern:"BB\\d{5}"},city:{label:"City/Town",placeholder:"Enter city or town",required:!0}}},{country:"Guyana",fields:{stateProvince:{label:"Region",placeholder:"Select region",required:!0,options:["Barima-Waini","Cuyuni-Mazaruni","Demerara-Mahaica","East Berbice-Corentyne","Essequibo Islands-West Demerara","Mahaica-Berbice","Pomeroon-Supenaam","Potaro-Siparuni","Upper Demerara-Berbice","Upper Takutu-Upper Essequibo"]},postalCode:{label:"Postal Code",placeholder:"Enter postal code",required:!1},city:{label:"City/Town",placeholder:"Enter city or town",required:!0}}},{country:"Suriname",fields:{stateProvince:{label:"District",placeholder:"Select district",required:!0,options:["Paramaribo","Wanica","Nickerie","Coronie","Saramacca","Commewijne","Marowijne","Para","Brokopondo","Sipaliwini"]},postalCode:{label:"Postal Code",placeholder:"Enter postal code",required:!1},city:{label:"City/Town",placeholder:"Enter city or town",required:!0}}},{country:"Belize",fields:{stateProvince:{label:"District",placeholder:"Select district",required:!0,options:["Belize","Cayo","Corozal","Orange Walk","Stann Creek","Toledo"]},postalCode:{label:"Postal Code",placeholder:"Enter postal code",required:!1},city:{label:"City/Town",placeholder:"Enter city or town",required:!0}}},{country:"Dominican Republic",fields:{stateProvince:{label:"Province",placeholder:"Select province",required:!0,options:["Distrito Nacional","Azua","Baoruco","Barahona","Dajabón","Duarte","Elías Piña","El Seibo","Espaillat","Hato Mayor","Hermanas Mirabal","Independencia","La Altagracia","La Romana","La Vega","María Trinidad Sánchez","Monseñor Nouel","Monte Cristi","Monte Plata","Pedernales","Peravia","Puerto Plata","Samaná","San Cristóbal","San José de Ocoa","San Juan","San Pedro de Macorís","Sánchez Ramírez","Santiago","Santiago Rodríguez","Santo Domingo","Valverde"]},postalCode:{label:"Postal Code",placeholder:"e.g., 10000",required:!1,pattern:"\\d{5}"},city:{label:"City/Town",placeholder:"Enter city or town",required:!0}}},{country:"Haiti",fields:{stateProvince:{label:"Department",placeholder:"Select department",required:!0,options:["Ouest","Sud-Est","Nord","Nord-Est","Artibonite","Centre","Sud","Grand'Anse","Nord-Ouest","Nippes"]},postalCode:{label:"Postal Code",placeholder:"Enter postal code",required:!1},city:{label:"City/Town",placeholder:"Enter city or town",required:!0}}}],cw={country:"Default",fields:{stateProvince:{label:"State/Province",placeholder:"Enter state or province",required:!1},postalCode:{label:"Postal Code",placeholder:"Enter postal code",required:!1},city:{label:"City",placeholder:"Enter city",required:!0}}};function uw(o){return lw.find(s=>s.country===o)||cw}const dw=["Jamaica","Trinidad and Tobago","Barbados","Guyana","Suriname","Belize","Guatemala","Honduras","El Salvador","Nicaragua","Costa Rica","Panama","Dominican Republic","Haiti"];function hw({customerAccount:o}){const[s,a]=z.useState([]),[d,m]=z.useState(!0),[p,v]=z.useState(!1),[E,N]=z.useState(null),[w,A]=z.useState({addressType:"delivery",streetAddress:"",city:"",stateProvince:"",postalCode:"",country:"",isDefault:!1});z.useEffect(()=>{o&&I()},[o]);const I=async()=>{try{const{data:K,error:V}=await ot.functions.invoke("manage-customer-account",{body:{action:"get_addresses",accountData:{customerId:o.id}}});if(V)throw V;a((K==null?void 0:K.data)||[])}catch(K){console.error("Error loading addresses:",K),Pe.error("Failed to load addresses")}finally{m(!1)}},D=async K=>{if(K.preventDefault(),!w.streetAddress||!w.city||!w.country){Pe.error("Please fill in all required fields");return}m(!0);try{const V=E?"update_address":"add_address",ie={customerId:o.id,addressType:w.addressType,streetAddress:w.streetAddress,city:w.city,stateProvince:w.stateProvince,postalCode:w.postalCode,country:w.country,isDefault:w.isDefault,...E&&{addressId:E.id}},{data:ge,error:de}=await ot.functions.invoke("manage-customer-account",{body:{action:V,accountData:ie}});if(de)throw de;Pe.success(E?"Address updated successfully!":"Address added successfully!"),v(!1),N(null),R(),I()}catch(V){console.error("Error saving address:",V),Pe.error(V.message||"Failed to save address")}finally{m(!1)}},B=K=>{N(K),A({addressType:K.address_type,streetAddress:K.street_address,city:K.city,stateProvince:K.state_province||"",postalCode:K.postal_code||"",country:K.country,isDefault:K.is_default}),v(!0)},P=async K=>{if(confirm("Are you sure you want to delete this address?"))try{const{error:V}=await ot.functions.invoke("manage-customer-account",{body:{action:"delete_address",accountData:{addressId:K}}});if(V)throw V;Pe.success("Address deleted successfully!"),I()}catch(V){console.error("Error deleting address:",V),Pe.error(V.message||"Failed to delete address")}},R=()=>{A({addressType:"delivery",streetAddress:"",city:"",stateProvince:"",postalCode:"",country:"",isDefault:!1})},F=()=>{v(!1),N(null),R()},J=K=>{const{name:V,value:ie,type:ge}=K.target,de=ge==="checkbox"?K.target.checked:!1;A(H=>({...H,[V]:ge==="checkbox"?de:ie})),V==="country"&&A(H=>({...H,country:ie,stateProvince:"",postalCode:""}))};return d&&!p?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(sn,{size:"lg"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Address Book"}),c.jsx("p",{className:"text-gray-600",children:"Manage your shipping and delivery addresses"})]}),c.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx(Ga,{className:"h-4 w-4 mr-2"}),"Add Address"]})]})}),p&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:E?"Edit Address":"Add New Address"}),c.jsxs("form",{onSubmit:D,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"addressType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Type"}),c.jsxs("select",{id:"addressType",name:"addressType",value:w.addressType,onChange:J,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"delivery",children:"Delivery"}),c.jsx("option",{value:"pickup",children:"Pickup"}),c.jsx("option",{value:"billing",children:"Billing"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-1",children:"Country *"}),c.jsxs("select",{id:"country",name:"country",value:w.country,onChange:J,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[c.jsx("option",{value:"",children:"Select Country"}),dw.map(K=>c.jsx("option",{value:K,children:K},K))]})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"streetAddress",className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address *"}),c.jsx("input",{type:"text",id:"streetAddress",name:"streetAddress",value:w.streetAddress,onChange:J,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter street address",required:!0})]}),w.country&&(()=>{const K=uw(w.country);return c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:[K.fields.city.label," ",K.fields.city.required?"*":""]}),c.jsx("input",{type:"text",id:"city",name:"city",value:w.city,onChange:J,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:K.fields.city.placeholder,required:K.fields.city.required})]}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"stateProvince",className:"block text-sm font-medium text-gray-700 mb-1",children:[K.fields.stateProvince.label," ",K.fields.stateProvince.required?"*":""]}),K.fields.stateProvince.options?c.jsxs("select",{id:"stateProvince",name:"stateProvince",value:w.stateProvince,onChange:J,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:K.fields.stateProvince.required,children:[c.jsx("option",{value:"",children:K.fields.stateProvince.placeholder}),K.fields.stateProvince.options.map(V=>c.jsx("option",{value:V,children:V},V))]}):c.jsx("input",{type:"text",id:"stateProvince",name:"stateProvince",value:w.stateProvince,onChange:J,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:K.fields.stateProvince.placeholder,required:K.fields.stateProvince.required})]}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"postalCode",className:"block text-sm font-medium text-gray-700 mb-1",children:[K.fields.postalCode.label," ",K.fields.postalCode.required?"*":""]}),c.jsx("input",{type:"text",id:"postalCode",name:"postalCode",value:w.postalCode,onChange:J,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:K.fields.postalCode.placeholder,required:K.fields.postalCode.required,pattern:K.fields.postalCode.pattern})]})]})})(),!w.country&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),c.jsx("input",{type:"text",id:"city",name:"city",value:w.city,onChange:J,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter city",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"stateProvince",className:"block text-sm font-medium text-gray-700 mb-1",children:"State/Province"}),c.jsx("input",{type:"text",id:"stateProvince",name:"stateProvince",value:w.stateProvince,onChange:J,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter state/province"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"postalCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Postal Code"}),c.jsx("input",{type:"text",id:"postalCode",name:"postalCode",value:w.postalCode,onChange:J,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter postal code"})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"isDefault",name:"isDefault",checked:w.isDefault,onChange:J,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"isDefault",className:"ml-2 text-sm text-gray-700",children:"Set as default address"})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsxs("button",{type:"button",onClick:F,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx(Qa,{className:"h-4 w-4 mr-2"}),"Cancel"]}),c.jsxs("button",{type:"submit",disabled:d,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[d?c.jsx(sn,{size:"sm",className:"text-white mr-2"}):c.jsx(Fc,{className:"h-4 w-4 mr-2"}),d?"Saving...":"Save Address"]})]})]})]}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm",children:s.length>0?c.jsx("div",{className:"divide-y divide-gray-200",children:s.map(K=>c.jsx("div",{className:"p-6",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 capitalize",children:[K.address_type," Address"]}),K.is_default&&c.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:"Default"})]}),c.jsxs("div",{className:"text-gray-600",children:[c.jsx("p",{children:K.street_address}),c.jsxs("p",{children:[K.city,K.state_province&&`, ${K.state_province}`,K.postal_code&&` ${K.postal_code}`]}),c.jsx("p",{children:K.country})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 ml-6",children:[c.jsx("button",{onClick:()=>B(K),className:"inline-flex items-center p-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:c.jsx(J2,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>P(K.id),className:"inline-flex items-center p-2 border border-red-300 rounded-md text-red-700 hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:c.jsx(m1,{className:"h-4 w-4"})})]})]})},K.id))}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Tr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No addresses saved"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Add your shipping and delivery addresses for faster checkout"}),c.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx(Ga,{className:"h-4 w-4 mr-2"}),"Add Your First Address"]})]})})]})}function fw({customerAccount:o}){const[s,a]=z.useState([]),[d,m]=z.useState(!0),[p,v]=z.useState(!1),[E,N]=z.useState([]),[w,A]=z.useState([]),[I,D]=z.useState({serviceType:"pickup",bookingDate:"",timeSlot:"",pickupAddressId:"",deliveryAddressId:"",specialInstructions:""}),B=[{value:"pickup",label:"Package Pickup",cost:25},{value:"delivery",label:"Local Delivery",cost:30},{value:"express_pickup",label:"Express Pickup",cost:40},{value:"express_delivery",label:"Express Delivery",cost:50},{value:"barrel_service",label:"Barrel Service",cost:35},{value:"consolidation",label:"Consolidation Service",cost:15}];z.useEffect(()=>{o&&(P(),R())},[o]),z.useEffect(()=>{I.bookingDate&&F(I.bookingDate)},[I.bookingDate]);const P=async()=>{try{const{data:H,error:W}=await ot.functions.invoke("service-booking-system",{body:{action:"get_customer_bookings",bookingData:{customerId:o.id}}});if(W)throw W;a((H==null?void 0:H.data)||[])}catch(H){console.error("Error loading bookings:",H),Pe.error("Failed to load bookings")}finally{m(!1)}},R=async()=>{try{const{data:H,error:W}=await ot.functions.invoke("manage-customer-account",{body:{action:"get_addresses",accountData:{customerId:o.id}}});if(W)throw W;A((H==null?void 0:H.data)||[])}catch(H){console.error("Error loading addresses:",H)}},F=async H=>{var W;try{const{data:$,error:Se}=await ot.functions.invoke("service-booking-system",{body:{action:"get_available_slots",bookingData:{date:H,serviceType:I.serviceType}}});if(Se)throw Se;N(((W=$==null?void 0:$.data)==null?void 0:W.availableSlots)||[])}catch($){console.error("Error loading available slots:",$),Pe.error("Failed to load available time slots")}},J=async H=>{if(H.preventDefault(),!I.serviceType||!I.bookingDate||!I.timeSlot){Pe.error("Please fill in all required fields");return}m(!0);try{const{data:W,error:$}=await ot.functions.invoke("service-booking-system",{body:{action:"create_booking",bookingData:{customerId:o.id,serviceType:I.serviceType,bookingDate:I.bookingDate,timeSlot:I.timeSlot,pickupAddressId:I.pickupAddressId||null,deliveryAddressId:I.deliveryAddressId||null,specialInstructions:I.specialInstructions}}});if($)throw $;Pe.success("Service booking created successfully!"),v(!1),K(),P()}catch(W){console.error("Error creating booking:",W),Pe.error(W.message||"Failed to create booking")}finally{m(!1)}},K=()=>{D({serviceType:"pickup",bookingDate:"",timeSlot:"",pickupAddressId:"",deliveryAddressId:"",specialInstructions:""})},V=H=>{const{name:W,value:$}=H.target;D(Se=>({...Se,[W]:$}))},ie=H=>{switch(H){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ge=H=>new Date(H).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),de=()=>{const H=new Date;return H.setDate(H.getDate()+1),H.toISOString().split("T")[0]};return d&&!p?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(sn,{size:"lg"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Service Bookings"}),c.jsx("p",{className:"text-gray-600",children:"Schedule pickup and delivery services for your packages"})]}),c.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx(Ga,{className:"h-4 w-4 mr-2"}),"Book Service"]})]})}),p&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Book New Service"}),c.jsxs("form",{onSubmit:J,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"serviceType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type *"}),c.jsx("select",{id:"serviceType",name:"serviceType",value:I.serviceType,onChange:V,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:B.map(H=>c.jsxs("option",{value:H.value,children:[H.label," - $",H.cost]},H.value))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"bookingDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Preferred Date *"}),c.jsx("input",{type:"date",id:"bookingDate",name:"bookingDate",value:I.bookingDate,onChange:V,min:de(),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),I.bookingDate&&c.jsxs("div",{children:[c.jsx("label",{htmlFor:"timeSlot",className:"block text-sm font-medium text-gray-700 mb-1",children:"Available Time Slots *"}),c.jsxs("select",{id:"timeSlot",name:"timeSlot",value:I.timeSlot,onChange:V,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[c.jsx("option",{value:"",children:"Select a time slot"}),E.map(H=>c.jsx("option",{value:H,children:H},H))]})]}),w.length>0&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"pickupAddressId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Pickup Address"}),c.jsxs("select",{id:"pickupAddressId",name:"pickupAddressId",value:I.pickupAddressId,onChange:V,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"",children:"Select pickup address"}),w.map(H=>c.jsxs("option",{value:H.id,children:[H.street_address,", ",H.city]},H.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"deliveryAddressId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Address"}),c.jsxs("select",{id:"deliveryAddressId",name:"deliveryAddressId",value:I.deliveryAddressId,onChange:V,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"",children:"Select delivery address"}),w.map(H=>c.jsxs("option",{value:H.id,children:[H.street_address,", ",H.city]},H.id))]})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"specialInstructions",className:"block text-sm font-medium text-gray-700 mb-1",children:"Special Instructions"}),c.jsx("textarea",{id:"specialInstructions",name:"specialInstructions",value:I.specialInstructions,onChange:V,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Any special instructions for the service..."})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>v(!1),className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),c.jsxs("button",{type:"submit",disabled:d,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[d?c.jsx(sn,{size:"sm",className:"text-white mr-2"}):c.jsx(Qs,{className:"h-4 w-4 mr-2"}),d?"Booking...":"Book Service"]})]})]})]}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm",children:s.length>0?c.jsx("div",{className:"divide-y divide-gray-200",children:s.map(H=>c.jsx("div",{className:"p-6",children:c.jsx("div",{className:"flex justify-between items-start",children:c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 capitalize",children:H.service_type.replace("_"," ")}),c.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ie(H.status)}`,children:H.status.charAt(0).toUpperCase()+H.status.slice(1)})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Qs,{className:"h-4 w-4 mr-2"}),ge(H.booking_date)]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Xn,{className:"h-4 w-4 mr-2"}),H.time_slot]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Cost:"})," $",H.estimated_cost]})]}),H.confirmation_number&&c.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"Confirmation:"})," ",H.confirmation_number]}),H.special_instructions&&c.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"Instructions:"})," ",H.special_instructions]})]})})},H.id))}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Qs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No service bookings"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Schedule pickup and delivery services for your convenience"}),c.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx(Ga,{className:"h-4 w-4 mr-2"}),"Book Your First Service"]})]})})]})}var vd={exports:{}},wd,dp;function pw(){if(dp)return wd;dp=1;var o="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return wd=o,wd}var bd,hp;function mw(){if(hp)return bd;hp=1;var o=pw();function s(){}function a(){}return a.resetWarningCache=s,bd=function(){function d(v,E,N,w,A,I){if(I!==o){var D=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw D.name="Invariant Violation",D}}d.isRequired=d;function m(){return d}var p={array:d,bigint:d,bool:d,func:d,number:d,object:d,string:d,symbol:d,any:d,arrayOf:m,element:d,elementType:d,instanceOf:m,node:d,objectOf:m,oneOf:m,oneOfType:m,shape:m,exact:m,checkPropTypes:a,resetWarningCache:s};return p.PropTypes=p,p},bd}var fp;function gw(){return fp||(fp=1,vd.exports=mw()()),vd.exports}var xw=gw();const Lt=Ya(xw);function ta(o,s,a,d){function m(p){return p instanceof a?p:new a(function(v){v(p)})}return new(a||(a=Promise))(function(p,v){function E(A){try{w(d.next(A))}catch(I){v(I)}}function N(A){try{w(d.throw(A))}catch(I){v(I)}}function w(A){A.done?p(A.value):m(A.value).then(E,N)}w((d=d.apply(o,s||[])).next())})}const yw=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function qa(o,s,a){const d=vw(o),{webkitRelativePath:m}=o,p=typeof s=="string"?s:typeof m=="string"&&m.length>0?m:`./${o.name}`;return typeof d.path!="string"&&pp(d,"path",p),pp(d,"relativePath",p),d}function vw(o){const{name:s}=o;if(s&&s.lastIndexOf(".")!==-1&&!o.type){const d=s.split(".").pop().toLowerCase(),m=yw.get(d);m&&Object.defineProperty(o,"type",{value:m,writable:!1,configurable:!1,enumerable:!0})}return o}function pp(o,s,a){Object.defineProperty(o,s,{value:a,writable:!1,configurable:!1,enumerable:!0})}const ww=[".DS_Store","Thumbs.db"];function bw(o){return ta(this,void 0,void 0,function*(){return Oc(o)&&Cw(o.dataTransfer)?Aw(o.dataTransfer,o.type):Ew(o)?Nw(o):Array.isArray(o)&&o.every(s=>"getFile"in s&&typeof s.getFile=="function")?Sw(o):[]})}function Cw(o){return Oc(o)}function Ew(o){return Oc(o)&&Oc(o.target)}function Oc(o){return typeof o=="object"&&o!==null}function Nw(o){return Ud(o.target.files).map(s=>qa(s))}function Sw(o){return ta(this,void 0,void 0,function*(){return(yield Promise.all(o.map(a=>a.getFile()))).map(a=>qa(a))})}function Aw(o,s){return ta(this,void 0,void 0,function*(){if(o.items){const a=Ud(o.items).filter(m=>m.kind==="file");if(s!=="drop")return a;const d=yield Promise.all(a.map(_w));return mp(E1(d))}return mp(Ud(o.files).map(a=>qa(a)))})}function mp(o){return o.filter(s=>ww.indexOf(s.name)===-1)}function Ud(o){if(o===null)return[];const s=[];for(let a=0;a<o.length;a++){const d=o[a];s.push(d)}return s}function _w(o){if(typeof o.webkitGetAsEntry!="function")return gp(o);const s=o.webkitGetAsEntry();return s&&s.isDirectory?N1(s):gp(o,s)}function E1(o){return o.reduce((s,a)=>[...s,...Array.isArray(a)?E1(a):[a]],[])}function gp(o,s){return ta(this,void 0,void 0,function*(){var a;if(globalThis.isSecureContext&&typeof o.getAsFileSystemHandle=="function"){const p=yield o.getAsFileSystemHandle();if(p===null)throw new Error(`${o} is not a File`);if(p!==void 0){const v=yield p.getFile();return v.handle=p,qa(v)}}const d=o.getAsFile();if(!d)throw new Error(`${o} is not a File`);return qa(d,(a=s==null?void 0:s.fullPath)!==null&&a!==void 0?a:void 0)})}function Iw(o){return ta(this,void 0,void 0,function*(){return o.isDirectory?N1(o):Tw(o)})}function N1(o){const s=o.createReader();return new Promise((a,d)=>{const m=[];function p(){s.readEntries(v=>ta(this,void 0,void 0,function*(){if(v.length){const E=Promise.all(v.map(Iw));m.push(E),p()}else try{const E=yield Promise.all(m);a(E)}catch(E){d(E)}}),v=>{d(v)})}p()})}function Tw(o){return ta(this,void 0,void 0,function*(){return new Promise((s,a)=>{o.file(d=>{const m=qa(d,o.fullPath);s(m)},d=>{a(d)})})})}var yc={},xp;function kw(){return xp||(xp=1,yc.__esModule=!0,yc.default=function(o,s){if(o&&s){var a=Array.isArray(s)?s:s.split(",");if(a.length===0)return!0;var d=o.name||"",m=(o.type||"").toLowerCase(),p=m.replace(/\/.*$/,"");return a.some(function(v){var E=v.trim().toLowerCase();return E.charAt(0)==="."?d.toLowerCase().endsWith(E):E.endsWith("/*")?p===E.replace(/\/.*$/,""):m===E})}return!0}),yc}var jw=kw();const Cd=Ya(jw);function yp(o){return Mw(o)||Dw(o)||A1(o)||Ow()}function Ow(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dw(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function Mw(o){if(Array.isArray(o))return zd(o)}function vp(o,s){var a=Object.keys(o);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(o);s&&(d=d.filter(function(m){return Object.getOwnPropertyDescriptor(o,m).enumerable})),a.push.apply(a,d)}return a}function wp(o){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?arguments[s]:{};s%2?vp(Object(a),!0).forEach(function(d){S1(o,d,a[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):vp(Object(a)).forEach(function(d){Object.defineProperty(o,d,Object.getOwnPropertyDescriptor(a,d))})}return o}function S1(o,s,a){return s in o?Object.defineProperty(o,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[s]=a,o}function el(o,s){return Lw(o)||Pw(o,s)||A1(o,s)||Rw()}function Rw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A1(o,s){if(o){if(typeof o=="string")return zd(o,s);var a=Object.prototype.toString.call(o).slice(8,-1);if(a==="Object"&&o.constructor&&(a=o.constructor.name),a==="Map"||a==="Set")return Array.from(o);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return zd(o,s)}}function zd(o,s){(s==null||s>o.length)&&(s=o.length);for(var a=0,d=new Array(s);a<s;a++)d[a]=o[a];return d}function Pw(o,s){var a=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(a!=null){var d=[],m=!0,p=!1,v,E;try{for(a=a.call(o);!(m=(v=a.next()).done)&&(d.push(v.value),!(s&&d.length===s));m=!0);}catch(N){p=!0,E=N}finally{try{!m&&a.return!=null&&a.return()}finally{if(p)throw E}}return d}}function Lw(o){if(Array.isArray(o))return o}var Bw=typeof Cd=="function"?Cd:Cd.default,Fw="file-invalid-type",Uw="file-too-large",zw="file-too-small",Hw="too-many-files",Ww=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=s.split(","),d=a.length>1?"one of ".concat(a.join(", ")):a[0];return{code:Fw,message:"File type must be ".concat(d)}},bp=function(s){return{code:Uw,message:"File is larger than ".concat(s," ").concat(s===1?"byte":"bytes")}},Cp=function(s){return{code:zw,message:"File is smaller than ".concat(s," ").concat(s===1?"byte":"bytes")}},Vw={code:Hw,message:"Too many files"};function _1(o,s){var a=o.type==="application/x-moz-file"||Bw(o,s);return[a,a?null:Ww(s)]}function I1(o,s,a){if($s(o.size))if($s(s)&&$s(a)){if(o.size>a)return[!1,bp(a)];if(o.size<s)return[!1,Cp(s)]}else{if($s(s)&&o.size<s)return[!1,Cp(s)];if($s(a)&&o.size>a)return[!1,bp(a)]}return[!0,null]}function $s(o){return o!=null}function Gw(o){var s=o.files,a=o.accept,d=o.minSize,m=o.maxSize,p=o.multiple,v=o.maxFiles,E=o.validator;return!p&&s.length>1||p&&v>=1&&s.length>v?!1:s.every(function(N){var w=_1(N,a),A=el(w,1),I=A[0],D=I1(N,d,m),B=el(D,1),P=B[0],R=E?E(N):null;return I&&P&&!R})}function Dc(o){return typeof o.isPropagationStopped=="function"?o.isPropagationStopped():typeof o.cancelBubble<"u"?o.cancelBubble:!1}function vc(o){return o.dataTransfer?Array.prototype.some.call(o.dataTransfer.types,function(s){return s==="Files"||s==="application/x-moz-file"}):!!o.target&&!!o.target.files}function Ep(o){o.preventDefault()}function qw(o){return o.indexOf("MSIE")!==-1||o.indexOf("Trident/")!==-1}function Yw(o){return o.indexOf("Edge/")!==-1}function Xw(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return qw(o)||Yw(o)}function di(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return function(d){for(var m=arguments.length,p=new Array(m>1?m-1:0),v=1;v<m;v++)p[v-1]=arguments[v];return s.some(function(E){return!Dc(d)&&E&&E.apply(void 0,[d].concat(p)),Dc(d)})}}function $w(){return"showOpenFilePicker"in window}function Kw(o){if($s(o)){var s=Object.entries(o).filter(function(a){var d=el(a,2),m=d[0],p=d[1],v=!0;return T1(m)||(console.warn('Skipped "'.concat(m,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),v=!1),(!Array.isArray(p)||!p.every(k1))&&(console.warn('Skipped "'.concat(m,'" because an invalid file extension was provided.')),v=!1),v}).reduce(function(a,d){var m=el(d,2),p=m[0],v=m[1];return wp(wp({},a),{},S1({},p,v))},{});return[{description:"Files",accept:s}]}return o}function Qw(o){if($s(o))return Object.entries(o).reduce(function(s,a){var d=el(a,2),m=d[0],p=d[1];return[].concat(yp(s),[m],yp(p))},[]).filter(function(s){return T1(s)||k1(s)}).join(",")}function Zw(o){return o instanceof DOMException&&(o.name==="AbortError"||o.code===o.ABORT_ERR)}function Jw(o){return o instanceof DOMException&&(o.name==="SecurityError"||o.code===o.SECURITY_ERR)}function T1(o){return o==="audio/*"||o==="video/*"||o==="image/*"||o==="text/*"||o==="application/*"||/\w+\/[-+.\w]+/g.test(o)}function k1(o){return/^.*\.[\w]+$/.test(o)}var eb=["children"],tb=["open"],nb=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],rb=["refKey","onChange","onClick"];function ib(o){return ob(o)||ab(o)||j1(o)||sb()}function sb(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ab(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function ob(o){if(Array.isArray(o))return Hd(o)}function Ed(o,s){return ub(o)||cb(o,s)||j1(o,s)||lb()}function lb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j1(o,s){if(o){if(typeof o=="string")return Hd(o,s);var a=Object.prototype.toString.call(o).slice(8,-1);if(a==="Object"&&o.constructor&&(a=o.constructor.name),a==="Map"||a==="Set")return Array.from(o);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Hd(o,s)}}function Hd(o,s){(s==null||s>o.length)&&(s=o.length);for(var a=0,d=new Array(s);a<s;a++)d[a]=o[a];return d}function cb(o,s){var a=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(a!=null){var d=[],m=!0,p=!1,v,E;try{for(a=a.call(o);!(m=(v=a.next()).done)&&(d.push(v.value),!(s&&d.length===s));m=!0);}catch(N){p=!0,E=N}finally{try{!m&&a.return!=null&&a.return()}finally{if(p)throw E}}return d}}function ub(o){if(Array.isArray(o))return o}function Np(o,s){var a=Object.keys(o);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(o);s&&(d=d.filter(function(m){return Object.getOwnPropertyDescriptor(o,m).enumerable})),a.push.apply(a,d)}return a}function nn(o){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?arguments[s]:{};s%2?Np(Object(a),!0).forEach(function(d){Wd(o,d,a[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):Np(Object(a)).forEach(function(d){Object.defineProperty(o,d,Object.getOwnPropertyDescriptor(a,d))})}return o}function Wd(o,s,a){return s in o?Object.defineProperty(o,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[s]=a,o}function Mc(o,s){if(o==null)return{};var a=db(o,s),d,m;if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(o);for(m=0;m<p.length;m++)d=p[m],!(s.indexOf(d)>=0)&&Object.prototype.propertyIsEnumerable.call(o,d)&&(a[d]=o[d])}return a}function db(o,s){if(o==null)return{};var a={},d=Object.keys(o),m,p;for(p=0;p<d.length;p++)m=d[p],!(s.indexOf(m)>=0)&&(a[m]=o[m]);return a}var oh=z.forwardRef(function(o,s){var a=o.children,d=Mc(o,eb),m=D1(d),p=m.open,v=Mc(m,tb);return z.useImperativeHandle(s,function(){return{open:p}},[p]),Ip.createElement(z.Fragment,null,a(nn(nn({},v),{},{open:p})))});oh.displayName="Dropzone";var O1={disabled:!1,getFilesFromEvent:bw,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};oh.defaultProps=O1;oh.propTypes={children:Lt.func,accept:Lt.objectOf(Lt.arrayOf(Lt.string)),multiple:Lt.bool,preventDropOnDocument:Lt.bool,noClick:Lt.bool,noKeyboard:Lt.bool,noDrag:Lt.bool,noDragEventsBubbling:Lt.bool,minSize:Lt.number,maxSize:Lt.number,maxFiles:Lt.number,disabled:Lt.bool,getFilesFromEvent:Lt.func,onFileDialogCancel:Lt.func,onFileDialogOpen:Lt.func,useFsAccessApi:Lt.bool,autoFocus:Lt.bool,onDragEnter:Lt.func,onDragLeave:Lt.func,onDragOver:Lt.func,onDrop:Lt.func,onDropAccepted:Lt.func,onDropRejected:Lt.func,onError:Lt.func,validator:Lt.func};var Vd={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function D1(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=nn(nn({},O1),o),a=s.accept,d=s.disabled,m=s.getFilesFromEvent,p=s.maxSize,v=s.minSize,E=s.multiple,N=s.maxFiles,w=s.onDragEnter,A=s.onDragLeave,I=s.onDragOver,D=s.onDrop,B=s.onDropAccepted,P=s.onDropRejected,R=s.onFileDialogCancel,F=s.onFileDialogOpen,J=s.useFsAccessApi,K=s.autoFocus,V=s.preventDropOnDocument,ie=s.noClick,ge=s.noKeyboard,de=s.noDrag,H=s.noDragEventsBubbling,W=s.onError,$=s.validator,Se=z.useMemo(function(){return Qw(a)},[a]),ke=z.useMemo(function(){return Kw(a)},[a]),he=z.useMemo(function(){return typeof F=="function"?F:Sp},[F]),ce=z.useMemo(function(){return typeof R=="function"?R:Sp},[R]),_e=z.useRef(null),ee=z.useRef(null),Ze=z.useReducer(hb,Vd),Me=Ed(Ze,2),Ne=Me[0],Ie=Me[1],Ae=Ne.isFocused,Z=Ne.isFileDialogActive,le=z.useRef(typeof window<"u"&&window.isSecureContext&&J&&$w()),Qe=function(){!le.current&&Z&&setTimeout(function(){if(ee.current){var Ve=ee.current.files;Ve.length||(Ie({type:"closeDialog"}),ce())}},300)};z.useEffect(function(){return window.addEventListener("focus",Qe,!1),function(){window.removeEventListener("focus",Qe,!1)}},[ee,Z,ce,le]);var Fe=z.useRef([]),lt=function(Ve){_e.current&&_e.current.contains(Ve.target)||(Ve.preventDefault(),Fe.current=[])};z.useEffect(function(){return V&&(document.addEventListener("dragover",Ep,!1),document.addEventListener("drop",lt,!1)),function(){V&&(document.removeEventListener("dragover",Ep),document.removeEventListener("drop",lt))}},[_e,V]),z.useEffect(function(){return!d&&K&&_e.current&&_e.current.focus(),function(){}},[_e,K,d]);var we=z.useCallback(function(Ee){W?W(Ee):console.error(Ee)},[W]),vt=z.useCallback(function(Ee){Ee.preventDefault(),Ee.persist(),$n(Ee),Fe.current=[].concat(ib(Fe.current),[Ee.target]),vc(Ee)&&Promise.resolve(m(Ee)).then(function(Ve){if(!(Dc(Ee)&&!H)){var gt=Ve.length,Wt=gt>0&&Gw({files:Ve,accept:Se,minSize:v,maxSize:p,multiple:E,maxFiles:N,validator:$}),Dt=gt>0&&!Wt;Ie({isDragAccept:Wt,isDragReject:Dt,isDragActive:!0,type:"setDraggedFiles"}),w&&w(Ee)}}).catch(function(Ve){return we(Ve)})},[m,w,we,H,Se,v,p,E,N,$]),Xe=z.useCallback(function(Ee){Ee.preventDefault(),Ee.persist(),$n(Ee);var Ve=vc(Ee);if(Ve&&Ee.dataTransfer)try{Ee.dataTransfer.dropEffect="copy"}catch{}return Ve&&I&&I(Ee),!1},[I,H]),wt=z.useCallback(function(Ee){Ee.preventDefault(),Ee.persist(),$n(Ee);var Ve=Fe.current.filter(function(Wt){return _e.current&&_e.current.contains(Wt)}),gt=Ve.indexOf(Ee.target);gt!==-1&&Ve.splice(gt,1),Fe.current=Ve,!(Ve.length>0)&&(Ie({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),vc(Ee)&&A&&A(Ee))},[_e,A,H]),Xt=z.useCallback(function(Ee,Ve){var gt=[],Wt=[];Ee.forEach(function(Dt){var Kt=_1(Dt,Se),Kn=Ed(Kt,2),nr=Kn[0],ws=Kn[1],Mt=I1(Dt,v,p),Ce=Ed(Mt,2),Vt=Ce[0],xt=Ce[1],At=$?$(Dt):null;if(nr&&Vt&&!At)gt.push(Dt);else{var pr=[ws,xt];At&&(pr=pr.concat(At)),Wt.push({file:Dt,errors:pr.filter(function(pi){return pi})})}}),(!E&&gt.length>1||E&&N>=1&&gt.length>N)&&(gt.forEach(function(Dt){Wt.push({file:Dt,errors:[Vw]})}),gt.splice(0)),Ie({acceptedFiles:gt,fileRejections:Wt,isDragReject:Wt.length>0,type:"setFiles"}),D&&D(gt,Wt,Ve),Wt.length>0&&P&&P(Wt,Ve),gt.length>0&&B&&B(gt,Ve)},[Ie,E,Se,v,p,N,D,B,P,$]),$t=z.useCallback(function(Ee){Ee.preventDefault(),Ee.persist(),$n(Ee),Fe.current=[],vc(Ee)&&Promise.resolve(m(Ee)).then(function(Ve){Dc(Ee)&&!H||Xt(Ve,Ee)}).catch(function(Ve){return we(Ve)}),Ie({type:"reset"})},[m,Xt,we,H]),tr=z.useCallback(function(){if(le.current){Ie({type:"openDialog"}),he();var Ee={multiple:E,types:ke};window.showOpenFilePicker(Ee).then(function(Ve){return m(Ve)}).then(function(Ve){Xt(Ve,null),Ie({type:"closeDialog"})}).catch(function(Ve){Zw(Ve)?(ce(Ve),Ie({type:"closeDialog"})):Jw(Ve)?(le.current=!1,ee.current?(ee.current.value=null,ee.current.click()):we(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):we(Ve)});return}ee.current&&(Ie({type:"openDialog"}),he(),ee.current.value=null,ee.current.click())},[Ie,he,ce,J,Xt,we,ke,E]),ct=z.useCallback(function(Ee){!_e.current||!_e.current.isEqualNode(Ee.target)||(Ee.key===" "||Ee.key==="Enter"||Ee.keyCode===32||Ee.keyCode===13)&&(Ee.preventDefault(),tr())},[_e,tr]),fr=z.useCallback(function(){Ie({type:"focus"})},[]),Bn=z.useCallback(function(){Ie({type:"blur"})},[]),Hr=z.useCallback(function(){ie||(Xw()?setTimeout(tr,0):tr())},[ie,tr]),jt=function(Ve){return d?null:Ve},bt=function(Ve){return ge?null:jt(Ve)},rt=function(Ve){return de?null:jt(Ve)},$n=function(Ve){H&&Ve.stopPropagation()},je=z.useMemo(function(){return function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ve=Ee.refKey,gt=Ve===void 0?"ref":Ve,Wt=Ee.role,Dt=Ee.onKeyDown,Kt=Ee.onFocus,Kn=Ee.onBlur,nr=Ee.onClick,ws=Ee.onDragEnter,Mt=Ee.onDragOver,Ce=Ee.onDragLeave,Vt=Ee.onDrop,xt=Mc(Ee,nb);return nn(nn(Wd({onKeyDown:bt(di(Dt,ct)),onFocus:bt(di(Kt,fr)),onBlur:bt(di(Kn,Bn)),onClick:jt(di(nr,Hr)),onDragEnter:rt(di(ws,vt)),onDragOver:rt(di(Mt,Xe)),onDragLeave:rt(di(Ce,wt)),onDrop:rt(di(Vt,$t)),role:typeof Wt=="string"&&Wt!==""?Wt:"presentation"},gt,_e),!d&&!ge?{tabIndex:0}:{}),xt)}},[_e,ct,fr,Bn,Hr,vt,Xe,wt,$t,ge,de,d]),ni=z.useCallback(function(Ee){Ee.stopPropagation()},[]),vs=z.useMemo(function(){return function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ve=Ee.refKey,gt=Ve===void 0?"ref":Ve,Wt=Ee.onChange,Dt=Ee.onClick,Kt=Mc(Ee,rb),Kn=Wd({accept:Se,multiple:E,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:jt(di(Wt,$t)),onClick:jt(di(Dt,ni)),tabIndex:-1},gt,ee);return nn(nn({},Kn),Kt)}},[ee,a,E,$t,d]);return nn(nn({},Ne),{},{isFocused:Ae&&!d,getRootProps:je,getInputProps:vs,rootRef:_e,inputRef:ee,open:jt(tr)})}function hb(o,s){switch(s.type){case"focus":return nn(nn({},o),{},{isFocused:!0});case"blur":return nn(nn({},o),{},{isFocused:!1});case"openDialog":return nn(nn({},Vd),{},{isFileDialogActive:!0});case"closeDialog":return nn(nn({},o),{},{isFileDialogActive:!1});case"setDraggedFiles":return nn(nn({},o),{},{isDragActive:s.isDragActive,isDragAccept:s.isDragAccept,isDragReject:s.isDragReject});case"setFiles":return nn(nn({},o),{},{acceptedFiles:s.acceptedFiles,fileRejections:s.fileRejections,isDragReject:s.isDragReject});case"reset":return nn({},Vd);default:return o}}function Sp(){}function fb({customerAccount:o}){const[s,a]=z.useState([]),[d,m]=z.useState(!0),[p,v]=z.useState(!1),[E,N]=z.useState(!1),[w,A]=z.useState({documentType:"customs_form",associatedShipmentId:""}),[I,D]=z.useState([]),B=[{value:"customs_form",label:"Customs Form"},{value:"invoice",label:"Commercial Invoice"},{value:"packing_list",label:"Packing List"},{value:"id_document",label:"ID Document"},{value:"insurance",label:"Insurance Document"},{value:"other",label:"Other"}];z.useEffect(()=>{o&&(P(),R())},[o]);const P=async()=>{try{const{data:W,error:$}=await ot.from("customer_documents").select("*").eq("customer_id",o.id).order("upload_date",{ascending:!1});if($)throw $;a(W||[])}catch(W){console.error("Error loading documents:",W),Pe.error("Failed to load documents")}finally{m(!1)}},R=async()=>{try{const{data:{user:W}}=await ot.auth.getUser();if(!(W!=null&&W.email))return;const{data:$,error:Se}=await ot.from("shipments").select("id, tracking_number, destination_country").eq("customer_email",W.email).order("created_at",{ascending:!1});if(Se)throw Se;D($||[])}catch(W){console.error("Error loading shipments:",W)}},F=async W=>{if(W.length===0){Pe.error("Please select a valid file");return}const $=W[0];if($.size>50*1024*1024){Pe.error("File size must be less than 50MB");return}if(!["application/pdf","image/jpeg","image/png","image/jpg","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes($.type)){Pe.error("Please upload PDF, Word document, or image files only");return}v(!0);try{const ke=await new Promise((_e,ee)=>{const Ze=new FileReader;Ze.onload=()=>_e(Ze.result),Ze.onerror=ee,Ze.readAsDataURL($)}),{data:he,error:ce}=await ot.functions.invoke("upload-customer-document",{body:{fileData:ke,fileName:$.name,documentType:w.documentType,customerId:o.id,shipmentId:w.associatedShipmentId||null}});if(ce)throw ce;Pe.success("Document uploaded successfully!"),N(!1),A({documentType:"customs_form",associatedShipmentId:""}),P()}catch(ke){console.error("Error uploading document:",ke),Pe.error(ke.message||"Failed to upload document")}finally{v(!1)}},{getRootProps:J,getInputProps:K,isDragActive:V}=D1({onDrop:F,multiple:!1,accept:{"application/pdf":[".pdf"],"image/*":[".jpeg",".jpg",".png"],"application/msword":[".doc"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"]}}),ie=async W=>{if(confirm("Are you sure you want to delete this document?"))try{const{error:$}=await ot.from("customer_documents").delete().eq("id",W).eq("customer_id",o.id);if($)throw $;Pe.success("Document deleted successfully!"),P()}catch($){console.error("Error deleting document:",$),Pe.error("Failed to delete document")}},ge=W=>{if(W===0)return"0 Bytes";const $=1024,Se=["Bytes","KB","MB","GB"],ke=Math.floor(Math.log(W)/Math.log($));return parseFloat((W/Math.pow($,ke)).toFixed(2))+" "+Se[ke]},de=W=>new Date(W).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),H=W=>W.includes("pdf")?"📄":W.includes("image")?"🖼️":W.includes("word")?"📝":"📁";return d?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(sn,{size:"lg"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Documents"}),c.jsx("p",{className:"text-gray-600",children:"Upload and manage your shipping documents"})]}),c.jsxs("button",{onClick:()=>N(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx(bc,{className:"h-4 w-4 mr-2"}),"Upload Document"]})]})}),E&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upload New Document"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"documentType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Document Type"}),c.jsx("select",{id:"documentType",value:w.documentType,onChange:W=>A($=>({...$,documentType:W.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:B.map(W=>c.jsx("option",{value:W.value,children:W.label},W.value))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"associatedShipmentId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Associated Shipment (Optional)"}),c.jsxs("select",{id:"associatedShipmentId",value:w.associatedShipmentId,onChange:W=>A($=>({...$,associatedShipmentId:W.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"",children:"No associated shipment"}),I.map(W=>c.jsxs("option",{value:W.id,children:[W.tracking_number," - ",W.destination_country]},W.id))]})]})]}),c.jsxs("div",{...J(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${V?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:[c.jsx("input",{...K()}),c.jsx(bc,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),V?c.jsx("p",{className:"text-blue-600 font-medium",children:"Drop the file here..."}):c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"Drag & drop a file here, or click to select"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Supported: PDF, Word documents, Images (max 50MB)"})]})]}),c.jsx("div",{className:"flex justify-end space-x-3",children:c.jsxs("button",{type:"button",onClick:()=>N(!1),className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx(Qa,{className:"h-4 w-4 mr-2"}),"Cancel"]})})]})]}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm",children:s.length>0?c.jsx("div",{className:"divide-y divide-gray-200",children:s.map(W=>c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"text-2xl",children:H(W.mime_type)}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:W.document_name}),c.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-1",children:[c.jsx("span",{className:"capitalize",children:W.document_type.replace("_"," ")}),c.jsx("span",{children:ge(W.file_size)}),c.jsx("span",{children:de(W.upload_date)}),W.is_verified&&c.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:[c.jsx(Fc,{className:"h-3 w-3 mr-1"}),"Verified"]})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("a",{href:W.file_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center p-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:c.jsx(Va,{className:"h-4 w-4"})}),c.jsx("a",{href:W.file_url,download:!0,className:"inline-flex items-center p-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:c.jsx(B2,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>ie(W.id),className:"inline-flex items-center p-2 border border-red-300 rounded-md text-red-700 hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:c.jsx(m1,{className:"h-4 w-4"})})]})]}),W.notes&&c.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"Notes:"})," ",W.notes]})]},W.id))}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(nh,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No documents uploaded"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Upload your shipping documents for faster processing"}),c.jsxs("button",{onClick:()=>N(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx(bc,{className:"h-4 w-4 mr-2"}),"Upload Your First Document"]})]})}),p&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 flex items-center space-x-4",children:[c.jsx(sn,{size:"md"}),c.jsx("span",{className:"text-lg font-medium text-gray-900",children:"Uploading document..."})]})})]})}function pb({customerAccount:o}){const[s,a]=z.useState([]),[d,m]=z.useState([]),[p,v]=z.useState(!0),[E,N]=z.useState(!1),[w,A]=z.useState([]),[I,D]=z.useState(null),[B,P]=z.useState({destinationCountry:"",specialInstructions:""}),R=["Jamaica","Trinidad and Tobago","Barbados","Guyana","Suriname","Belize","Guatemala","Honduras","El Salvador","Nicaragua","Costa Rica","Panama","Dominican Republic","Haiti"];z.useEffect(()=>{o&&(F(),J())},[o]),z.useEffect(()=>{w.length>1?K():D(null)},[w]);const F=async()=>{try{const{data:W,error:$}=await ot.functions.invoke("package-consolidation",{body:{action:"get_customer_consolidations",consolidationData:{customerId:o.id}}});if($)throw $;a((W==null?void 0:W.data)||[])}catch(W){console.error("Error loading consolidations:",W),Pe.error("Failed to load consolidations")}finally{v(!1)}},J=async()=>{try{const{data:{user:W}}=await ot.auth.getUser();if(!(W!=null&&W.email))return;const{data:$,error:Se}=await ot.functions.invoke("package-consolidation",{body:{action:"get_available_packages",consolidationData:{customerEmail:W.email}}});if(Se)throw Se;m(($==null?void 0:$.data)||[])}catch(W){console.error("Error loading available packages:",W)}},K=async()=>{try{const W=d.filter(ke=>w.includes(ke.id)),{data:$,error:Se}=await ot.functions.invoke("package-consolidation",{body:{action:"calculate_savings",consolidationData:{packages:W}}});if(Se)throw Se;D($==null?void 0:$.data)}catch(W){console.error("Error calculating savings:",W)}},V=async W=>{if(W.preventDefault(),w.length<2){Pe.error("Please select at least 2 packages for consolidation");return}if(!B.destinationCountry){Pe.error("Please select a destination country");return}v(!0);try{const{data:$,error:Se}=await ot.functions.invoke("package-consolidation",{body:{action:"create_consolidation_request",consolidationData:{customerId:o.id,destinationCountry:B.destinationCountry,specialInstructions:B.specialInstructions}}});if(Se)throw Se;const ke=$.data[0].id;for(const he of w){const ce=d.find(_e=>_e.id===he);ce&&await ot.functions.invoke("package-consolidation",{body:{action:"add_package_to_consolidation",consolidationData:{consolidationRequestId:ke,shipmentId:he,packageDescription:ce.package_description,weightLbs:ce.weight_lbs,dimensions:ce.dimensions}}})}Pe.success("Consolidation request created successfully!"),N(!1),A([]),D(null),P({destinationCountry:"",specialInstructions:""}),F(),J()}catch($){console.error("Error creating consolidation:",$),Pe.error($.message||"Failed to create consolidation request")}finally{v(!1)}},ie=(W,$)=>{A($?Se=>[...Se,W]:Se=>Se.filter(ke=>ke!==W))},ge=W=>{const{name:$,value:Se}=W.target;P(ke=>({...ke,[$]:Se}))},de=W=>{switch(W){case"completed":return"bg-green-100 text-green-800";case"processing":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},H=W=>new Date(W).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return p&&!E?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(sn,{size:"lg"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Package Consolidation"}),c.jsx("p",{className:"text-gray-600",children:"Combine multiple packages to save on shipping costs"})]}),d.length>=2&&c.jsxs("button",{onClick:()=>N(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx(Ga,{className:"h-4 w-4 mr-2"}),"Create Consolidation"]})]})}),d.length>0&&c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(un,{className:"h-5 w-5 text-blue-600 mr-2"}),c.jsxs("span",{className:"text-blue-800 font-medium",children:["You have ",d.length," package",d.length!==1?"s":""," available for consolidation"]})]}),d.length>=2&&c.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"Combine them to save money on shipping costs!"})]}),E&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create Consolidation Request"}),c.jsxs("form",{onSubmit:V,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Select Packages to Consolidate"}),c.jsx("div",{className:"space-y-2",children:d.map(W=>c.jsxs("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg",children:[c.jsx("input",{type:"checkbox",id:W.id,checked:w.includes(W.id),onChange:$=>ie(W.id,$.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:W.id,className:"ml-3 flex-1 cursor-pointer",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:W.tracking_number}),c.jsx("p",{className:"text-xs text-gray-600",children:W.package_description||W.package_type})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-xs text-gray-600",children:[W.weight_lbs," lbs"]}),c.jsx("p",{className:"text-xs text-gray-600",children:W.destination_country})]})]})})]},W.id))})]}),I&&c.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[c.jsxs("h4",{className:"text-md font-medium text-green-900 mb-2 flex items-center",children:[c.jsx(h1,{className:"h-5 w-5 mr-1"}),"Estimated Savings"]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-green-700",children:"Individual Cost:"}),c.jsxs("p",{className:"font-semibold text-green-900",children:["$",I.individualCost]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-green-700",children:"Consolidated Cost:"}),c.jsxs("p",{className:"font-semibold text-green-900",children:["$",I.consolidatedCost]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-green-700",children:"You Save:"}),c.jsxs("p",{className:"font-semibold text-green-900",children:["$",I.savings," (",I.savingsPercentage,"%)"]})]})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.jsxs("div",{children:[c.jsx("label",{htmlFor:"destinationCountry",className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination Country *"}),c.jsxs("select",{id:"destinationCountry",name:"destinationCountry",value:B.destinationCountry,onChange:ge,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[c.jsx("option",{value:"",children:"Select destination"}),R.map(W=>c.jsx("option",{value:W,children:W},W))]})]})}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"specialInstructions",className:"block text-sm font-medium text-gray-700 mb-1",children:"Special Instructions"}),c.jsx("textarea",{id:"specialInstructions",name:"specialInstructions",value:B.specialInstructions,onChange:ge,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Any special instructions for the consolidation..."})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsxs("button",{type:"button",onClick:()=>{N(!1),A([]),D(null),P({destinationCountry:"",specialInstructions:""})},className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx(Qa,{className:"h-4 w-4 mr-2"}),"Cancel"]}),c.jsxs("button",{type:"submit",disabled:p||w.length<2,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[p?c.jsx(sn,{size:"sm",className:"text-white mr-2"}):c.jsx(Fc,{className:"h-4 w-4 mr-2"}),p?"Creating...":"Create Consolidation"]})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Consolidation Requests"})}),s.length>0?c.jsx("div",{className:"divide-y divide-gray-200",children:s.map(W=>c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:W.destination_country}),c.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${de(W.status)}`,children:W.status.charAt(0).toUpperCase()+W.status.slice(1)})]}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Created on ",H(W.created_at)]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Estimated Savings"}),c.jsxs("p",{className:"text-lg font-semibold text-green-600",children:["$",W.estimated_savings||0]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600 mb-4",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Packages:"})," ",W.total_packages||0]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Total Weight:"})," ",W.total_weight||0," lbs"]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Status:"})," ",W.status]})]}),W.special_instructions&&c.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:[c.jsx("span",{className:"font-medium",children:"Instructions:"})," ",W.special_instructions]}),W.items&&W.items.length>0&&c.jsxs("div",{children:[c.jsx("h5",{className:"text-sm font-medium text-gray-900 mb-2",children:"Included Packages:"}),c.jsx("div",{className:"space-y-1",children:W.items.map($=>c.jsxs("div",{className:"text-xs text-gray-600 pl-4",children:["• ",$.package_description," (",$.weight_lbs," lbs)"]},$.id))})]})]},W.id))}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(u1,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No consolidation requests"}),c.jsx("p",{className:"text-gray-500 mb-4",children:d.length<2?"You need at least 2 packages to create a consolidation request":"Create your first consolidation to save on shipping costs"}),d.length>=2&&c.jsxs("button",{onClick:()=>N(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx(Ga,{className:"h-4 w-4 mr-2"}),"Create Your First Consolidation"]})]})]})]})}function mb({customerAccount:o,onAccountUpdate:s}){const[a,d]=z.useState(!1),[m,p]=z.useState({fullName:"",phone:"",whatsappNotifications:!0,emailNotifications:!0,smsNotifications:!1});z.useEffect(()=>{o&&p({fullName:o.full_name||"",phone:o.phone||"",whatsappNotifications:o.whatsapp_notifications??!0,emailNotifications:o.email_notifications??!0,smsNotifications:o.sms_notifications??!1})},[o]);const v=async N=>{if(N.preventDefault(),!m.fullName){Pe.error("Full name is required");return}d(!0);try{let w="update_account",A={full_name:m.fullName,phone:m.phone,whatsapp_notifications:m.whatsappNotifications,email_notifications:m.emailNotifications,sms_notifications:m.smsNotifications};o||(w="create_account",A={full_name:m.fullName,phone:m.phone,whatsapp_notifications:m.whatsappNotifications,email_notifications:m.emailNotifications,sms_notifications:m.smsNotifications});const{data:I,error:D}=await ot.functions.invoke("manage-customer-account",{body:{action:w,accountData:A}});if(D)throw D;I!=null&&I.data&&(s(Array.isArray(I.data)?I.data[0]:I.data),Pe.success("Account updated successfully!"))}catch(w){console.error("Error updating account:",w),Pe.error(w.message||"Failed to update account")}finally{d(!1)}},E=N=>{const{name:w,value:A,type:I,checked:D}=N.target;p(B=>({...B,[w]:I==="checkbox"?D:A}))};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Account Settings"}),c.jsx("p",{className:"text-gray-600",children:"Manage your personal information and notification preferences"})]}),c.jsxs("form",{onSubmit:v,className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[c.jsx(rh,{className:"h-5 w-5 mr-2"}),"Personal Information"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),c.jsx("input",{type:"text",id:"fullName",name:"fullName",value:m.fullName,onChange:E,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),c.jsx("input",{type:"tel",id:"phone",name:"phone",value:m.phone,onChange:E,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"(xxx) xxx-xxxx"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[c.jsx(d1,{className:"h-5 w-5 mr-2"}),"Notification Preferences"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900",children:"Email Notifications"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Receive updates about your shipments via email"})]}),c.jsx("input",{type:"checkbox",id:"emailNotifications",name:"emailNotifications",checked:m.emailNotifications,onChange:E,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900",children:"WhatsApp Notifications"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Get instant updates on WhatsApp"})]}),c.jsx("input",{type:"checkbox",id:"whatsappNotifications",name:"whatsappNotifications",checked:m.whatsappNotifications,onChange:E,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900",children:"SMS Notifications"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Receive text messages for important updates"})]}),c.jsx("input",{type:"checkbox",id:"smsNotifications",name:"smsNotifications",checked:m.smsNotifications,onChange:E,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})]})]}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:c.jsx("div",{className:"flex justify-end",children:c.jsxs("button",{type:"submit",disabled:a,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[a?c.jsx(sn,{size:"sm",className:"text-white mr-2"}):c.jsx($2,{className:"h-4 w-4 mr-2"}),a?"Saving...":"Save Changes"]})})})]})]})}function gb({customerAccount:o}){const[s,a]=z.useState({totalShipments:0,activeShipments:0,deliveredShipments:0,pendingBookings:0}),[d,m]=z.useState([]),[p,v]=z.useState(!0);z.useEffect(()=>{o&&E()},[o]);const E=async()=>{try{const{data:{user:A}}=await ot.auth.getUser();if(!(A!=null&&A.email)||!o)return;const{data:I}=await ot.from("shipments").select("*").eq("customer_email",A.email).order("created_at",{ascending:!1}).limit(5);let D=0;try{const{data:B}=await ot.functions.invoke("service-booking-system",{body:{action:"get_customer_bookings",bookingData:{customerId:o.id}}});B!=null&&B.data&&(D=B.data.filter(P=>P.status==="pending").length)}catch(B){console.error("Error loading bookings:",B)}if(I){m(I);const B=I.length,P=I.filter(F=>["received","processing","shipped"].includes(F.status)).length,R=I.filter(F=>F.status==="delivered").length;a({totalShipments:B,activeShipments:P,deliveredShipments:R,pendingBookings:D})}}catch(A){console.error("Error loading overview data:",A)}finally{v(!1)}},N=A=>{switch(A){case"delivered":return c.jsx(_r,{className:"h-5 w-5 text-green-500"});case"shipped":return c.jsx(il,{className:"h-5 w-5 text-blue-500"});case"received":case"processing":return c.jsx(un,{className:"h-5 w-5 text-yellow-500"});default:return c.jsx(Xn,{className:"h-5 w-5 text-gray-500"})}},w=A=>{switch(A){case"delivered":return"text-green-600 bg-green-50";case"shipped":return"text-blue-600 bg-blue-50";case"received":case"processing":return"text-yellow-600 bg-yellow-50";default:return"text-gray-600 bg-gray-50"}};return p?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(sn,{size:"lg"})}):c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[c.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Welcome back, ",(o==null?void 0:o.full_name)||"Customer","!"]}),c.jsx("p",{className:"text-gray-600",children:"Manage your shipments, track packages, and schedule services all in one place."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:c.jsx(un,{className:"h-6 w-6 text-blue-600"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Shipments"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.totalShipments})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-3 bg-yellow-50 rounded-lg",children:c.jsx(Xn,{className:"h-6 w-6 text-yellow-600"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Shipments"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.activeShipments})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:c.jsx(_r,{className:"h-6 w-6 text-green-600"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Delivered"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.deliveredShipments})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-3 bg-purple-50 rounded-lg",children:c.jsx(Qs,{className:"h-6 w-6 text-purple-600"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Bookings"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.pendingBookings})]})]})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Shipments"}),c.jsx(Ke,{to:"/customer/dashboard/shipments",className:"text-blue-600 hover:text-blue-700 font-medium",children:"View all →"})]}),d.length>0?c.jsx("div",{className:"space-y-4",children:d.map(A=>c.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[N(A.status),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-900",children:A.tracking_number}),c.jsxs("p",{className:"text-sm text-gray-600",children:["To: ",A.destination_country]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w(A.status)}`,children:A.status.charAt(0).toUpperCase()+A.status.slice(1)}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:new Date(A.created_at).toLocaleDateString()})]})]})},A.id))}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(un,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500",children:"No shipments yet"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Your packages will appear here once they're processed"})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs(Ke,{to:"/tracking",className:"flex items-center space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[c.jsx(un,{className:"h-6 w-6 text-blue-600"}),c.jsx("span",{className:"font-medium text-gray-900",children:"Track Package"})]}),c.jsxs(Ke,{to:"/customer/dashboard/bookings",className:"flex items-center space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[c.jsx(Qs,{className:"h-6 w-6 text-green-600"}),c.jsx("span",{className:"font-medium text-gray-900",children:"Book Service"})]}),c.jsxs(Ke,{to:"/customer/dashboard/addresses",className:"flex items-center space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[c.jsx(Tr,{className:"h-6 w-6 text-purple-600"}),c.jsx("span",{className:"font-medium text-gray-900",children:"Manage Addresses"})]})]})]})]})}function xb(){const{user:o,customerAccount:s,customerLoading:a,isCustomer:d}=fi(),m=zr(),p=Zs(),[v,E]=z.useState("overview");z.useEffect(()=>{const w=m.pathname.split("/").pop();w&&["overview","shipments","addresses","bookings","documents","consolidation","settings"].includes(w)?E(w):E("overview")},[m.pathname]),z.useEffect(()=>{o&&!a&&!d&&(Pe.error("Please complete your customer profile to access all features"),p("/customer/dashboard/settings",{replace:!0}))},[o,d,a,p]);const N=[{id:"overview",name:"Overview",icon:un,href:"/customer/dashboard"},{id:"shipments",name:"My Shipments",icon:un,href:"/customer/dashboard/shipments"},{id:"addresses",name:"Address Book",icon:Tr,href:"/customer/dashboard/addresses"},{id:"bookings",name:"Service Bookings",icon:Qs,href:"/customer/dashboard/bookings"},{id:"documents",name:"Documents",icon:nh,href:"/customer/dashboard/documents"},{id:"consolidation",name:"Package Consolidation",icon:u1,href:"/customer/dashboard/consolidation"},{id:"settings",name:"Account Settings",icon:Z2,href:"/customer/dashboard/settings"}];return a?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(sn,{size:"lg"})}):!d&&v!=="settings"?c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:c.jsxs("div",{className:"text-center py-12",children:[c.jsx(th,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Account Setup Required"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Please complete your customer profile to access all features"}),c.jsx(Ke,{to:"/customer/dashboard/settings",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Complete Profile"})]})})})}):c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("div",{className:"bg-white shadow-sm border-b",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Customer Portal"}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Welcome back, ",(s==null?void 0:s.full_name)||(o==null?void 0:o.email)]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors relative",children:[c.jsx(d1,{className:"h-5 w-5"}),c.jsx("span",{className:"absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-400 ring-2 ring-white"})]}),c.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:c.jsx(Jo,{className:"h-5 w-5"})})]})]})})}),c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[c.jsxs("div",{className:"lg:w-64 flex-shrink-0",children:[c.jsx("nav",{className:"bg-white rounded-lg shadow-sm p-4",children:c.jsx("div",{className:"space-y-2",children:N.map(w=>{const A=w.icon,I=v===w.id;return c.jsxs(Ke,{to:w.href,className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${I?"bg-blue-50 text-blue-600 border-r-2 border-blue-600":"text-gray-700 hover:bg-gray-50 hover:text-blue-600"}`,children:[c.jsx(A,{className:"h-5 w-5"}),c.jsx("span",{className:"font-medium",children:w.name})]},w.id)})})}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mt-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Stats"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Active Shipments"}),c.jsx("span",{className:"text-sm font-semibold text-blue-600",children:s?s.active_shipments||0:"—"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Total Packages"}),c.jsx("span",{className:"text-sm font-semibold text-green-600",children:s?s.total_packages||0:"—"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Saved Addresses"}),c.jsx("span",{className:"text-sm font-semibold text-purple-600",children:s?s.saved_addresses||0:"—"})]})]})]})]}),c.jsx("div",{className:"flex-1",children:c.jsxs($d,{children:[c.jsx(rn,{path:"/",element:c.jsx(gb,{customerAccount:s})}),c.jsx(rn,{path:"/shipments",element:c.jsx(ow,{customerAccount:s})}),c.jsx(rn,{path:"/addresses",element:c.jsx(hw,{customerAccount:s})}),c.jsx(rn,{path:"/bookings",element:c.jsx(fw,{customerAccount:s})}),c.jsx(rn,{path:"/documents",element:c.jsx(fb,{customerAccount:s})}),c.jsx(rn,{path:"/consolidation",element:c.jsx(pb,{customerAccount:s})}),c.jsx(rn,{path:"/settings",element:c.jsx(mb,{customerAccount:s,onAccountUpdate:()=>{}})})]})})]})})]})}function Ap({children:o,requireStaff:s=!1,requireCustomer:a=!1}){const{user:d,loading:m,isStaff:p,isCustomer:v,staffLoading:E,customerLoading:N}=fi(),w=zr();return m||E||N?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(sn,{size:"lg"})}):d?s&&!p?c.jsx(Fa,{to:"/staff/login",replace:!0,state:{from:w}}):a&&!v?c.jsx(Fa,{to:"/customer/login",replace:!0,state:{from:w}}):c.jsx(c.Fragment,{children:o}):a?c.jsx(Fa,{to:"/customer/login",replace:!0,state:{from:w}}):s?c.jsx(Fa,{to:"/staff/login",replace:!0,state:{from:w}}):c.jsx(Fa,{to:"/customer/login",replace:!0,state:{from:w}})}function yb(){const{user:o}=fi(),[s,a]=z.useState(!1),[d,m]=z.useState(!1),[p,v]=z.useState([]),[E,N]=z.useState(""),[w,A]=z.useState(""),[I,D]=z.useState(!1),[B,P]=z.useState(0),R=z.useRef(null),[F,J]=z.useState(!1);z.useEffect(()=>{if(o&&s){const H=`customer_${o.id}_${Date.now()}`;A(H),K(H);const W=ot.channel(`chat_${H}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`chat_room_id=eq.${H}`},$=>{const Se=$.new;v(ke=>[...ke,Se]),Se.sender_type==="staff"&&!s&&P(ke=>ke+1)}).subscribe();return()=>{W.unsubscribe()}}},[o,s]),z.useEffect(()=>{ie()},[p]),z.useEffect(()=>{s&&P(0)},[s]);const K=async H=>{try{const{data:W,error:$}=await ot.from("chat_messages").select("*").eq("chat_room_id",H).order("sent_at",{ascending:!0});if($){console.error("Error loading messages:",$);return}v(W||[])}catch(W){console.error("Error loading chat messages:",W)}},V=async H=>{if(H.preventDefault(),!(!E.trim()||!w||!o)){J(!0);try{const{error:W}=await ot.from("chat_messages").insert({chat_room_id:w,sender_id:o.id,sender_type:"customer",message_content:E.trim(),message_type:"text"});if(W)throw W;N("")}catch(W){console.error("Error sending message:",W),Pe.error("Failed to send message")}finally{J(!1)}}},ie=()=>{var H;(H=R.current)==null||H.scrollIntoView({behavior:"smooth"})},ge=H=>new Date(H).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),de=()=>{a(!s),s||m(!1)};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:c.jsxs("button",{onClick:de,className:"relative bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full shadow-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx(Jo,{className:"h-6 w-6"}),B>0&&c.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:B>9?"9+":B})]})}),s&&c.jsxs("div",{className:`fixed bottom-20 right-6 z-40 bg-white rounded-lg shadow-xl border transition-all duration-300 ${d?"h-12":"h-96"} w-80 flex flex-col`,children:[c.jsxs("div",{className:"bg-blue-600 text-white p-4 rounded-t-lg flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"h-2 w-2 bg-green-400 rounded-full"}),c.jsx("span",{className:"font-medium",children:"Customer Support"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>m(!d),className:"text-white hover:text-gray-200 transition-colors",children:d?c.jsx(V2,{className:"h-4 w-4"}):c.jsx(Y2,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>a(!1),className:"text-white hover:text-gray-200 transition-colors",children:c.jsx(Qa,{className:"h-4 w-4"})})]})]}),!d&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[p.length===0&&c.jsxs("div",{className:"text-center text-gray-500 py-8",children:[c.jsx(Jo,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),c.jsx("p",{className:"text-sm",children:"Start a conversation with our support team"})]}),p.map(H=>c.jsx("div",{className:`flex ${H.sender_type==="customer"?"justify-end":"justify-start"}`,children:c.jsxs("div",{className:`max-w-xs px-3 py-2 rounded-lg text-sm ${H.sender_type==="customer"?"bg-blue-600 text-white":"bg-gray-200 text-gray-900"}`,children:[c.jsx("p",{children:H.message_content}),c.jsxs("div",{className:`flex items-center mt-1 space-x-1 text-xs ${H.sender_type==="customer"?"text-blue-100":"text-gray-500"}`,children:[c.jsx(Xn,{className:"h-3 w-3"}),c.jsx("span",{children:ge(H.sent_at)})]})]})},H.id)),I&&c.jsx("div",{className:"flex justify-start",children:c.jsx("div",{className:"bg-gray-200 text-gray-900 px-3 py-2 rounded-lg text-sm",children:c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsxs("div",{className:"flex space-x-1",children:[c.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),c.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),c.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),c.jsx("span",{className:"text-xs text-gray-500",children:"Support is typing..."})]})})}),c.jsx("div",{ref:R})]}),c.jsx("div",{className:"p-4 border-t",children:c.jsxs("form",{onSubmit:V,className:"flex space-x-2",children:[c.jsx("input",{type:"text",value:E,onChange:H=>N(H.target.value),placeholder:"Type your message...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",disabled:F}),c.jsx("button",{type:"submit",disabled:F||!E.trim(),className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white p-2 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:c.jsx(p1,{className:"h-4 w-4"})})]})})]})]})]})}function vb(){return c.jsx("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center items-center text-center py-20",children:c.jsxs("div",{className:"max-w-md mx-auto px-4",children:[c.jsx("div",{className:"text-blue-600",children:c.jsx("svg",{className:"w-32 h-32 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsx("h1",{className:"mt-8 text-4xl font-bold text-gray-900 tracking-tight sm:text-5xl",children:"404 - Page Not Found"}),c.jsx("p",{className:"mt-6 text-lg text-gray-600",children:"Oops! The page you're looking for doesn't exist. It might have been moved or deleted."}),c.jsxs("div",{className:"mt-10 flex flex-col sm:flex-row items-center justify-center gap-4",children:[c.jsxs(Ke,{to:"/",className:"inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[c.jsx(U2,{className:"mr-2 -ml-1 h-5 w-5"}),"Go to Homepage"]}),c.jsxs(Ke,{to:"/tracking",className:"inline-flex items-center justify-center px-6 py-3 border border-gray-300 text-base font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[c.jsx(ti,{className:"mr-2 -ml-1 h-5 w-5"}),"Track a Package"]})]})]})})}function wb(){const{loading:o}=fi();return o?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(sn,{size:"lg"})}):c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx(tv,{}),c.jsx("main",{className:"flex-1",children:c.jsxs($d,{children:[c.jsx(rn,{path:"/",element:c.jsx(rv,{})}),c.jsx(rn,{path:"/tracking",element:c.jsx(iv,{})}),c.jsx(rn,{path:"/services",element:c.jsx(sv,{})}),c.jsx(rn,{path:"/about",element:c.jsx(av,{})}),c.jsx(rn,{path:"/contact",element:c.jsx(ov,{})}),c.jsx(rn,{path:"/faq",element:c.jsx(lv,{})}),c.jsx(rn,{path:"/staff/login",element:c.jsx(cv,{})}),c.jsx(rn,{path:"/staff/dashboard/*",element:c.jsx(Ap,{requireStaff:!0,children:c.jsx(iw,{})})}),c.jsx(rn,{path:"/customer/login",element:c.jsx(sw,{})}),c.jsx(rn,{path:"/customer/register",element:c.jsx(aw,{})}),c.jsx(rn,{path:"/customer/dashboard/*",element:c.jsx(Ap,{requireCustomer:!0,children:c.jsx(xb,{})})}),c.jsx(rn,{path:"*",element:c.jsx(vb,{})})]})}),c.jsx(nv,{}),c.jsx(yb,{}),c.jsx(_2,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})}Mm.createRoot(document.getElementById("root")).render(c.jsx(z.StrictMode,{children:c.jsx(jg,{children:c.jsx(I2,{children:c.jsx(wb,{})})})}));
